{"ast":null,"code":"var _jsxFileName = \"D:\\\\DA_TichHop\\\\HMS_AI Hotel\\\\client\\\\src\\\\AdminUsers.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport './HomePage.css';\nimport { authHeaders } from './auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminUsers({\n  isModal,\n  onClose\n}) {\n  _s();\n  const [q, setQ] = useState('');\n  const [users, setUsers] = useState([]);\n  const [selectedUserId, setSelectedUserId] = useState(null);\n  const [roles, setRoles] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [isCreateOpen, setIsCreateOpen] = useState(false);\n  const [creating, setCreating] = useState(false); // submitting state\n  const [newUser, setNewUser] = useState({\n    name: '',\n    email: '',\n    password: '',\n    roleId: ''\n  });\n  const [newErrors, setNewErrors] = useState({});\n  const computedErrors = useMemo(() => {\n    const e = {};\n    const emailRe = /^\\S+@\\S+\\.\\S+$/;\n    if (!newUser.name || !newUser.name.trim()) e.name = 'Vui lòng nhập tên';\n    if (!newUser.email || !emailRe.test(newUser.email)) e.email = 'Email không hợp lệ';\n    if (!newUser.password || String(newUser.password).length < 6) e.password = 'Mật khẩu tối thiểu 6 ký tự';\n    if (!newUser.roleId || Number.isNaN(Number(newUser.roleId))) e.roleId = 'Vui lòng chọn quyền';\n    return e;\n  }, [newUser]);\n  const isFormValid = useMemo(() => Object.keys(computedErrors).length === 0, [computedErrors]);\n  const tooltipText = useMemo(() => {\n    if (isFormValid || creating) return '';\n    const msgs = [];\n    if (computedErrors.name) msgs.push(computedErrors.name);\n    if (computedErrors.email) msgs.push(computedErrors.email);\n    if (computedErrors.password) msgs.push(computedErrors.password);\n    if (computedErrors.roleId) msgs.push(computedErrors.roleId);\n    return msgs.join('; ');\n  }, [computedErrors, isFormValid, creating]);\n  const fetchUsers = async (queryVal = q) => {\n    setLoading(true);\n    setError('');\n    try {\n      const uRes = await fetch(`/api/admin/users${queryVal ? '?q=' + encodeURIComponent(queryVal) : ''}`, {\n        headers: {\n          ...authHeaders()\n        }\n      });\n      if (!uRes.ok) throw new Error('Không tải được người dùng');\n      const uj = await uRes.json();\n      setUsers(Array.isArray(uj.users) ? uj.users : []);\n    } catch (e) {\n      setError(e.message || 'Lỗi tải dữ liệu');\n      setUsers([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  // Fetch roles once\n  useEffect(() => {\n    (async () => {\n      try {\n        const rRes = await fetch('/api/admin/roles', {\n          headers: {\n            ...authHeaders()\n          }\n        });\n        if (rRes.ok) {\n          const rj = await rRes.json();\n          setRoles(Array.isArray(rj.roles) ? rj.roles : []);\n        }\n      } catch {}\n    })();\n  }, []);\n  useEffect(() => {\n    fetchUsers('');\n  }, []);\n\n  // Live filter as user types (debounced)\n  const debounceRef = useRef(null);\n  useEffect(() => {\n    if (debounceRef.current) clearTimeout(debounceRef.current);\n    debounceRef.current = setTimeout(() => {\n      fetchUsers(q);\n    }, 250);\n    return () => {\n      if (debounceRef.current) clearTimeout(debounceRef.current);\n    };\n  }, [q]);\n  const roleOptions = useMemo(() => roles.map(r => ({\n    value: r.id,\n    label: r.name\n  })), [roles]);\n  const updateUserField = (id, field, value) => {\n    setUsers(prev => prev.map(u => u.id === id ? {\n      ...u,\n      [field]: value\n    } : u));\n  };\n  const handleSave = async u => {\n    try {\n      const res = await fetch(`/api/admin/users/${u.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          ...authHeaders()\n        },\n        body: JSON.stringify({\n          name: u.name,\n          email: u.email,\n          phone: u.phone,\n          address: u.address,\n          roleId: u.roleId,\n          status: u.status && u.status.toLowerCase().includes('khóa') ? 'Block' : 'Active'\n        })\n      });\n      if (!res.ok) throw new Error('Lưu thất bại');\n      await fetchUsers(q);\n      alert('Đã lưu');\n    } catch (e) {\n      alert(e.message || 'Lỗi lưu');\n    }\n  };\n  const handleDelete = async u => {\n    if (!window.confirm('Xóa người dùng này?')) return;\n    try {\n      const res = await fetch(`/api/admin/users/${u.id}`, {\n        method: 'DELETE',\n        headers: {\n          ...authHeaders()\n        }\n      });\n      if (!res.ok) throw new Error('Xóa thất bại');\n      await fetchUsers(q);\n    } catch (e) {\n      alert(e.message || 'Lỗi xóa');\n    }\n  };\n  const handleLockToggle = async (u, lock) => {\n    // Optimistic UI update\n    const prevStatus = u.status;\n    setUsers(prev => prev.map(x => x.id === u.id ? {\n      ...x,\n      status: lock ? 'Khóa' : 'Hoạt động'\n    } : x));\n    try {\n      const res = await fetch(`/api/admin/users/${u.id}/lock`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          ...authHeaders()\n        },\n        body: JSON.stringify({\n          lock\n        })\n      });\n      if (!res.ok) throw new Error('Cập nhật trạng thái thất bại');\n      // Refresh background (silent)\n      fetchUsers(q);\n    } catch (e) {\n      // Revert\n      setUsers(prev => prev.map(x => x.id === u.id ? {\n        ...x,\n        status: prevStatus\n      } : x));\n      alert(e.message || 'Lỗi');\n    }\n  };\n  const validateNew = u => {\n    const errs = {};\n    const emailRe = /^\\S+@\\S+\\.\\S+$/;\n    if (!u.name || !u.name.trim()) errs.name = 'Vui lòng nhập tên';\n    if (!u.email || !emailRe.test(u.email)) errs.email = 'Email không hợp lệ';\n    if (!u.password || String(u.password).length < 6) errs.password = 'Mật khẩu tối thiểu 6 ký tự';\n    if (!u.roleId || Number.isNaN(Number(u.roleId))) errs.roleId = 'Vui lòng chọn quyền';\n    return errs;\n  };\n  const handleNewUser = async () => {\n    const errs = validateNew(newUser);\n    setNewErrors(errs);\n    if (Object.keys(errs).length) return;\n    setCreating(true);\n    try {\n      const payload = {\n        name: newUser.name.trim(),\n        email: newUser.email.trim(),\n        password: newUser.password,\n        roleId: Number(newUser.roleId)\n      };\n      const res = await fetch('/api/admin/users', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...authHeaders()\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!res.ok) {\n        let msg = 'Tạo thất bại';\n        try {\n          const data = await res.json();\n          if (data && data.message) msg = data.message;\n        } catch {\n          const txt = await res.text();\n          if (txt) msg = txt;\n        }\n        throw new Error(msg);\n      }\n      setNewUser({\n        name: '',\n        email: '',\n        password: '',\n        roleId: ''\n      });\n      setNewErrors({});\n      await fetchUsers(q);\n      setCreating(false);\n      alert('Tạo người dùng thành công');\n      setIsCreateOpen(false);\n    } catch (e) {\n      alert(e.message || 'Lỗi tạo');\n      setCreating(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-users\",\n    style: {\n      padding: isModal ? 0 : '80px 12px 20px'\n    },\n    children: [!isModal && /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"home-header\",\n      style: {\n        position: 'sticky',\n        top: 0\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home-header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/logo.png\",\n          alt: \"logo\",\n          className: \"home-header-logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 163,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          className: \"home-header-title home-header-home-btn\",\n          children: \"TRANG CH\\u1EE6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ph-table\",\n      style: {\n        padding: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"home-rooms-title\",\n        style: {\n          textAlign: 'left',\n          marginTop: 0\n        },\n        children: \"Qu\\u1EA3n l\\xFD ng\\u01B0\\u1EDDi d\\xF9ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => e.preventDefault(),\n        className: \"au-toolbar\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"au-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"au-input\",\n            placeholder: \"T\\xECm ki\\u1EBFm ng\\u01B0\\u1EDDi d\\xF9ng...\",\n            value: q,\n            onChange: e => setQ(e.target.value)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"ph-btn ph-btn--secondary\",\n            type: \"button\",\n            onClick: () => {\n              setQ('');\n              fetchUsers('');\n            },\n            children: \"L\\xE0m m\\u1EDBi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ph-btn au-add-btn\",\n          type: \"button\",\n          onClick: () => {\n            setIsCreateOpen(true);\n            setNewErrors({});\n          },\n          children: \"+ Th\\xEAm ng\\u01B0\\u1EDDi d\\xF9ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 175,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#666'\n        },\n        children: \"\\u0110ang t\\u1EA3i...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 20\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#b42318'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 78\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ph-tr ph-head\",\n          style: {\n            gridTemplateColumns: '70px 1.2fr 1.6fr 1.1fr 0.9fr 1.1fr 1.2fr'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: \"T\\xEAn\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: \"Email\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 182,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: \"S\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 183,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: \"Tr\\u1EA1ng th\\xE1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: \"Ph\\xE2n quy\\u1EC1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: \"H\\xE0nh \\u0111\\u1ED9ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 186,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), users.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ph-td\",\n          style: {\n            padding: 12,\n            color: '#666'\n          },\n          children: \"Kh\\xF4ng c\\xF3 ng\\u01B0\\u1EDDi d\\xF9ng n\\xE0o.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 15\n        }, this) : users.map((u, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ph-tr au-row\" + (selectedUserId === u.id ? ' au-row--selected' : ''),\n          style: {\n            gridTemplateColumns: '70px 1.2fr 1.6fr 1.1fr 0.9fr 1.1fr 1.2fr',\n            '--row-index': idx\n          },\n          onClick: () => setSelectedUserId(u.id),\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: u.id\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              value: u.name || '',\n              onFocus: () => setSelectedUserId(u.id),\n              onChange: e => updateUserField(u.id, 'name', e.target.value),\n              style: {\n                width: '100%',\n                border: '1px solid #eee',\n                borderRadius: 6,\n                padding: '6px 8px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              value: u.email || '',\n              onFocus: () => setSelectedUserId(u.id),\n              onChange: e => updateUserField(u.id, 'email', e.target.value),\n              style: {\n                width: '100%',\n                border: '1px solid #eee',\n                borderRadius: 6,\n                padding: '6px 8px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 199,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              value: u.phone || '',\n              onFocus: () => setSelectedUserId(u.id),\n              onChange: e => updateUserField(u.id, 'phone', e.target.value),\n              style: {\n                width: '100%',\n                border: '1px solid #eee',\n                borderRadius: 6,\n                padding: '6px 8px'\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 200,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 200,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"au-status-badge \" + ((u.status || '').toLowerCase().includes('khóa') ? 'blocked' : 'active'),\n              children: (u.status || '').toLowerCase().includes('khóa') ? 'Khóa' : 'Hoạt động'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 202,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              value: u.roleId || '',\n              onFocus: () => setSelectedUserId(u.id),\n              onChange: e => updateUserField(u.id, 'roleId', Number(e.target.value)),\n              style: {\n                width: '100%',\n                border: '1px solid #ddd',\n                borderRadius: 6,\n                padding: '6px 8px'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"\\u2014\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 21\n              }, this), roleOptions.map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: r.value,\n                children: r.label\n              }, r.value, false, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 43\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ph-btn\",\n              onClick: () => handleSave(u),\n              type: \"button\",\n              children: \"L\\u01B0u\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 213,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ph-btn ph-btn--secondary\",\n              onClick: () => handleDelete(u),\n              type: \"button\",\n              children: \"X\\xF3a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 214,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `ph-btn ${u.status === 'Khóa' ? 'unlock' : 'lock'}`,\n              onClick: () => handleLockToggle(u, !(u.status === 'Khóa')),\n              type: \"button\",\n              children: u.status === 'Khóa' ? 'Mở khóa' : 'Khóa'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 215,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 17\n          }, this)]\n        }, u.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 7\n    }, this), isCreateOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-overlay\",\n      onMouseDown: e => {\n        if (e.target === e.currentTarget) setIsCreateOpen(false);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-modal\",\n        onMouseDown: e => e.stopPropagation(),\n        style: {\n          width: 640,\n          maxWidth: '98%'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ph-table\",\n          style: {\n            padding: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginTop: 0\n            },\n            children: \"Th\\xEAm ng\\u01B0\\u1EDDi d\\xF9ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"au-create\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"T\\xEAn\", /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"Nh\\u1EADp t\\xEAn\",\n                className: !computedErrors.name ? '' : 'au-error',\n                value: newUser.name,\n                onChange: e => {\n                  setNewUser({\n                    ...newUser,\n                    name: e.target.value\n                  });\n                  if (newErrors.name) setNewErrors({\n                    ...newErrors,\n                    name: undefined\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 19\n              }, this), newErrors.name ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: '#b42318',\n                  fontSize: 12,\n                  marginTop: 4\n                },\n                children: newErrors.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 231,\n                columnNumber: 37\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Email\", /*#__PURE__*/_jsxDEV(\"input\", {\n                placeholder: \"v\\xED d\\u1EE5: user@example.com\",\n                className: !computedErrors.email ? '' : 'au-error',\n                value: newUser.email,\n                onChange: e => {\n                  setNewUser({\n                    ...newUser,\n                    email: e.target.value\n                  });\n                  if (newErrors.email) setNewErrors({\n                    ...newErrors,\n                    email: undefined\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this), newErrors.email ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: '#b42318',\n                  fontSize: 12,\n                  marginTop: 4\n                },\n                children: newErrors.email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 38\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"M\\u1EADt kh\\u1EA9u\", /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                placeholder: \"T\\u1ED1i thi\\u1EC3u 6 k\\xFD t\\u1EF1\",\n                className: !computedErrors.password ? '' : 'au-error',\n                value: newUser.password,\n                onChange: e => {\n                  setNewUser({\n                    ...newUser,\n                    password: e.target.value\n                  });\n                  if (newErrors.password) setNewErrors({\n                    ...newErrors,\n                    password: undefined\n                  });\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 19\n              }, this), newErrors.password ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: '#b42318',\n                  fontSize: 12,\n                  marginTop: 4\n                },\n                children: newErrors.password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 239,\n                columnNumber: 41\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n              children: [\"Quy\\u1EC1n\", /*#__PURE__*/_jsxDEV(\"select\", {\n                className: !computedErrors.roleId ? '' : 'au-error',\n                value: newUser.roleId,\n                onChange: e => {\n                  const val = e.target.value;\n                  setNewUser({\n                    ...newUser,\n                    roleId: val ? Number(val) : ''\n                  });\n                  if (newErrors.roleId) setNewErrors({\n                    ...newErrors,\n                    roleId: undefined\n                  });\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"\\u2014\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 21\n                }, this), roles.map(r => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: r.id,\n                  children: r.name\n                }, r.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 244,\n                  columnNumber: 36\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 19\n              }, this), newErrors.roleId ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  color: '#b42318',\n                  fontSize: 12,\n                  marginTop: 4\n                },\n                children: newErrors.roleId\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 39\n              }, this) : null]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 241,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 12,\n              display: 'flex',\n              gap: 8,\n              justifyContent: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              title: !isFormValid && !creating ? tooltipText : '',\n              style: {\n                display: 'inline-block'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"ph-btn\",\n                onClick: handleNewUser,\n                disabled: creating || !isFormValid,\n                type: \"button\",\n                children: creating ? 'Đang tạo...' : 'Tạo'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 251,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 250,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ph-btn ph-btn--secondary\",\n              onClick: () => setIsCreateOpen(false),\n              type: \"button\",\n              children: \"H\\u1EE7y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 249,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .au-toolbar { display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin-bottom:10px; }\n        .au-row { position:relative; animation:auRowIn .45s cubic-bezier(.4,.2,.2,1) both; }\n        .au-row:nth-child(odd) { background:linear-gradient(90deg,#fafafa,transparent); }\n        @keyframes auRowIn { from { opacity:0; transform:translateY(6px); } to { opacity:1; transform:translateY(0); } }\n        .au-row--selected { box-shadow:0 0 0 2px #4e8df7 inset; background:#f0f6ff !important; }\n        .au-row--selected input, .au-row--selected select { background:#fff; }\n        .au-row input:focus, .au-row select:focus { outline:none; border-color:#4e8df7; box-shadow:0 0 0 2px rgba(78,141,247,.25); }\n        .ph-btn.lock { background:#ffb347; border:none; }\n        .ph-btn.unlock { background:#3fb97d; border:none; }\n        .ph-btn.lock:hover { filter:brightness(.95); }\n        .ph-btn.unlock:hover { filter:brightness(.95); }\n        .ph-btn.lock:active, .ph-btn.unlock:active { transform:translateY(1px); }\n        .au-create label { display:flex; flex-direction:column; gap:4px; }\n        .au-create input, .au-create select { border:1px solid #d0d5dd; border-radius:6px; padding:8px 10px; font-size:14px; transition:border-color .2s, box-shadow .25s; }\n        .au-create input:focus, .au-create select:focus { border-color:#4e8df7; box-shadow:0 0 0 3px rgba(78,141,247,.2); outline:none; }\n        .au-create .au-error { border-color:#d92d20 !important; box-shadow:0 0 0 2px rgba(217,45,32,.15); }\n        .au-add-btn { transition:transform .25s, box-shadow .25s; }\n        .au-add-btn:hover { transform:translateY(-2px); box-shadow:0 4px 12px -2px rgba(0,0,0,.15); }\n        .au-status-badge { padding:6px 10px; border-radius:20px; font-size:13px; font-weight:500; text-align:center; line-height:1; display:inline-block; min-width:88px; }\n        .au-status-badge.active { color:#137333; background:#e6f4ea; border:1px solid #a8d5b8; }\n        .au-status-badge.blocked { color:#b42318; background:#fbeaea; border:1px solid #f2b0aa; }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 159,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminUsers, \"RsN+D+WBIy59D04Puj7drkg1iwQ=\");\n_c = AdminUsers;\nvar _c;\n$RefreshReg$(_c, \"AdminUsers\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","authHeaders","jsxDEV","_jsxDEV","AdminUsers","isModal","onClose","_s","q","setQ","users","setUsers","selectedUserId","setSelectedUserId","roles","setRoles","loading","setLoading","error","setError","isCreateOpen","setIsCreateOpen","creating","setCreating","newUser","setNewUser","name","email","password","roleId","newErrors","setNewErrors","computedErrors","e","emailRe","trim","test","String","length","Number","isNaN","isFormValid","Object","keys","tooltipText","msgs","push","join","fetchUsers","queryVal","uRes","fetch","encodeURIComponent","headers","ok","Error","uj","json","Array","isArray","message","rRes","rj","debounceRef","current","clearTimeout","setTimeout","roleOptions","map","r","value","id","label","updateUserField","field","prev","u","handleSave","res","method","body","JSON","stringify","phone","address","status","toLowerCase","includes","alert","handleDelete","window","confirm","handleLockToggle","lock","prevStatus","x","validateNew","errs","handleNewUser","payload","msg","data","txt","text","className","style","padding","children","position","top","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","href","textAlign","marginTop","onSubmit","preventDefault","placeholder","onChange","target","type","onClick","color","gridTemplateColumns","idx","onFocus","width","border","borderRadius","onMouseDown","currentTarget","stopPropagation","maxWidth","undefined","fontSize","val","display","gap","justifyContent","title","disabled","_c","$RefreshReg$"],"sources":["D:/DA_TichHop/HMS_AI Hotel/client/src/AdminUsers.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState } from 'react';\r\nimport './HomePage.css';\r\nimport { authHeaders } from './auth';\r\n\r\nexport default function AdminUsers({ isModal, onClose }) {\r\n  const [q, setQ] = useState('');\r\n  const [users, setUsers] = useState([]);\r\n  const [selectedUserId, setSelectedUserId] = useState(null);\r\n  const [roles, setRoles] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [isCreateOpen, setIsCreateOpen] = useState(false);\r\n  const [creating, setCreating] = useState(false); // submitting state\r\n  const [newUser, setNewUser] = useState({ name: '', email: '', password: '', roleId: '' });\r\n  const [newErrors, setNewErrors] = useState({});\r\n  const computedErrors = useMemo(() => {\r\n    const e = {};\r\n    const emailRe = /^\\S+@\\S+\\.\\S+$/;\r\n    if (!newUser.name || !newUser.name.trim()) e.name = 'Vui lòng nhập tên';\r\n    if (!newUser.email || !emailRe.test(newUser.email)) e.email = 'Email không hợp lệ';\r\n    if (!newUser.password || String(newUser.password).length < 6) e.password = 'Mật khẩu tối thiểu 6 ký tự';\r\n    if (!newUser.roleId || Number.isNaN(Number(newUser.roleId))) e.roleId = 'Vui lòng chọn quyền';\r\n    return e;\r\n  }, [newUser]);\r\n  const isFormValid = useMemo(() => Object.keys(computedErrors).length === 0, [computedErrors]);\r\n  const tooltipText = useMemo(() => {\r\n    if (isFormValid || creating) return '';\r\n    const msgs = [];\r\n    if (computedErrors.name) msgs.push(computedErrors.name);\r\n    if (computedErrors.email) msgs.push(computedErrors.email);\r\n    if (computedErrors.password) msgs.push(computedErrors.password);\r\n    if (computedErrors.roleId) msgs.push(computedErrors.roleId);\r\n    return msgs.join('; ');\r\n  }, [computedErrors, isFormValid, creating]);\r\n\r\n  const fetchUsers = async (queryVal = q) => {\r\n    setLoading(true); setError('');\r\n    try {\r\n  const uRes = await fetch(`/api/admin/users${queryVal ? ('?q=' + encodeURIComponent(queryVal)) : ''}`, { headers: { ...authHeaders() } });\r\n      if (!uRes.ok) throw new Error('Không tải được người dùng');\r\n      const uj = await uRes.json();\r\n      setUsers(Array.isArray(uj.users) ? uj.users : []);\r\n    } catch (e) {\r\n      setError(e.message || 'Lỗi tải dữ liệu');\r\n      setUsers([]);\r\n    } finally { setLoading(false); }\r\n  };\r\n\r\n  // Fetch roles once\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n  const rRes = await fetch('/api/admin/roles', { headers: { ...authHeaders() } });\r\n        if (rRes.ok) {\r\n          const rj = await rRes.json();\r\n          setRoles(Array.isArray(rj.roles) ? rj.roles : []);\r\n        }\r\n      } catch {}\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => { fetchUsers(''); }, []);\r\n\r\n  // Live filter as user types (debounced)\r\n  const debounceRef = useRef(null);\r\n  useEffect(() => {\r\n    if (debounceRef.current) clearTimeout(debounceRef.current);\r\n    debounceRef.current = setTimeout(() => { fetchUsers(q); }, 250);\r\n    return () => { if (debounceRef.current) clearTimeout(debounceRef.current); };\r\n  }, [q]);\r\n\r\n  const roleOptions = useMemo(() => roles.map(r => ({ value: r.id, label: r.name })), [roles]);\r\n\r\n  const updateUserField = (id, field, value) => {\r\n    setUsers(prev => prev.map(u => u.id === id ? { ...u, [field]: value } : u));\r\n  };\r\n\r\n  const handleSave = async (u) => {\r\n    try {\r\n      const res = await fetch(`/api/admin/users/${u.id}`, {\r\n        method: 'PUT', headers: { 'Content-Type': 'application/json', ...authHeaders() },\r\n        body: JSON.stringify({ name: u.name, email: u.email, phone: u.phone, address: u.address, roleId: u.roleId, status: (u.status && u.status.toLowerCase().includes('khóa')) ? 'Block' : 'Active' })\r\n      });\r\n      if (!res.ok) throw new Error('Lưu thất bại');\r\n      await fetchUsers(q);\r\n      alert('Đã lưu');\r\n    } catch (e) { alert(e.message || 'Lỗi lưu'); }\r\n  };\r\n\r\n  const handleDelete = async (u) => {\r\n    if (!window.confirm('Xóa người dùng này?')) return;\r\n    try {\r\n  const res = await fetch(`/api/admin/users/${u.id}`, { method: 'DELETE', headers: { ...authHeaders() } });\r\n      if (!res.ok) throw new Error('Xóa thất bại');\r\n      await fetchUsers(q);\r\n    } catch (e) { alert(e.message || 'Lỗi xóa'); }\r\n  };\r\n\r\n  const handleLockToggle = async (u, lock) => {\r\n    // Optimistic UI update\r\n    const prevStatus = u.status;\r\n    setUsers(prev => prev.map(x => x.id===u.id ? { ...x, status: lock ? 'Khóa' : 'Hoạt động' } : x));\r\n    try {\r\n      const res = await fetch(`/api/admin/users/${u.id}/lock`, { method: 'PUT', headers: { 'Content-Type': 'application/json', ...authHeaders() }, body: JSON.stringify({ lock }) });\r\n      if (!res.ok) throw new Error('Cập nhật trạng thái thất bại');\r\n      // Refresh background (silent)\r\n      fetchUsers(q);\r\n    } catch (e) {\r\n      // Revert\r\n      setUsers(prev => prev.map(x => x.id===u.id ? { ...x, status: prevStatus } : x));\r\n      alert(e.message || 'Lỗi');\r\n    }\r\n  };\r\n\r\n  const validateNew = (u) => {\r\n    const errs = {};\r\n    const emailRe = /^\\S+@\\S+\\.\\S+$/;\r\n    if (!u.name || !u.name.trim()) errs.name = 'Vui lòng nhập tên';\r\n    if (!u.email || !emailRe.test(u.email)) errs.email = 'Email không hợp lệ';\r\n    if (!u.password || String(u.password).length < 6) errs.password = 'Mật khẩu tối thiểu 6 ký tự';\r\n    if (!u.roleId || Number.isNaN(Number(u.roleId))) errs.roleId = 'Vui lòng chọn quyền';\r\n    return errs;\r\n  };\r\n\r\n  const handleNewUser = async () => {\r\n    const errs = validateNew(newUser);\r\n    setNewErrors(errs);\r\n    if (Object.keys(errs).length) return;\r\n    setCreating(true);\r\n    try {\r\n      const payload = {\r\n        name: newUser.name.trim(),\r\n        email: newUser.email.trim(),\r\n        password: newUser.password,\r\n        roleId: Number(newUser.roleId)\r\n      };\r\n  const res = await fetch('/api/admin/users', { method: 'POST', headers: { 'Content-Type': 'application/json', ...authHeaders() }, body: JSON.stringify(payload) });\r\n      if (!res.ok) {\r\n        let msg = 'Tạo thất bại';\r\n        try {\r\n          const data = await res.json();\r\n          if (data && data.message) msg = data.message;\r\n        } catch {\r\n          const txt = await res.text();\r\n          if (txt) msg = txt;\r\n        }\r\n        throw new Error(msg);\r\n      }\r\n      setNewUser({ name: '', email: '', password: '', roleId: '' });\r\n      setNewErrors({});\r\n      await fetchUsers(q);\r\n      setCreating(false);\r\n      alert('Tạo người dùng thành công');\r\n      setIsCreateOpen(false);\r\n    } catch (e) { alert(e.message || 'Lỗi tạo'); setCreating(false); }\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-users\" style={{ padding: isModal ? 0 : '80px 12px 20px' }}>\r\n      {!isModal && (\r\n        <header className=\"home-header\" style={{ position: 'sticky', top: 0 }}>\r\n          <div className=\"home-header-left\">\r\n            <img src=\"/logo.png\" alt=\"logo\" className=\"home-header-logo\" />\r\n            <a href=\"/\" className=\"home-header-title home-header-home-btn\">TRANG CHỦ</a>\r\n          </div>\r\n        </header>\r\n      )}\r\n      <div className=\"ph-table\" style={{ padding: 16 }}>\r\n        <h2 className=\"home-rooms-title\" style={{ textAlign: 'left', marginTop: 0 }}>Quản lý người dùng</h2>\r\n        <form onSubmit={(e)=>e.preventDefault()} className=\"au-toolbar\">\r\n          <div className=\"au-group\">\r\n            <input className=\"au-input\" placeholder=\"Tìm kiếm người dùng...\" value={q} onChange={e=>setQ(e.target.value)} />\r\n            <button className=\"ph-btn ph-btn--secondary\" type=\"button\" onClick={()=>{ setQ(''); fetchUsers(''); }}>Làm mới</button>\r\n          </div>\r\n          <button className=\"ph-btn au-add-btn\" type=\"button\" onClick={()=>{ setIsCreateOpen(true); setNewErrors({}); }}>+ Thêm người dùng</button>\r\n        </form>\r\n        {loading ? <div style={{ color:'#666' }}>Đang tải...</div> : error ? <div style={{ color:'#b42318' }}>{error}</div> : (\r\n          <div>\r\n            <div className=\"ph-tr ph-head\" style={{ gridTemplateColumns: '70px 1.2fr 1.6fr 1.1fr 0.9fr 1.1fr 1.2fr' }}>\r\n              <div className=\"ph-td\">ID</div>\r\n              <div className=\"ph-td\">Tên</div>\r\n              <div className=\"ph-td\">Email</div>\r\n              <div className=\"ph-td\">Số điện thoại</div>\r\n              <div className=\"ph-td\">Trạng thái</div>\r\n              <div className=\"ph-td\">Phân quyền</div>\r\n              <div className=\"ph-td\">Hành động</div>\r\n            </div>\r\n            {users.length === 0 ? (\r\n              <div className=\"ph-td\" style={{ padding: 12, color: '#666' }}>Không có người dùng nào.</div>\r\n            ) : users.map((u,idx) => (\r\n              <div\r\n                key={u.id}\r\n                className={\"ph-tr au-row\" + (selectedUserId===u.id? ' au-row--selected':'')}\r\n                style={{ gridTemplateColumns: '70px 1.2fr 1.6fr 1.1fr 0.9fr 1.1fr 1.2fr', '--row-index': idx }}\r\n                onClick={()=> setSelectedUserId(u.id)}\r\n              >\r\n                <div className=\"ph-td\">{u.id}</div>\r\n                <div className=\"ph-td\"><input value={u.name || ''} onFocus={()=> setSelectedUserId(u.id)} onChange={e=>updateUserField(u.id, 'name', e.target.value)} style={{ width:'100%', border:'1px solid #eee', borderRadius:6, padding:'6px 8px' }} /></div>\r\n                <div className=\"ph-td\"><input value={u.email || ''} onFocus={()=> setSelectedUserId(u.id)} onChange={e=>updateUserField(u.id, 'email', e.target.value)} style={{ width:'100%', border:'1px solid #eee', borderRadius:6, padding:'6px 8px' }} /></div>\r\n                <div className=\"ph-td\"><input value={u.phone || ''} onFocus={()=> setSelectedUserId(u.id)} onChange={e=>updateUserField(u.id, 'phone', e.target.value)} style={{ width:'100%', border:'1px solid #eee', borderRadius:6, padding:'6px 8px' }} /></div>\r\n                <div className=\"ph-td\">\r\n                  <div className={\"au-status-badge \" + ((u.status||'').toLowerCase().includes('khóa') ? 'blocked':'active')}>\r\n                    {(u.status||'').toLowerCase().includes('khóa') ? 'Khóa' : 'Hoạt động'}\r\n                  </div>\r\n                </div>\r\n                <div className=\"ph-td\">\r\n                  <select value={u.roleId || ''} onFocus={()=> setSelectedUserId(u.id)} onChange={e=>updateUserField(u.id, 'roleId', Number(e.target.value))} style={{ width:'100%', border:'1px solid #ddd', borderRadius:6, padding:'6px 8px' }}>\r\n                    <option value=\"\">—</option>\r\n                    {roleOptions.map(r => <option key={r.value} value={r.value}>{r.label}</option>)}\r\n                  </select>\r\n                </div>\r\n                <div className=\"ph-td\">\r\n                  <button className=\"ph-btn\" onClick={()=>handleSave(u)} type=\"button\">Lưu</button>\r\n                  <button className=\"ph-btn ph-btn--secondary\" onClick={()=>handleDelete(u)} type=\"button\">Xóa</button>\r\n                  <button className={`ph-btn ${u.status==='Khóa'?'unlock':'lock'}`} onClick={()=>handleLockToggle(u, !(u.status==='Khóa'))} type=\"button\">{u.status==='Khóa'?'Mở khóa':'Khóa'}</button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {isCreateOpen && (\r\n        <div className=\"profile-overlay\" onMouseDown={(e)=>{ if (e.target===e.currentTarget) setIsCreateOpen(false); }}>\r\n          <div className=\"profile-modal\" onMouseDown={(e)=>e.stopPropagation()} style={{ width: 640, maxWidth:'98%' }}>\r\n            <div className=\"ph-table\" style={{ padding: 16 }}>\r\n              <h3 style={{ marginTop:0 }}>Thêm người dùng</h3>\r\n              <div className=\"au-create\">\r\n                <label>Tên\r\n                  <input placeholder=\"Nhập tên\" className={!computedErrors.name ? '' : 'au-error'} value={newUser.name} onChange={e=>{ setNewUser({...newUser, name:e.target.value}); if (newErrors.name) setNewErrors({...newErrors, name: undefined}); }} />\r\n                  {newErrors.name ? <div style={{ color:'#b42318', fontSize:12, marginTop:4 }}>{newErrors.name}</div> : null}\r\n                </label>\r\n                <label>Email\r\n                  <input placeholder=\"ví dụ: user@example.com\" className={!computedErrors.email ? '' : 'au-error'} value={newUser.email} onChange={e=>{ setNewUser({...newUser, email:e.target.value}); if (newErrors.email) setNewErrors({...newErrors, email: undefined}); }} />\r\n                  {newErrors.email ? <div style={{ color:'#b42318', fontSize:12, marginTop:4 }}>{newErrors.email}</div> : null}\r\n                </label>\r\n                <label>Mật khẩu\r\n                  <input type=\"password\" placeholder=\"Tối thiểu 6 ký tự\" className={!computedErrors.password ? '' : 'au-error'} value={newUser.password} onChange={e=>{ setNewUser({...newUser, password:e.target.value}); if (newErrors.password) setNewErrors({...newErrors, password: undefined}); }} />\r\n                  {newErrors.password ? <div style={{ color:'#b42318', fontSize:12, marginTop:4 }}>{newErrors.password}</div> : null}\r\n                </label>\r\n                <label>Quyền\r\n                  <select className={!computedErrors.roleId ? '' : 'au-error'} value={newUser.roleId} onChange={e=>{ const val = e.target.value; setNewUser({...newUser, roleId: val ? Number(val) : ''}); if (newErrors.roleId) setNewErrors({...newErrors, roleId: undefined}); }}>\r\n                    <option value=\"\">—</option>\r\n                    {roles.map(r=> <option key={r.id} value={r.id}>{r.name}</option>)}\r\n                  </select>\r\n                  {newErrors.roleId ? <div style={{ color:'#b42318', fontSize:12, marginTop:4 }}>{newErrors.roleId}</div> : null}\r\n                </label>\r\n              </div>\r\n              <div style={{ marginTop:12, display:'flex', gap:8, justifyContent:'center' }}>\r\n                <span title={(!isFormValid && !creating) ? tooltipText : ''} style={{ display:'inline-block' }}>\r\n                  <button className=\"ph-btn\" onClick={handleNewUser} disabled={creating || !isFormValid} type=\"button\">{creating ? 'Đang tạo...' : 'Tạo'}</button>\r\n                </span>\r\n                <button className=\"ph-btn ph-btn--secondary\" onClick={()=>setIsCreateOpen(false)} type=\"button\">Hủy</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <style>{`\r\n        .au-toolbar { display:flex; gap:12px; align-items:center; flex-wrap:wrap; margin-bottom:10px; }\r\n        .au-row { position:relative; animation:auRowIn .45s cubic-bezier(.4,.2,.2,1) both; }\r\n        .au-row:nth-child(odd) { background:linear-gradient(90deg,#fafafa,transparent); }\r\n        @keyframes auRowIn { from { opacity:0; transform:translateY(6px); } to { opacity:1; transform:translateY(0); } }\r\n        .au-row--selected { box-shadow:0 0 0 2px #4e8df7 inset; background:#f0f6ff !important; }\r\n        .au-row--selected input, .au-row--selected select { background:#fff; }\r\n        .au-row input:focus, .au-row select:focus { outline:none; border-color:#4e8df7; box-shadow:0 0 0 2px rgba(78,141,247,.25); }\r\n        .ph-btn.lock { background:#ffb347; border:none; }\r\n        .ph-btn.unlock { background:#3fb97d; border:none; }\r\n        .ph-btn.lock:hover { filter:brightness(.95); }\r\n        .ph-btn.unlock:hover { filter:brightness(.95); }\r\n        .ph-btn.lock:active, .ph-btn.unlock:active { transform:translateY(1px); }\r\n        .au-create label { display:flex; flex-direction:column; gap:4px; }\r\n        .au-create input, .au-create select { border:1px solid #d0d5dd; border-radius:6px; padding:8px 10px; font-size:14px; transition:border-color .2s, box-shadow .25s; }\r\n        .au-create input:focus, .au-create select:focus { border-color:#4e8df7; box-shadow:0 0 0 3px rgba(78,141,247,.2); outline:none; }\r\n        .au-create .au-error { border-color:#d92d20 !important; box-shadow:0 0 0 2px rgba(217,45,32,.15); }\r\n        .au-add-btn { transition:transform .25s, box-shadow .25s; }\r\n        .au-add-btn:hover { transform:translateY(-2px); box-shadow:0 4px 12px -2px rgba(0,0,0,.15); }\r\n        .au-status-badge { padding:6px 10px; border-radius:20px; font-size:13px; font-weight:500; text-align:center; line-height:1; display:inline-block; min-width:88px; }\r\n        .au-status-badge.active { color:#137333; background:#e6f4ea; border:1px solid #a8d5b8; }\r\n        .au-status-badge.blocked { color:#b42318; background:#fbeaea; border:1px solid #f2b0aa; }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}