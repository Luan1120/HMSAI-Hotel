{"ast":null,"code":"// Tiện ích dùng chung cho thông báo (tách để tái sử dụng)\nexport function mapNotifTitle(it) {\n  if (!it) return 'Thông báo';\n  // Prefer server-provided title when available (allows per-user/admin titles)\n  if (it.title && String(it.title).trim()) return String(it.title).trim();\n  switch (it.type) {\n    case 'BookingPending':\n      return 'Yêu cầu đặt phòng đã gửi thành công';\n    case 'BookingConfirmed':\n      return 'Đặt phòng đã xác nhận';\n    case 'BookingCancelled':\n      return 'Đặt phòng đã bị hủy';\n    default:\n      return 'Thông báo';\n  }\n}\nexport function formatNotifTime(dt) {\n  try {\n    const d = new Date(dt);\n    if (isNaN(d)) return '';\n    const now = Date.now();\n    const diff = (now - d.getTime()) / 1000;\n    if (diff < 60) return 'Vừa xong';\n    if (diff < 3600) return Math.floor(diff / 60) + ' phút trước';\n    if (diff < 86400) return Math.floor(diff / 3600) + ' giờ trước';\n    const dd = String(d.getDate()).padStart(2, '0');\n    const mm = String(d.getMonth() + 1).padStart(2, '0');\n    const yyyy = d.getFullYear();\n    const hh = String(d.getHours()).padStart(2, '0');\n    const mi = String(d.getMinutes()).padStart(2, '0');\n    return `${dd}/${mm}/${yyyy} ${hh}:${mi}`;\n  } catch {\n    return '';\n  }\n}","map":{"version":3,"names":["mapNotifTitle","it","title","String","trim","type","formatNotifTime","dt","d","Date","isNaN","now","diff","getTime","Math","floor","dd","getDate","padStart","mm","getMonth","yyyy","getFullYear","hh","getHours","mi","getMinutes"],"sources":["D:/Git/HMSAI-Hotel/client/src/notificationsUtil.js"],"sourcesContent":["// Tiện ích dùng chung cho thông báo (tách để tái sử dụng)\r\nexport function mapNotifTitle(it){\r\n  if(!it) return 'Thông báo';\r\n  // Prefer server-provided title when available (allows per-user/admin titles)\r\n  if (it.title && String(it.title).trim()) return String(it.title).trim();\r\n  switch(it.type){\r\n    case 'BookingPending': return 'Yêu cầu đặt phòng đã gửi thành công';\r\n    case 'BookingConfirmed': return 'Đặt phòng đã xác nhận';\r\n    case 'BookingCancelled': return 'Đặt phòng đã bị hủy';\r\n    default: return 'Thông báo';\r\n  }\r\n}\r\n\r\nexport function formatNotifTime(dt){\r\n  try {\r\n    const d = new Date(dt);\r\n    if(isNaN(d)) return '';\r\n    const now = Date.now();\r\n    const diff = (now - d.getTime())/1000;\r\n    if(diff < 60) return 'Vừa xong';\r\n    if(diff < 3600) return Math.floor(diff/60)+ ' phút trước';\r\n    if(diff < 86400) return Math.floor(diff/3600)+ ' giờ trước';\r\n    const dd = String(d.getDate()).padStart(2,'0');\r\n    const mm = String(d.getMonth()+1).padStart(2,'0');\r\n    const yyyy = d.getFullYear();\r\n    const hh = String(d.getHours()).padStart(2,'0');\r\n    const mi = String(d.getMinutes()).padStart(2,'0');\r\n    return `${dd}/${mm}/${yyyy} ${hh}:${mi}`;\r\n  } catch { return ''; }\r\n}\r\n"],"mappings":"AAAA;AACA,OAAO,SAASA,aAAaA,CAACC,EAAE,EAAC;EAC/B,IAAG,CAACA,EAAE,EAAE,OAAO,WAAW;EAC1B;EACA,IAAIA,EAAE,CAACC,KAAK,IAAIC,MAAM,CAACF,EAAE,CAACC,KAAK,CAAC,CAACE,IAAI,CAAC,CAAC,EAAE,OAAOD,MAAM,CAACF,EAAE,CAACC,KAAK,CAAC,CAACE,IAAI,CAAC,CAAC;EACvE,QAAOH,EAAE,CAACI,IAAI;IACZ,KAAK,gBAAgB;MAAE,OAAO,qCAAqC;IACnE,KAAK,kBAAkB;MAAE,OAAO,uBAAuB;IACvD,KAAK,kBAAkB;MAAE,OAAO,qBAAqB;IACrD;MAAS,OAAO,WAAW;EAC7B;AACF;AAEA,OAAO,SAASC,eAAeA,CAACC,EAAE,EAAC;EACjC,IAAI;IACF,MAAMC,CAAC,GAAG,IAAIC,IAAI,CAACF,EAAE,CAAC;IACtB,IAAGG,KAAK,CAACF,CAAC,CAAC,EAAE,OAAO,EAAE;IACtB,MAAMG,GAAG,GAAGF,IAAI,CAACE,GAAG,CAAC,CAAC;IACtB,MAAMC,IAAI,GAAG,CAACD,GAAG,GAAGH,CAAC,CAACK,OAAO,CAAC,CAAC,IAAE,IAAI;IACrC,IAAGD,IAAI,GAAG,EAAE,EAAE,OAAO,UAAU;IAC/B,IAAGA,IAAI,GAAG,IAAI,EAAE,OAAOE,IAAI,CAACC,KAAK,CAACH,IAAI,GAAC,EAAE,CAAC,GAAE,aAAa;IACzD,IAAGA,IAAI,GAAG,KAAK,EAAE,OAAOE,IAAI,CAACC,KAAK,CAACH,IAAI,GAAC,IAAI,CAAC,GAAE,YAAY;IAC3D,MAAMI,EAAE,GAAGb,MAAM,CAACK,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,EAAC,GAAG,CAAC;IAC9C,MAAMC,EAAE,GAAGhB,MAAM,CAACK,CAAC,CAACY,QAAQ,CAAC,CAAC,GAAC,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC,EAAC,GAAG,CAAC;IACjD,MAAMG,IAAI,GAAGb,CAAC,CAACc,WAAW,CAAC,CAAC;IAC5B,MAAMC,EAAE,GAAGpB,MAAM,CAACK,CAAC,CAACgB,QAAQ,CAAC,CAAC,CAAC,CAACN,QAAQ,CAAC,CAAC,EAAC,GAAG,CAAC;IAC/C,MAAMO,EAAE,GAAGtB,MAAM,CAACK,CAAC,CAACkB,UAAU,CAAC,CAAC,CAAC,CAACR,QAAQ,CAAC,CAAC,EAAC,GAAG,CAAC;IACjD,OAAO,GAAGF,EAAE,IAAIG,EAAE,IAAIE,IAAI,IAAIE,EAAE,IAAIE,EAAE,EAAE;EAC1C,CAAC,CAAC,MAAM;IAAE,OAAO,EAAE;EAAE;AACvB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}