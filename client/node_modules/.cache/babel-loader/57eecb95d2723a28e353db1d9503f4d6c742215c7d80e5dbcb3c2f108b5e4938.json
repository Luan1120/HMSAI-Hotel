{"ast":null,"code":"import _objectSpread from\"D:/DA_TichHop/HMS_AI Hotel/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useState}from'react';import{authHeaders}from'./auth';import{mapNotifTitle,formatNotifTime}from'./notificationsUtil';import'./Notifications.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function NotificationsHistory(_ref){let{onClose}=_ref;const[items,setItems]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[page,setPage]=useState(0);// mỗi page 30\nconst[done,setDone]=useState(false);const pageSize=30;const load=async function(){let append=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(loading||done&&append)return;setLoading(true);setError('');try{const top=pageSize;// Lấy nhiều lần: sử dụng offset cục bộ bằng cách gọi nhiều top và cắt (đơn giản: cứ load tất cả rồi slice)\n// Ở đây: server chưa có offset -> ta load tất cả và quản lý client (đơn giản)\nconst res=await fetch(\"/api/notifications?top=\".concat((page+1)*pageSize),{headers:_objectSpread(_objectSpread({},authHeaders()),{},{'cache-control':'no-cache'})});if(!res.ok){if(res.status===401||res.status===404){// Not logged in or user missing: clear list to avoid showing other user's notifications\nsetItems([]);setDone(true);setLoading(false);return;}const jj=await res.json().catch(()=>({}));throw new Error(jj.message||'HTTP '+res.status);}const j=await res.json();const list=Array.isArray(j.items)?j.items:[];if(list.length<=items.length&&append){// Không tăng thêm dữ liệu\nsetDone(true);}setItems(list);}catch(e){setError(e.message||'Lỗi tải');}finally{setLoading(false);}};useEffect(()=>{load(false);// load initial\n},[]);// React to auth changes: clear or reload accordingly\nuseEffect(()=>{const onAuthChange=()=>{const raw=(()=>{try{return localStorage.getItem('hmsUser');}catch(_unused){return null;}})();if(!raw){setItems([]);setPage(0);setDone(true);setError('');return;}// logged in: reload\nsetPage(0);setDone(false);load(false);};window.addEventListener('hms-auth-change',onAuthChange);window.addEventListener('storage',onAuthChange);return()=>{window.removeEventListener('hms-auth-change',onAuthChange);window.removeEventListener('storage',onAuthChange);};},[]);const loadMore=()=>{setPage(p=>p+1);setTimeout(()=>load(true),0);};const markAll=async()=>{try{await fetch('/api/notifications/read-all',{method:'PUT',headers:_objectSpread({},authHeaders())});setItems(prev=>prev.map(it=>_objectSpread(_objectSpread({},it),{},{isRead:true})));}catch(_unused2){}};return/*#__PURE__*/_jsx(\"div\",{className:\"notifications-overlay\",role:\"dialog\",\"aria-modal\":\"true\",onMouseDown:e=>{if(e.target===e.currentTarget&&onClose)onClose();},children:/*#__PURE__*/_jsxs(\"div\",{className:\"notifications-overlay__panel\",onMouseDown:e=>e.stopPropagation(),children:[/*#__PURE__*/_jsx(\"button\",{className:\"notifications-overlay__closeBtn\",type:\"button\",\"aria-label\":\"\\u0110\\xF3ng\",onClick:onClose,children:\"\\u0110\\xF3ng\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"home-rooms-title\",style:{textAlign:'left',margin:'0 0 8px'},children:\"L\\u1ECBch s\\u1EED th\\xF4ng b\\xE1o\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"notifications-history-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"ph-btn ph-btn--secondary\",disabled:loading,onClick:()=>load(false),children:\"T\\u1EA3i l\\u1EA1i\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"ph-btn ph-btn--secondary\",onClick:markAll,children:\"\\u0110\\xE1nh d\\u1EA5u t\\u1EA5t c\\u1EA3 \\u0111\\xE3 \\u0111\\u1ECDc\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"notifications-history-list\",children:[loading&&items.length===0&&/*#__PURE__*/_jsx(\"div\",{style:{padding:16,fontSize:13},children:\"\\u0110ang t\\u1EA3i...\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{padding:16,fontSize:13,color:'#b42318'},children:error}),items.length===0&&!loading&&!error&&/*#__PURE__*/_jsx(\"div\",{style:{padding:16,fontSize:13},children:\"Ch\\u01B0a c\\xF3 th\\xF4ng b\\xE1o.\"}),items.map(it=>/*#__PURE__*/_jsxs(\"div\",{className:\"notifications-history-item \".concat(it.isRead?'':'unread'),children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:14,fontWeight:600},children:mapNotifTitle(it)}),(()=>{const m=it.message||'';const match=/\\|\\|bookingId=(\\d+)/.exec(m);const plain=m.replace(/\\|\\|bookingId=\\d+/,'').trim();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:13,marginTop:2,whiteSpace:'pre-line'},children:plain}),match&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:/*#__PURE__*/_jsx(\"span\",{className:\"notif-link-booking\",onClick:()=>{try{window.dispatchEvent(new CustomEvent('open-admin-bookings',{detail:{bookingId:Number(match[1])}}));}catch(_unused3){window.location.href='/';}},children:\"Xem \\u0111\\u01A1n\"})}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:11,marginTop:4,color:'#667085'},children:formatNotifTime(it.sentAt)})]});})()]},it.id))]}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:10,textAlign:'center'},children:[!done&&items.length>=(page+1)*pageSize&&/*#__PURE__*/_jsx(\"button\",{className:\"ph-btn\",disabled:loading,onClick:loadMore,children:loading?'Đang tải...':'Tải thêm'}),done&&/*#__PURE__*/_jsx(\"div\",{style:{fontSize:12,color:'#666',marginTop:4},children:\"H\\u1EBFt d\\u1EEF li\\u1EC7u\"})]})]})});}","map":{"version":3,"names":["React","useEffect","useState","authHeaders","mapNotifTitle","formatNotifTime","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NotificationsHistory","_ref","onClose","items","setItems","loading","setLoading","error","setError","page","setPage","done","setDone","pageSize","load","append","arguments","length","undefined","top","res","fetch","concat","headers","_objectSpread","ok","status","jj","json","catch","Error","message","j","list","Array","isArray","e","onAuthChange","raw","localStorage","getItem","_unused","window","addEventListener","removeEventListener","loadMore","p","setTimeout","markAll","method","prev","map","it","isRead","_unused2","className","role","onMouseDown","target","currentTarget","children","stopPropagation","type","onClick","style","textAlign","margin","disabled","padding","fontSize","color","fontWeight","m","match","exec","plain","replace","trim","marginTop","whiteSpace","dispatchEvent","CustomEvent","detail","bookingId","Number","_unused3","location","href","sentAt","id"],"sources":["D:/DA_TichHop/HMS_AI Hotel/client/src/NotificationsHistory.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { authHeaders } from './auth';\r\nimport { mapNotifTitle, formatNotifTime } from './notificationsUtil';\r\nimport './Notifications.css';\r\n\r\nexport default function NotificationsHistory({ onClose }) {\r\n  const [items, setItems] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [page, setPage] = useState(0); // mỗi page 30\r\n  const [done, setDone] = useState(false);\r\n  const pageSize = 30;\r\n\r\n  const load = async (append=false) => {\r\n    if (loading || done && append) return;\r\n    setLoading(true); setError('');\r\n    try {\r\n      const top = pageSize;\r\n      // Lấy nhiều lần: sử dụng offset cục bộ bằng cách gọi nhiều top và cắt (đơn giản: cứ load tất cả rồi slice)\r\n      // Ở đây: server chưa có offset -> ta load tất cả và quản lý client (đơn giản)\r\n      const res = await fetch(`/api/notifications?top=${(page+1)*pageSize}`, { headers: { ...authHeaders(), 'cache-control':'no-cache' } });\r\n      if (!res.ok) {\r\n        if (res.status === 401 || res.status === 404) {\r\n          // Not logged in or user missing: clear list to avoid showing other user's notifications\r\n          setItems([]);\r\n          setDone(true);\r\n          setLoading(false);\r\n          return;\r\n        }\r\n        const jj = await res.json().catch(()=>({}));\r\n        throw new Error(jj.message || ('HTTP ' + res.status));\r\n      }\r\n      const j = await res.json();\r\n      const list = Array.isArray(j.items)? j.items:[];\r\n      if (list.length <= items.length && append) {\r\n        // Không tăng thêm dữ liệu\r\n        setDone(true);\r\n      }\r\n      setItems(list);\r\n    } catch(e){ setError(e.message||'Lỗi tải'); }\r\n    finally { setLoading(false); }\r\n  };\r\n\r\n  useEffect(()=>{ load(false); // load initial\r\n  }, []);\r\n\r\n  // React to auth changes: clear or reload accordingly\r\n  useEffect(() => {\r\n    const onAuthChange = () => {\r\n      const raw = (() => { try { return localStorage.getItem('hmsUser'); } catch { return null; } })();\r\n      if (!raw) {\r\n        setItems([]); setPage(0); setDone(true); setError('');\r\n        return;\r\n      }\r\n      // logged in: reload\r\n      setPage(0); setDone(false); load(false);\r\n    };\r\n    window.addEventListener('hms-auth-change', onAuthChange);\r\n    window.addEventListener('storage', onAuthChange);\r\n    return () => { window.removeEventListener('hms-auth-change', onAuthChange); window.removeEventListener('storage', onAuthChange); };\r\n  }, []);\r\n\r\n  const loadMore = () => {\r\n    setPage(p=>p+1);\r\n    setTimeout(()=> load(true), 0);\r\n  };\r\n\r\n  const markAll = async () => {\r\n    try { await fetch('/api/notifications/read-all', { method:'PUT', headers: { ...authHeaders() } });\r\n      setItems(prev => prev.map(it=> ({ ...it, isRead:true })));\r\n    } catch {}\r\n  };\r\n\r\n  return (\r\n    <div className=\"notifications-overlay\" role=\"dialog\" aria-modal=\"true\" onMouseDown={(e)=>{ if(e.target===e.currentTarget && onClose) onClose(); }}>\r\n      <div className=\"notifications-overlay__panel\" onMouseDown={e=>e.stopPropagation()}>\r\n        <button className=\"notifications-overlay__closeBtn\" type=\"button\" aria-label=\"Đóng\" onClick={onClose}>Đóng</button>\r\n        <h2 className=\"home-rooms-title\" style={{ textAlign:'left', margin:'0 0 8px' }}>Lịch sử thông báo</h2>\r\n        <div className=\"notifications-history-actions\">\r\n          <button type=\"button\" className=\"ph-btn ph-btn--secondary\" disabled={loading} onClick={()=> load(false)}>Tải lại</button>\r\n          <button type=\"button\" className=\"ph-btn ph-btn--secondary\" onClick={markAll}>Đánh dấu tất cả đã đọc</button>\r\n        </div>\r\n        <div className=\"notifications-history-list\">\r\n          {loading && items.length===0 && <div style={{ padding:16, fontSize:13 }}>Đang tải...</div>}\r\n          {error && <div style={{ padding:16, fontSize:13, color:'#b42318' }}>{error}</div>}\r\n          {items.length===0 && !loading && !error && <div style={{ padding:16, fontSize:13 }}>Chưa có thông báo.</div>}\r\n          {items.map(it => (\r\n            <div key={it.id} className={`notifications-history-item ${it.isRead? '':'unread'}`}>\r\n              <div style={{ fontSize:14, fontWeight:600 }}>{mapNotifTitle(it)}</div>\r\n              {(() => {\r\n                const m = it.message || '';\r\n                const match = /\\|\\|bookingId=(\\d+)/.exec(m);\r\n                const plain = m.replace(/\\|\\|bookingId=\\d+/, '').trim();\r\n                return (\r\n                  <>\r\n                    <div style={{ fontSize:13, marginTop:2, whiteSpace:'pre-line' }}>{plain}</div>\r\n                    {match && (\r\n                      <div style={{ marginTop:8 }}>\r\n                        <span className=\"notif-link-booking\" onClick={() => {\r\n                          try { window.dispatchEvent(new CustomEvent('open-admin-bookings', { detail: { bookingId: Number(match[1]) } })); } catch { window.location.href = '/'; }\r\n                        }}>Xem đơn</span>\r\n                      </div>\r\n                    )}\r\n                    <div style={{ fontSize:11, marginTop:4, color:'#667085' }}>{formatNotifTime(it.sentAt)}</div>\r\n                  </>\r\n                );\r\n              })()}\r\n            </div>\r\n          ))}\r\n        </div>\r\n        <div style={{ marginTop:10, textAlign:'center' }}>\r\n          {!done && items.length >= (page+1)*pageSize && (\r\n            <button className=\"ph-btn\" disabled={loading} onClick={loadMore}>{loading? 'Đang tải...':'Tải thêm'}</button>\r\n          )}\r\n          {done && <div style={{ fontSize:12, color:'#666', marginTop:4 }}>Hết dữ liệu</div>}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}