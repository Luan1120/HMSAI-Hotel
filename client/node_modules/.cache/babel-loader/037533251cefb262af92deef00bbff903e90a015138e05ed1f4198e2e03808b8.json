{"ast":null,"code":"var _jsxFileName = \"D:\\\\Git\\\\HMSAI-Hotel\\\\client\\\\src\\\\AdminServices.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport './HomePage.css';\nimport { authHeaders, getUserRole } from './auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminServices() {\n  _s();\n  const isAdminOrStaff = ['Admin', 'Staff'].includes(getUserRole());\n  const isAdmin = getUserRole() === 'Admin';\n  const [q, setQ] = useState('');\n  const [statusFilter, setStatusFilter] = useState('all');\n  const [hotelFilter, setHotelFilter] = useState('all');\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [createOpen, setCreateOpen] = useState(false);\n  const [newRow, setNewRow] = useState({\n    name: '',\n    description: '',\n    price: '',\n    status: 'Active',\n    hotelId: '',\n    icon: ''\n  });\n  const [creating, setCreating] = useState(false);\n  const [hotels, setHotels] = useState([]); // <-- added hotels state\n  const debounceRef = useRef(null);\n  const rootRef = useRef(null);\n  // Refs for icon upload handling\n  const fileInputRef = useRef(null);\n  // When null => uploading for create-new modal, else holds service Id for row update\n  const pendingIconForId = useRef(null);\n  useEffect(() => {\n    if (rootRef.current) {\n      requestAnimationFrame(() => rootRef.current.classList.add('is-mounted'));\n    }\n  }, []);\n  const load = async (opts = {}) => {\n    var _opts$q, _opts$status, _opts$hotel;\n    if (!isAdminOrStaff) return;\n    const qq = (_opts$q = opts.q) !== null && _opts$q !== void 0 ? _opts$q : q;\n    const ss = (_opts$status = opts.status) !== null && _opts$status !== void 0 ? _opts$status : statusFilter;\n    const hf = (_opts$hotel = opts.hotel) !== null && _opts$hotel !== void 0 ? _opts$hotel : hotelFilter;\n    setLoading(true);\n    setError('');\n    try {\n      const url = new URL('/api/admin/services', window.location.origin);\n      if (qq) url.searchParams.set('q', qq);\n      if (ss && ss !== 'all') url.searchParams.set('status', ss === 'active' ? 'Active' : 'Paused');\n      if (hf && hf !== 'all') url.searchParams.set('hotelId', hf);\n      const res = await fetch(url.toString(), {\n        headers: authHeaders(),\n        cache: 'no-store'\n      });\n      if (!res.ok) throw new Error('Không tải được dịch vụ');\n      const j = await res.json();\n      const normalizeStatus = val => {\n        const v = String(val || '').trim().toLowerCase();\n        if (['active', 'hoạt động', 'hoat dong', 'on', 'enabled', '1', 'true'].includes(v)) return 'Active';\n        if (['paused', 'tạm dừng', 'tam dung', 'off', 'disabled', '0', 'false'].includes(v)) return 'Paused';\n        // Default fallback\n        return 'Active';\n      };\n      const list = Array.isArray(j.items) ? j.items.map(r => ({\n        ...r,\n        Status: normalizeStatus(r.Status)\n      })) : [];\n      setItems(list);\n    } catch (e) {\n      setError(e.message || 'Lỗi');\n      setItems([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (isAdminOrStaff) load({\n      q: '',\n      status: 'all'\n    });\n  }, []);\n  useEffect(() => {\n    if (!isAdminOrStaff) return;\n    if (debounceRef.current) clearTimeout(debounceRef.current);\n    debounceRef.current = setTimeout(() => load({}), 300);\n    return () => debounceRef.current && clearTimeout(debounceRef.current);\n  }, [q, statusFilter, hotelFilter]);\n  useEffect(() => {\n    if (isAdminOrStaff) {\n      fetch('/api/admin/hotels', {\n        headers: authHeaders()\n      }).then(r => r.ok ? r.json() : {\n        items: []\n      }).then(j => setHotels(Array.isArray(j.items) ? j.items : [])).catch(() => setHotels([]));\n    }\n  }, [isAdminOrStaff]);\n\n  // (legacy per-row edit handlers removed; saving handled by saveRow with drafts map)\n\n  const del = async it => {\n    if (!window.confirm('Xóa dịch vụ này?')) return;\n    try {\n      const res = await fetch(`/api/admin/services/${it.Id}`, {\n        method: 'DELETE',\n        headers: authHeaders()\n      });\n      if (!res.ok) throw new Error('Xóa thất bại');\n      await load({});\n    } catch (e) {\n      alert(e.message || 'Lỗi xóa');\n    }\n  };\n  const create = async () => {\n    if (!newRow.name.trim()) {\n      alert('Nhập tên dịch vụ');\n      return;\n    }\n    if (!newRow.hotelId) {\n      alert('Chọn khách sạn');\n      return;\n    }\n    setCreating(true);\n    try {\n      const payload = {\n        name: newRow.name,\n        description: newRow.description,\n        price: newRow.price ? Number(newRow.price) : 0,\n        status: newRow.status,\n        hotelId: newRow.hotelId,\n        icon: newRow.icon || null\n      };\n      const res = await fetch('/api/admin/services', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...authHeaders()\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!res.ok) throw new Error('Tạo thất bại');\n      setNewRow({\n        name: '',\n        description: '',\n        price: '',\n        status: 'Active',\n        hotelId: '',\n        icon: ''\n      });\n      setCreateOpen(false);\n      await load({});\n    } catch (e) {\n      alert(e.message || 'Lỗi');\n    } finally {\n      setCreating(false);\n    }\n  };\n  const [drafts, setDrafts] = useState({});\n  const [selectedId, setSelectedId] = useState(null);\n\n  // Initialize / sync drafts when items change (only add missing ids, keep user edits)\n  useEffect(() => {\n    setDrafts(prev => {\n      const next = {\n        ...prev\n      };\n      items.forEach(it => {\n        if (!next[it.Id]) next[it.Id] = {\n          Name: it.Name || '',\n          Description: it.Description || '',\n          Price: it.Price || 0,\n          Status: it.Status || 'Active',\n          HotelId: it.HotelId || '',\n          Icon: it.Icon || ''\n        };else {\n          if (next[it.Id].HotelId === undefined) next[it.Id].HotelId = it.HotelId || '';\n          if (next[it.Id].Icon === undefined) next[it.Id].Icon = it.Icon || '';\n          // Sync status to backend value to avoid stale draft showing 'Hoạt động' while item is paused (or vice versa)\n          // We intentionally overwrite to keep UI consistent after background reloads.\n          next[it.Id].Status = it.Status || 'Active';\n        }\n      });\n      Object.keys(next).forEach(id => {\n        if (!items.find(it => String(it.Id) === String(id))) delete next[id];\n      });\n      return next;\n    });\n  }, [items]);\n  const updateDraft = (id, field, value) => setDrafts(d => ({\n    ...d,\n    [id]: {\n      ...(d[id] || {}),\n      [field]: value\n    }\n  }));\n  const rowChangedPayload = (id, original) => {\n    const dr = drafts[id];\n    if (!dr) return null;\n    const payload = {};\n    if (dr.Name !== original.Name) payload.name = dr.Name;\n    if (dr.Description !== original.Description) payload.description = dr.Description;\n    if (String(dr.Price) !== String(original.Price)) payload.price = dr.Price;\n    if (dr.Status !== original.Status) payload.status = dr.Status;\n    if (String(dr.HotelId || '') !== String(original.HotelId || '')) {\n      payload.hotelId = dr.HotelId || null;\n    }\n    if ((dr.Icon || '') !== (original.Icon || '')) payload.icon = dr.Icon || null;\n    return Object.keys(payload).length ? payload : null;\n  };\n  const saveRow = async it => {\n    const payload = rowChangedPayload(it.Id, it);\n    if (!payload) {\n      alert('Không có thay đổi.');\n      return;\n    }\n    try {\n      const res = await fetch(`/api/admin/services/${it.Id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          ...authHeaders()\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!res.ok) throw new Error('Lưu thất bại');\n      await load({});\n    } catch (e) {\n      alert(e.message || 'Lỗi lưu');\n    }\n  };\n  const setAvailability = async (it, nextStatus) => {\n    const hotelId = drafts[it.Id] && drafts[it.Id].HotelId || it.HotelId || '';\n    if (!hotelId) {\n      alert('Thiếu khách sạn cho dịch vụ');\n      return;\n    }\n    const originalStatus = it.Status;\n    // Optimistic UI update\n    setItems(prev => prev.map(s => s.Id === it.Id ? {\n      ...s,\n      Status: nextStatus\n    } : s));\n    setDrafts(d => ({\n      ...d,\n      [it.Id]: {\n        ...(d[it.Id] || {}),\n        Status: nextStatus\n      }\n    }));\n    try {\n      const payload = {\n        status: nextStatus,\n        hotelId\n      };\n      const res = await fetch(`/api/admin/services/${it.Id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          ...authHeaders()\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!res.ok) throw new Error('Cập nhật trạng thái thất bại');\n      // Optionally refresh in background to ensure consistency\n      load({});\n    } catch (e) {\n      // Revert on failure\n      setItems(prev => prev.map(s => s.Id === it.Id ? {\n        ...s,\n        Status: originalStatus\n      } : s));\n      setDrafts(d => ({\n        ...d,\n        [it.Id]: {\n          ...(d[it.Id] || {}),\n          Status: originalStatus\n        }\n      }));\n      alert(e.message || 'Lỗi');\n    }\n  };\n  const rowChanged = it => {\n    const dr = drafts[it.Id];\n    if (!dr) return false;\n    return dr.Name !== it.Name || dr.Description !== it.Description || String(dr.Price) !== String(it.Price) || dr.Status !== it.Status || String(dr.HotelId || '') !== String(it.HotelId || '') || (dr.Icon || '') !== (it.Icon || '');\n  };\n\n  // Trigger file chooser for an existing row (serviceId) or for create modal (null)\n  const triggerIconUpload = (serviceId = null) => {\n    pendingIconForId.current = serviceId; // null => new service modal\n    if (fileInputRef.current) {\n      fileInputRef.current.value = '';\n      fileInputRef.current.click();\n    }\n  };\n  const onIconFile = async e => {\n    const f = e.target.files && e.target.files[0];\n    if (!f) return;\n    // Basic client-side validation (optional)\n    if (!/^image\\//.test(f.type)) {\n      alert('Vui lòng chọn file hình ảnh');\n      return;\n    }\n    if (f.size > 2 * 1024 * 1024) {\n      alert('Ảnh quá lớn (tối đa 2MB)');\n      return;\n    }\n    const form = new FormData();\n    form.append('file', f);\n    try {\n      const res = await fetch('/api/admin/services/upload-icon', {\n        method: 'POST',\n        headers: authHeaders(),\n        body: form\n      });\n      if (!res.ok) throw new Error('Upload thất bại');\n      const j = await res.json();\n      const path = j.path;\n      if (pendingIconForId.current) {\n        const sid = pendingIconForId.current;\n        setDrafts(d => ({\n          ...d,\n          [sid]: {\n            ...(d[sid] || {}),\n            Icon: path\n          }\n        }));\n        pendingIconForId.current = null;\n      } else {\n        // New service modal\n        setNewRow(r => ({\n          ...r,\n          icon: path\n        }));\n      }\n    } catch (err) {\n      alert(err.message || 'Lỗi upload icon');\n    }\n  };\n\n  // Normalize icon path so existing DB values like \"dichvu/icon.png\" or \"tiennghi/ac.svg\"\n  // (inserted manually pointing to client/public subfolders) render correctly.\n  // We only force a leading slash for non-absolute (non-http) local paths and collapse backslashes.\n  const resolveIconPath = p => {\n    if (!p) return '';\n    let v = String(p).trim();\n    if (!v) return '';\n    v = v.replace(/\\\\/g, '/');\n    if (/^https?:\\/\\//i.test(v)) return v; // absolute URL untouched\n    if (!v.startsWith('/')) v = '/' + v; // ensure leading slash for public assets\n    return v;\n  };\n  if (!isAdminOrStaff) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 16\n    },\n    children: \"Ch\\u1EE9c n\\u0103ng d\\xE0nh cho qu\\u1EA3n tr\\u1ECB / nh\\xE2n vi\\xEAn.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 30\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: rootRef,\n    className: \"af-container amenities-anim-root\",\n    style: {\n      padding: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"home-rooms-title\",\n      style: {\n        textAlign: 'left',\n        marginTop: 0\n      },\n      children: \"Qu\\u1EA3n l\\xFD d\\u1ECBch v\\u1EE5 kh\\xE1ch s\\u1EA1n\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reports-toolbar af-toolbar\",\n      style: {\n        marginBottom: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reports-field af-field-grow\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"reports-input\",\n          style: {\n            width: '100%'\n          },\n          placeholder: \"T\\xECm ki\\u1EBFm d\\u1ECBch v\\u1EE5...\",\n          value: q,\n          onChange: e => setQ(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reports-field\",\n        style: {\n          minWidth: 200\n        },\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"reports-select\",\n          value: statusFilter,\n          onChange: e => setStatusFilter(e.target.value),\n          style: {\n            height: 38\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"T\\u1EA5t c\\u1EA3 tr\\u1EA1ng th\\xE1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"active\",\n            children: \"Ho\\u1EA1t \\u0111\\u1ED9ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"paused\",\n            children: \"T\\u1EA1m d\\u1EEBng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reports-field\",\n        style: {\n          minWidth: 220\n        },\n        children: /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"reports-select\",\n          value: hotelFilter,\n          onChange: e => setHotelFilter(e.target.value),\n          style: {\n            height: 38\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"all\",\n            children: \"T\\u1EA5t c\\u1EA3 kh\\xE1ch s\\u1EA1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), hotels.map(h => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: h.id || h.Id,\n            children: h.name || h.Name\n          }, h.id || h.Id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 210,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 8\n      },\n      children: isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"ph-btn\",\n        onClick: () => setCreateOpen(true),\n        children: \"+ Th\\xEAm d\\u1ECBch v\\u1EE5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#666'\n      },\n      children: \"\\u0110ang t\\u1EA3i...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 18\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#b42318'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 217,\n      columnNumber: 76\n    }, this) : /*#__PURE__*/_jsxDEV(\"table\", {\n      className: \"ph-table-el af-table\",\n      style: {\n        width: '100%'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              textAlign: 'center'\n            },\n            children: \"ID\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 221,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              textAlign: 'center'\n            },\n            children: \"T\\xEAn d\\u1ECBch v\\u1EE5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 222,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              textAlign: 'center'\n            },\n            children: \"Icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              textAlign: 'center'\n            },\n            children: \"M\\xF4 t\\u1EA3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              textAlign: 'center'\n            },\n            children: \"Gi\\xE1 (VND)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 225,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              textAlign: 'center'\n            },\n            children: \"Tr\\u1EA1ng th\\xE1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              textAlign: 'center'\n            },\n            children: \"Kh\\xE1ch s\\u1EA1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            style: {\n              textAlign: 'center'\n            },\n            children: \"H\\xE0nh \\u0111\\u1ED9ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: items.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: /*#__PURE__*/_jsxDEV(\"td\", {\n            colSpan: 8,\n            style: {\n              color: '#666',\n              textAlign: 'center'\n            },\n            children: \"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 232,\n            columnNumber: 37\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 33\n        }, this) : items.map((it, idx) => {\n          const dr = drafts[it.Id] || {\n            Name: '',\n            Description: '',\n            Price: 0,\n            Status: 'Active'\n          };\n          const statusClass = dr.Status === 'Active' ? 'svc-status-active' : 'svc-status-paused';\n          return /*#__PURE__*/_jsxDEV(\"tr\", {\n            onClick: () => setSelectedId(it.Id),\n            className: \"amenity-row\" + (rowChanged(it) ? ' svc-row--changed' : '') + (selectedId === it.Id ? ' svc-row--selected' : ''),\n            style: {\n              '--row-index': idx\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td\",\n              style: {\n                textAlign: 'left'\n              },\n              children: it.Id\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 237,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td\",\n              style: {\n                textAlign: 'left'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                value: (drafts[it.Id] || {}).Name || '',\n                onFocus: () => setSelectedId(it.Id),\n                onChange: e => updateDraft(it.Id, 'Name', e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 238,\n                columnNumber: 70\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td\",\n              style: {\n                textAlign: 'left',\n                width: 120\n              },\n              children: it.Icon || (drafts[it.Id] || {}).Icon ? /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  flexDirection: 'row',\n                  alignItems: 'center',\n                  gap: 8\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: resolveIconPath((drafts[it.Id] || {}).Icon || it.Icon),\n                  alt: \"icon\",\n                  style: {\n                    width: 44,\n                    height: 44,\n                    objectFit: 'cover',\n                    borderRadius: 8,\n                    border: '1px solid #ddd',\n                    background: '#fafafa'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 242,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  onClick: () => triggerIconUpload(it.Id),\n                  style: {\n                    width: 38,\n                    height: 38,\n                    border: '1px solid #d0d5dd',\n                    background: '#fff',\n                    borderRadius: 8,\n                    cursor: 'pointer',\n                    display: 'flex',\n                    alignItems: 'center',\n                    justifyContent: 'center',\n                    padding: 0\n                  },\n                  title: \"Thay icon\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"/replace.png\",\n                    alt: \"Replace\",\n                    style: {\n                      width: 20,\n                      height: 20,\n                      objectFit: 'contain'\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 246,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 243,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"ph-btn\",\n                style: {\n                  height: 34,\n                  fontSize: 12\n                },\n                onClick: () => triggerIconUpload(it.Id),\n                children: \"+ Icon\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 250,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 239,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td\",\n              style: {\n                textAlign: 'left'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                value: (drafts[it.Id] || {}).Description || '',\n                onFocus: () => setSelectedId(it.Id),\n                onChange: e => updateDraft(it.Id, 'Description', e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 70\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 253,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td\",\n              style: {\n                textAlign: 'left',\n                minWidth: 120\n              },\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"number\",\n                value: (drafts[it.Id] || {}).Price,\n                onFocus: () => setSelectedId(it.Id),\n                onChange: e => updateDraft(it.Id, 'Price', e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 84\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 254,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td\",\n              style: {\n                textAlign: 'left'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: (drafts[it.Id] || {}).Status,\n                onFocus: () => setSelectedId(it.Id),\n                onChange: e => updateDraft(it.Id, 'Status', e.target.value),\n                className: `reports-select ${statusClass}`,\n                style: {\n                  height: 32\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Active\",\n                  children: \"Ho\\u1EA1t \\u0111\\u1ED9ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Paused\",\n                  children: \"T\\u1EA1m d\\u1EEBng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 256,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 255,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td\",\n              style: {\n                textAlign: 'left'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: (drafts[it.Id] || {}).HotelId,\n                onFocus: () => setSelectedId(it.Id),\n                onChange: e => updateDraft(it.Id, 'HotelId', e.target.value),\n                className: \"reports-select\",\n                style: {\n                  height: 32\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"Ch\\u1ECDn kh\\xE1ch s\\u1EA1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 263,\n                  columnNumber: 23\n                }, this), hotels.map(ht => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: ht.id || ht.Id,\n                  children: ht.name || ht.Name\n                }, ht.id || ht.Id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 264,\n                  columnNumber: 40\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 262,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 261,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td action\",\n              style: {\n                whiteSpace: 'nowrap',\n                textAlign: 'left'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"ph-btn ph-btn--success\",\n                onClick: () => saveRow(it),\n                children: \"S\\u1EEDa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 268,\n                columnNumber: 21\n              }, this), isAdmin && /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"ph-btn ph-btn--danger\",\n                onClick: () => del(it),\n                children: \"X\\xF3a\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 269,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"ph-btn ph-btn--warning\",\n                disabled: !((drafts[it.Id] || {}).HotelId || it.HotelId),\n                onClick: () => setAvailability(it, it.Status === 'Active' ? 'Paused' : 'Active'),\n                children: it.Status === 'Active' ? 'Tạm dừng' : 'Kích hoạt'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 19\n            }, this)]\n          }, it.Id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 236,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 231,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 9\n    }, this), createOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-overlay\",\n      onMouseDown: e => {\n        if (e.target === e.currentTarget) setCreateOpen(false);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-modal\",\n        onMouseDown: e => e.stopPropagation(),\n        style: {\n          width: 640,\n          maxWidth: '96%',\n          background: '#fff',\n          borderRadius: 12,\n          padding: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginTop: 0,\n            textAlign: 'center'\n          },\n          children: \"Th\\xEAm d\\u1ECBch v\\u1EE5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 4\n            },\n            children: [\"T\\xEAn d\\u1ECBch v\\u1EE5\", /*#__PURE__*/_jsxDEV(\"input\", {\n              value: newRow.name,\n              onChange: e => setNewRow(r => ({\n                ...r,\n                name: e.target.value\n              })),\n              placeholder: \"Gi\\u1EB7t \\u1EE7i...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 285,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 4\n            },\n            children: [\"Gi\\xE1 (VND)\", /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              value: newRow.price,\n              onChange: e => setNewRow(r => ({\n                ...r,\n                price: e.target.value\n              })),\n              placeholder: \"100000\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 288,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 287,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              gridColumn: '1 / span 2',\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 4\n            },\n            children: [\"M\\xF4 t\\u1EA3\", /*#__PURE__*/_jsxDEV(\"textarea\", {\n              rows: 3,\n              value: newRow.description,\n              onChange: e => setNewRow(r => ({\n                ...r,\n                description: e.target.value\n              })),\n              placeholder: \"M\\xF4 t\\u1EA3 ng\\u1EAFn\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 4\n            },\n            children: [\"Tr\\u1EA1ng th\\xE1i\", /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"reports-select\",\n              style: {\n                height: 38\n              },\n              value: newRow.status,\n              onChange: e => setNewRow(r => ({\n                ...r,\n                status: e.target.value\n              })),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Active\",\n                children: \"Ho\\u1EA1t \\u0111\\u1ED9ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 295,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"Paused\",\n                children: \"T\\u1EA1m d\\u1EEBng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 296,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 4\n            },\n            children: [\"Kh\\xE1ch s\\u1EA1n\", /*#__PURE__*/_jsxDEV(\"select\", {\n              className: \"reports-select\",\n              style: {\n                height: 38\n              },\n              value: newRow.hotelId,\n              onChange: e => setNewRow(r => ({\n                ...r,\n                hotelId: e.target.value\n              })),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Ch\\u1ECDn kh\\xE1ch s\\u1EA1n\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 301,\n                columnNumber: 19\n              }, this), hotels.map(ht => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: ht.id || ht.Id,\n                children: ht.name || ht.Name\n              }, ht.id || ht.Id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 302,\n                columnNumber: 36\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 4\n            },\n            children: [\"Icon\", /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 12\n              },\n              children: [newRow.icon ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: resolveIconPath(newRow.icon),\n                alt: \"icon\",\n                style: {\n                  width: 56,\n                  height: 56,\n                  objectFit: 'cover',\n                  border: '1px solid #ddd',\n                  borderRadius: 10,\n                  background: '#fafafa'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 21\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                style: {\n                  fontSize: 12,\n                  color: '#666'\n                },\n                children: \"Ch\\u01B0a ch\\u1ECDn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: () => {\n                  pendingIconForId.current = null;\n                  fileInputRef.current && fileInputRef.current.click();\n                },\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  gap: 6,\n                  background: '#fff',\n                  border: '1px solid #d0d5dd',\n                  borderRadius: 8,\n                  padding: '6px 10px',\n                  cursor: 'pointer'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                  src: \"/replace.png\",\n                  alt: \"Upload\",\n                  style: {\n                    width: 18,\n                    height: 18\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 315,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    fontSize: 13\n                  },\n                  children: \"Ch\\u1ECDn / Thay\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 316,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 312,\n                columnNumber: 19\n              }, this), newRow.icon && /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                className: \"ph-btn ph-btn--danger\",\n                onClick: () => setNewRow(r => ({\n                  ...r,\n                  icon: ''\n                })),\n                children: \"X\\xF3a\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 35\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 305,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 283,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 16,\n            display: 'flex',\n            gap: 12,\n            justifyContent: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"ph-btn\",\n            onClick: create,\n            disabled: creating,\n            children: creating ? 'Đang tạo...' : 'Tạo'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"ph-btn ph-btn--secondary\",\n            onClick: () => setCreateOpen(false),\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 280,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: fileInputRef,\n      type: \"file\",\n      accept: \"image/*\",\n      style: {\n        display: 'none'\n      },\n      onChange: onIconFile\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 329,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n        .amenities-anim-root { opacity:0; transform:translateY(12px); transition: opacity .5s ease, transform .55s cubic-bezier(.4,.2,.2,1); }\n        .amenities-anim-root.is-mounted { opacity:1; transform:translateY(0); }\n        .amenities-anim-root table.af-table { animation:tableFade .55s .12s both ease; }\n        @keyframes tableFade { from { opacity:0; transform:translateY(8px);} to { opacity:1; transform:translateY(0);} }\n\n        /* Compact, uniform sizing */\n        .af-table th, .af-table td { padding:6px 8px; vertical-align:middle; }\n        .af-table input, .af-table select { height:32px; line-height:32px; padding:4px 8px; font-size:14px; border:1px solid #d7dbe0; border-radius:6px; background:#fff; }\n        .af-table select { padding-right:28px; }\n        .af-table .action .ph-btn { height:32px; line-height:30px; padding:0 14px; font-size:13px; margin-right:6px; }\n        .af-table .action .ph-btn:last-child { margin-right:0; }\n        .af-table .reports-select { height:32px !important; }\n\n        /* Prevent inputs from stretching row */\n        .af-table input[type=number] { width:110px; }\n        .af-table td:nth-child(3) input { min-width:180px; }\n\n        /* Changed row highlight: border only, no size change */\n        .svc-row--changed { position:relative; background:transparent; box-shadow:0 0 0 2px #f9b334 inset; }\n        .svc-row--changed::before { display:none !important; }\n        .svc-row--changed input, .svc-row--changed select { background:#fff; }\n\n  /* Selected row highlight */\n  .svc-row--selected { background: #fffbe6; }\n  .svc-row--selected.svc-row--changed { box-shadow:0 0 0 2px #f59f00 inset; }\n\n        /* Smooth focus */\n        .af-table input:focus, .af-table select:focus { outline:none; border-color:#f2a300; box-shadow:0 0 0 2px rgba(242,163,0,.2); }\n\n        /* Responsive tightening on narrow screens */\n        @media (max-width: 1100px){\n          .af-table th, .af-table td { padding:4px 6px; }\n          .af-table .action .ph-btn { padding:0 10px; font-size:12px; }\n        }\n\n        .af-table td:nth-child(2){ width:72px; }\n\n        .reports-select.svc-status-active { background:#e6f7ec; color:#086637; border-color:#bfe6ce; }\n        .reports-select.svc-status-paused { background:#ffe8e6; color:#b42318; border-color:#f5b5ae; }\n        .reports-select.svc-status-active:focus { box-shadow:0 0 0 2px rgba(8,102,55,.25); }\n        .reports-select.svc-status-paused:focus { box-shadow:0 0 0 2px rgba(180,35,24,.25); }\n      `\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 194,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminServices, \"hbdmiNDpiI9IaFuRhnKPHs78w7w=\");\n_c = AdminServices;\nvar _c;\n$RefreshReg$(_c, \"AdminServices\");","map":{"version":3,"names":["React","useEffect","useRef","useState","authHeaders","getUserRole","jsxDEV","_jsxDEV","AdminServices","_s","isAdminOrStaff","includes","isAdmin","q","setQ","statusFilter","setStatusFilter","hotelFilter","setHotelFilter","items","setItems","loading","setLoading","error","setError","createOpen","setCreateOpen","newRow","setNewRow","name","description","price","status","hotelId","icon","creating","setCreating","hotels","setHotels","debounceRef","rootRef","fileInputRef","pendingIconForId","current","requestAnimationFrame","classList","add","load","opts","_opts$q","_opts$status","_opts$hotel","qq","ss","hf","hotel","url","URL","window","location","origin","searchParams","set","res","fetch","toString","headers","cache","ok","Error","j","json","normalizeStatus","val","v","String","trim","toLowerCase","list","Array","isArray","map","r","Status","e","message","clearTimeout","setTimeout","then","catch","del","it","confirm","Id","method","alert","create","payload","Number","body","JSON","stringify","drafts","setDrafts","selectedId","setSelectedId","prev","next","forEach","Name","Description","Price","HotelId","Icon","undefined","Object","keys","id","find","updateDraft","field","value","d","rowChangedPayload","original","dr","length","saveRow","setAvailability","nextStatus","originalStatus","s","rowChanged","triggerIconUpload","serviceId","click","onIconFile","f","target","files","test","type","size","form","FormData","append","path","sid","err","resolveIconPath","p","replace","startsWith","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","ref","className","textAlign","marginTop","marginBottom","width","placeholder","onChange","minWidth","height","h","onClick","color","colSpan","idx","statusClass","onFocus","display","flexDirection","alignItems","gap","src","alt","objectFit","borderRadius","border","background","cursor","justifyContent","title","fontSize","ht","whiteSpace","disabled","onMouseDown","currentTarget","stopPropagation","maxWidth","gridTemplateColumns","gridColumn","rows","accept","_c","$RefreshReg$"],"sources":["D:/Git/HMSAI-Hotel/client/src/AdminServices.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport './HomePage.css';\r\nimport { authHeaders, getUserRole } from './auth';\r\n\r\nexport default function AdminServices(){\r\n  const isAdminOrStaff = ['Admin','Staff'].includes(getUserRole());\r\n  const isAdmin = getUserRole()==='Admin';\r\n  const [q,setQ] = useState('');\r\n  const [statusFilter,setStatusFilter] = useState('all');\r\n  const [hotelFilter,setHotelFilter] = useState('all');\r\n  const [items,setItems] = useState([]);\r\n  const [loading,setLoading] = useState(false);\r\n  const [error,setError] = useState('');\r\n  const [createOpen,setCreateOpen] = useState(false);\r\n  const [newRow,setNewRow] = useState({ name:'', description:'', price:'', status:'Active', hotelId:'', icon:'' });\r\n  const [creating,setCreating] = useState(false);\r\n  const [hotels,setHotels] = useState([]); // <-- added hotels state\r\n  const debounceRef = useRef(null);\r\n  const rootRef = useRef(null);\r\n  // Refs for icon upload handling\r\n  const fileInputRef = useRef(null);\r\n  // When null => uploading for create-new modal, else holds service Id for row update\r\n  const pendingIconForId = useRef(null);\r\n  useEffect(()=>{ if(rootRef.current){ requestAnimationFrame(()=> rootRef.current.classList.add('is-mounted')); } },[]);\r\n\r\n  const load = async (opts={}) => {\r\n    if(!isAdminOrStaff) return;\r\n    const qq = opts.q ?? q; const ss = opts.status ?? statusFilter; const hf = opts.hotel ?? hotelFilter;\r\n    setLoading(true); setError('');\r\n    try {\r\n      const url = new URL('/api/admin/services', window.location.origin);\r\n      if(qq) url.searchParams.set('q', qq);\r\n      if(ss && ss!=='all') url.searchParams.set('status', ss==='active' ? 'Active' : 'Paused');\r\n      if(hf && hf!=='all') url.searchParams.set('hotelId', hf);\r\n      const res = await fetch(url.toString(), { headers: authHeaders(), cache:'no-store' });\r\n      if(!res.ok) throw new Error('Không tải được dịch vụ');\r\n      const j = await res.json();\r\n      const normalizeStatus = (val) => {\r\n        const v = String(val||'').trim().toLowerCase();\r\n        if(['active','hoạt động','hoat dong','on','enabled','1','true'].includes(v)) return 'Active';\r\n        if(['paused','tạm dừng','tam dung','off','disabled','0','false'].includes(v)) return 'Paused';\r\n        // Default fallback\r\n        return 'Active';\r\n      };\r\n      const list = Array.isArray(j.items) ? j.items.map(r => ({ ...r, Status: normalizeStatus(r.Status) })) : [];\r\n      setItems(list);\r\n    } catch(e){ setError(e.message || 'Lỗi'); setItems([]); } finally { setLoading(false); }\r\n  };\r\n  useEffect(()=>{ if(isAdminOrStaff) load({ q:'', status:'all' }); },[]);\r\n  useEffect(()=>{ if(!isAdminOrStaff) return; if(debounceRef.current) clearTimeout(debounceRef.current); debounceRef.current = setTimeout(()=> load({}), 300); return ()=> debounceRef.current && clearTimeout(debounceRef.current); },[q,statusFilter,hotelFilter]);\r\n  useEffect(()=>{ if(isAdminOrStaff){ fetch('/api/admin/hotels', { headers: authHeaders() }).then(r=> r.ok? r.json(): {items:[]}).then(j=> setHotels(Array.isArray(j.items)? j.items: [])).catch(()=> setHotels([])); } }, [isAdminOrStaff]);\r\n\r\n  // (legacy per-row edit handlers removed; saving handled by saveRow with drafts map)\r\n\r\n  const del = async (it)=>{\r\n    if(!window.confirm('Xóa dịch vụ này?')) return;\r\n    try { const res = await fetch(`/api/admin/services/${it.Id}`, { method:'DELETE', headers: authHeaders() }); if(!res.ok) throw new Error('Xóa thất bại'); await load({}); } catch(e){ alert(e.message || 'Lỗi xóa'); }\r\n  };\r\n\r\n  const create = async ()=>{\r\n    if(!newRow.name.trim()) { alert('Nhập tên dịch vụ'); return; }\r\n    if(!newRow.hotelId){ alert('Chọn khách sạn'); return; }\r\n    setCreating(true);\r\n    try {\r\n      const payload = { name:newRow.name, description:newRow.description, price: newRow.price? Number(newRow.price):0, status: newRow.status, hotelId: newRow.hotelId, icon: newRow.icon || null };\r\n      const res = await fetch('/api/admin/services', { method:'POST', headers:{ 'Content-Type':'application/json', ...authHeaders() }, body: JSON.stringify(payload) });\r\n      if(!res.ok) throw new Error('Tạo thất bại');\r\n      setNewRow({ name:'', description:'', price:'', status:'Active', hotelId:'', icon:'' }); setCreateOpen(false); await load({});\r\n    } catch(e){ alert(e.message || 'Lỗi'); } finally { setCreating(false); }\r\n  };\r\n\r\n  const [drafts,setDrafts] = useState({});\r\n  const [selectedId,setSelectedId] = useState(null);\r\n\r\n  // Initialize / sync drafts when items change (only add missing ids, keep user edits)\r\n  useEffect(()=>{\r\n    setDrafts(prev => {\r\n      const next = { ...prev };\r\n      items.forEach(it => {\r\n        if(!next[it.Id]) next[it.Id] = { Name: it.Name||'', Description: it.Description||'', Price: it.Price||0, Status: it.Status||'Active', HotelId: it.HotelId || '', Icon: it.Icon || '' };\r\n        else {\r\n          if(next[it.Id].HotelId===undefined) next[it.Id].HotelId = it.HotelId || '';\r\n          if(next[it.Id].Icon===undefined) next[it.Id].Icon = it.Icon || '';\r\n          // Sync status to backend value to avoid stale draft showing 'Hoạt động' while item is paused (or vice versa)\r\n          // We intentionally overwrite to keep UI consistent after background reloads.\r\n          next[it.Id].Status = it.Status || 'Active';\r\n        }\r\n      });\r\n      Object.keys(next).forEach(id => { if(!items.find(it => String(it.Id)===String(id))) delete next[id]; });\r\n      return next;\r\n    });\r\n  }, [items]);\r\n\r\n  const updateDraft = (id, field, value) => setDrafts(d => ({ ...d, [id]: { ...(d[id]||{}), [field]: value } }));\r\n\r\n  const rowChangedPayload = (id, original) => {\r\n    const dr = drafts[id]; if(!dr) return null;\r\n    const payload = {};\r\n    if (dr.Name !== original.Name) payload.name = dr.Name;\r\n    if (dr.Description !== original.Description) payload.description = dr.Description;\r\n    if (String(dr.Price) !== String(original.Price)) payload.price = dr.Price;\r\n    if (dr.Status !== original.Status) payload.status = dr.Status;\r\n    if (String(dr.HotelId||'') !== String(original.HotelId||'')) { payload.hotelId = dr.HotelId || null; }\r\n    if ((dr.Icon||'') !== (original.Icon||'')) payload.icon = dr.Icon || null;\r\n    return Object.keys(payload).length ? payload : null;\r\n  };\r\n\r\n  const saveRow = async (it) => {\r\n    const payload = rowChangedPayload(it.Id, it);\r\n    if(!payload){ alert('Không có thay đổi.'); return; }\r\n    try {\r\n      const res = await fetch(`/api/admin/services/${it.Id}`, { method:'PUT', headers:{ 'Content-Type':'application/json', ...authHeaders() }, body: JSON.stringify(payload) });\r\n      if(!res.ok) throw new Error('Lưu thất bại');\r\n      await load({});\r\n    } catch(e){ alert(e.message || 'Lỗi lưu'); }\r\n  };\r\n\r\n  const setAvailability = async (it, nextStatus) => {\r\n    const hotelId = (drafts[it.Id] && drafts[it.Id].HotelId) || it.HotelId || '';\r\n    if(!hotelId){ alert('Thiếu khách sạn cho dịch vụ'); return; }\r\n    const originalStatus = it.Status;\r\n    // Optimistic UI update\r\n    setItems(prev => prev.map(s => s.Id===it.Id ? { ...s, Status: nextStatus } : s));\r\n    setDrafts(d => ({ ...d, [it.Id]: { ...(d[it.Id]||{}), Status: nextStatus } }));\r\n    try {\r\n      const payload = { status: nextStatus, hotelId };\r\n      const res = await fetch(`/api/admin/services/${it.Id}`, { method:'PUT', headers:{ 'Content-Type':'application/json', ...authHeaders() }, body: JSON.stringify(payload) });\r\n      if(!res.ok) throw new Error('Cập nhật trạng thái thất bại');\r\n      // Optionally refresh in background to ensure consistency\r\n      load({});\r\n    } catch(e){\r\n      // Revert on failure\r\n      setItems(prev => prev.map(s => s.Id===it.Id ? { ...s, Status: originalStatus } : s));\r\n      setDrafts(d => ({ ...d, [it.Id]: { ...(d[it.Id]||{}), Status: originalStatus } }));\r\n      alert(e.message || 'Lỗi');\r\n    }\r\n  };\r\n\r\n  const rowChanged = (it) => {\r\n    const dr = drafts[it.Id]; if(!dr) return false;\r\n    return dr.Name!==it.Name || dr.Description!==it.Description || String(dr.Price)!==String(it.Price) || dr.Status!==it.Status || String(dr.HotelId||'') !== String(it.HotelId||'') || (dr.Icon||'') !== (it.Icon||'');\r\n  };\r\n\r\n  // Trigger file chooser for an existing row (serviceId) or for create modal (null)\r\n  const triggerIconUpload = (serviceId=null) => {\r\n    pendingIconForId.current = serviceId; // null => new service modal\r\n    if(fileInputRef.current){\r\n      fileInputRef.current.value = '';\r\n      fileInputRef.current.click();\r\n    }\r\n  };\r\n\r\n  const onIconFile = async (e) => {\r\n    const f = e.target.files && e.target.files[0];\r\n    if(!f) return;\r\n    // Basic client-side validation (optional)\r\n    if(!/^image\\//.test(f.type)) { alert('Vui lòng chọn file hình ảnh'); return; }\r\n    if(f.size > 2*1024*1024) { alert('Ảnh quá lớn (tối đa 2MB)'); return; }\r\n    const form = new FormData(); form.append('file', f);\r\n    try {\r\n      const res = await fetch('/api/admin/services/upload-icon', { method:'POST', headers: authHeaders(), body: form });\r\n      if(!res.ok) throw new Error('Upload thất bại');\r\n      const j = await res.json();\r\n      const path = j.path;\r\n      if(pendingIconForId.current){\r\n        const sid = pendingIconForId.current;\r\n        setDrafts(d => ({ ...d, [sid]: { ...(d[sid]||{}), Icon: path } }));\r\n        pendingIconForId.current = null;\r\n      } else {\r\n        // New service modal\r\n        setNewRow(r => ({ ...r, icon: path }));\r\n      }\r\n    } catch(err){\r\n      alert(err.message || 'Lỗi upload icon');\r\n    }\r\n  };\r\n\r\n  // Normalize icon path so existing DB values like \"dichvu/icon.png\" or \"tiennghi/ac.svg\"\r\n  // (inserted manually pointing to client/public subfolders) render correctly.\r\n  // We only force a leading slash for non-absolute (non-http) local paths and collapse backslashes.\r\n  const resolveIconPath = (p) => {\r\n    if(!p) return '';\r\n    let v = String(p).trim();\r\n    if(!v) return '';\r\n    v = v.replace(/\\\\/g,'/');\r\n    if(/^https?:\\/\\//i.test(v)) return v; // absolute URL untouched\r\n    if(!v.startsWith('/')) v = '/' + v; // ensure leading slash for public assets\r\n    return v;\r\n  };\r\n\r\n  if(!isAdminOrStaff) return <div style={{ padding:16 }}>Chức năng dành cho quản trị / nhân viên.</div>;\r\n\r\n  return (\r\n    <div ref={rootRef} className=\"af-container amenities-anim-root\" style={{ padding:12 }}>\r\n      <h2 className=\"home-rooms-title\" style={{ textAlign:'left', marginTop:0 }}>Quản lý dịch vụ khách sạn</h2>\r\n      <div className=\"reports-toolbar af-toolbar\" style={{ marginBottom:10 }}>\r\n        <div className=\"reports-field af-field-grow\">\r\n          <input className=\"reports-input\" style={{ width:'100%' }} placeholder=\"Tìm kiếm dịch vụ...\" value={q} onChange={e=>setQ(e.target.value)} />\r\n        </div>\r\n        <div className=\"reports-field\" style={{ minWidth:200 }}>\r\n          <select className=\"reports-select\" value={statusFilter} onChange={e=>setStatusFilter(e.target.value)} style={{ height:38 }}>\r\n            <option value=\"all\">Tất cả trạng thái</option>\r\n            <option value=\"active\">Hoạt động</option>\r\n            <option value=\"paused\">Tạm dừng</option>\r\n          </select>\r\n        </div>\r\n        <div className=\"reports-field\" style={{ minWidth:220 }}>\r\n          <select className=\"reports-select\" value={hotelFilter} onChange={e=>setHotelFilter(e.target.value)} style={{ height:38 }}>\r\n            <option value=\"all\">Tất cả khách sạn</option>\r\n            {hotels.map(h=> <option key={h.id||h.Id} value={h.id||h.Id}>{h.name||h.Name}</option>)}\r\n          </select>\r\n        </div>\r\n      </div>\r\n      <div style={{ marginBottom:8 }}>\r\n        {isAdmin && <button className=\"ph-btn\" onClick={()=> setCreateOpen(true)}>+ Thêm dịch vụ</button>}\r\n      </div>\r\n      {loading ? <div style={{ color:'#666' }}>Đang tải...</div> : error ? <div style={{ color:'#b42318' }}>{error}</div> : (\r\n        <table className=\"ph-table-el af-table\" style={{ width:'100%' }}>\r\n          <thead>\r\n            <tr>\r\n              <th style={{ textAlign:'center' }}>ID</th>\r\n              <th style={{ textAlign:'center' }}>Tên dịch vụ</th>\r\n              <th style={{ textAlign:'center' }}>Icon</th>\r\n              <th style={{ textAlign:'center' }}>Mô tả</th>\r\n              <th style={{ textAlign:'center' }}>Giá (VND)</th>\r\n              <th style={{ textAlign:'center' }}>Trạng thái</th>\r\n              <th style={{ textAlign:'center' }}>Khách sạn</th>\r\n              <th style={{ textAlign:'center' }}>Hành động</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {items.length===0 ? <tr><td colSpan={8} style={{ color:'#666', textAlign:'center' }}>Không có dữ liệu.</td></tr> : items.map((it,idx)=> {\r\n              const dr = drafts[it.Id] || { Name:'', Description:'', Price:0, Status:'Active' };\r\n              const statusClass = (dr.Status === 'Active') ? 'svc-status-active' : 'svc-status-paused';\r\n              return (\r\n                <tr key={it.Id} onClick={()=> setSelectedId(it.Id)} className={\"amenity-row\" + (rowChanged(it)? ' svc-row--changed':'') + (selectedId===it.Id ? ' svc-row--selected':'')} style={{ '--row-index': idx }}>\r\n                  <td className=\"ph-td\" style={{ textAlign:'left' }}>{it.Id}</td>\r\n                  <td className=\"ph-td\" style={{ textAlign:'left' }}><input value={(drafts[it.Id]||{}).Name || ''} onFocus={()=> setSelectedId(it.Id)} onChange={e=>updateDraft(it.Id,'Name', e.target.value)} /></td>\r\n                  <td className=\"ph-td\" style={{ textAlign:'left', width:120 }}>\r\n                    {(it.Icon || (drafts[it.Id]||{}).Icon) ? (\r\n                      <div style={{ display:'flex', flexDirection:'row', alignItems:'center', gap:8 }}>\r\n                        <img src={resolveIconPath((drafts[it.Id]||{}).Icon || it.Icon)} alt=\"icon\" style={{ width:44,height:44,objectFit:'cover', borderRadius:8, border:'1px solid #ddd', background:'#fafafa' }} />\r\n                        <button type=\"button\" onClick={()=> triggerIconUpload(it.Id)} style={{\r\n                          width:38, height:38, border:'1px solid #d0d5dd', background:'#fff', borderRadius:8, cursor:'pointer', display:'flex', alignItems:'center', justifyContent:'center', padding:0\r\n                        }} title=\"Thay icon\">\r\n                          <img src=\"/replace.png\" alt=\"Replace\" style={{ width:20,height:20, objectFit:'contain' }} />\r\n                        </button>\r\n                      </div>\r\n                    ) : (\r\n                      <button type=\"button\" className=\"ph-btn\" style={{ height:34, fontSize:12 }} onClick={()=> triggerIconUpload(it.Id)}>+ Icon</button>\r\n                    )}\r\n                  </td>\r\n                  <td className=\"ph-td\" style={{ textAlign:'left' }}><input value={(drafts[it.Id]||{}).Description || ''} onFocus={()=> setSelectedId(it.Id)} onChange={e=>updateDraft(it.Id,'Description', e.target.value)} /></td>\r\n                  <td className=\"ph-td\" style={{ textAlign:'left', minWidth:120 }}><input type=\"number\" value={(drafts[it.Id]||{}).Price} onFocus={()=> setSelectedId(it.Id)} onChange={e=>updateDraft(it.Id,'Price', e.target.value)} /></td>\r\n                  <td className=\"ph-td\" style={{ textAlign:'left' }}>\r\n                    <select value={(drafts[it.Id]||{}).Status} onFocus={()=> setSelectedId(it.Id)} onChange={e=>updateDraft(it.Id,'Status', e.target.value)} className={`reports-select ${statusClass}`} style={{ height:32 }}>\r\n                      <option value=\"Active\">Hoạt động</option>\r\n                      <option value=\"Paused\">Tạm dừng</option>\r\n                    </select>\r\n                  </td>\r\n                  <td className=\"ph-td\" style={{ textAlign:'left' }}>\r\n                    <select value={(drafts[it.Id]||{}).HotelId} onFocus={()=> setSelectedId(it.Id)} onChange={e=>updateDraft(it.Id,'HotelId', e.target.value)} className=\"reports-select\" style={{ height:32 }}>\r\n                      <option value=\"\">Chọn khách sạn</option>\r\n                      {hotels.map(ht=> <option key={ht.id || ht.Id} value={ht.id || ht.Id}>{ht.name || ht.Name}</option>)}\r\n                    </select>\r\n                  </td>\r\n                  <td className=\"ph-td action\" style={{ whiteSpace:'nowrap', textAlign:'left' }}>\r\n                    <button className=\"ph-btn ph-btn--success\" onClick={()=>saveRow(it)}>Sửa</button>\r\n                    {isAdmin && <button className=\"ph-btn ph-btn--danger\" onClick={()=>del(it)}>Xóa</button>}\r\n                    <button className=\"ph-btn ph-btn--warning\" disabled={!((drafts[it.Id]||{}).HotelId || it.HotelId)} onClick={()=> setAvailability(it, (it.Status)==='Active'? 'Paused':'Active')}>{(it.Status)==='Active'? 'Tạm dừng':'Kích hoạt'}</button>\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      )}\r\n\r\n      {createOpen && (\r\n        <div className=\"profile-overlay\" onMouseDown={e=>{ if(e.target===e.currentTarget) setCreateOpen(false); }}>\r\n          <div className=\"profile-modal\" onMouseDown={e=> e.stopPropagation()} style={{ width:640, maxWidth:'96%', background:'#fff', borderRadius:12, padding:16 }}>\r\n            <h3 style={{ marginTop:0, textAlign:'center' }}>Thêm dịch vụ</h3>\r\n            <div style={{ display:'grid', gridTemplateColumns:'1fr 1fr', gap:16 }}>\r\n              <label style={{ display:'flex', flexDirection:'column', gap:4 }}>Tên dịch vụ\r\n                <input value={newRow.name} onChange={e=>setNewRow(r=>({...r, name:e.target.value }))} placeholder=\"Giặt ủi...\" />\r\n              </label>\r\n              <label style={{ display:'flex', flexDirection:'column', gap:4 }}>Giá (VND)\r\n                <input type=\"number\" value={newRow.price} onChange={e=>setNewRow(r=>({...r, price:e.target.value }))} placeholder=\"100000\" />\r\n              </label>\r\n              <label style={{ gridColumn:'1 / span 2', display:'flex', flexDirection:'column', gap:4 }}>Mô tả\r\n                <textarea rows={3} value={newRow.description} onChange={e=>setNewRow(r=>({...r, description:e.target.value }))} placeholder=\"Mô tả ngắn\" />\r\n              </label>\r\n              <label style={{ display:'flex', flexDirection:'column', gap:4 }}>Trạng thái\r\n                <select className=\"reports-select\" style={{ height:38 }} value={newRow.status} onChange={e=>setNewRow(r=>({...r, status:e.target.value }))}>\r\n                  <option value=\"Active\">Hoạt động</option>\r\n                  <option value=\"Paused\">Tạm dừng</option>\r\n                </select>\r\n              </label>\r\n              <label style={{ display:'flex', flexDirection:'column', gap:4 }}>Khách sạn\r\n                <select className=\"reports-select\" style={{ height:38 }} value={newRow.hotelId} onChange={e=>setNewRow(r=>({...r, hotelId:e.target.value }))}>\r\n                  <option value=\"\">Chọn khách sạn</option>\r\n                  {hotels.map(ht=> <option key={ht.id || ht.Id} value={ht.id || ht.Id}>{ht.name || ht.Name}</option>)}\r\n                </select>\r\n              </label>\r\n              <label style={{ display:'flex', flexDirection:'column', gap:4 }}>Icon\r\n                <div style={{ display:'flex', alignItems:'center', gap:12 }}>\r\n                  {newRow.icon ? (\r\n                    <img src={resolveIconPath(newRow.icon)} alt=\"icon\" style={{ width:56,height:56,objectFit:'cover', border:'1px solid #ddd', borderRadius:10, background:'#fafafa' }} />\r\n                  ) : (\r\n                    <span style={{ fontSize:12, color:'#666' }}>Chưa chọn</span>\r\n                  )}\r\n                  <button type=\"button\" onClick={()=> { pendingIconForId.current=null; fileInputRef.current && fileInputRef.current.click(); }} style={{\r\n                    display:'flex', alignItems:'center', gap:6, background:'#fff', border:'1px solid #d0d5dd', borderRadius:8, padding:'6px 10px', cursor:'pointer'\r\n                  }}>\r\n                    <img src=\"/replace.png\" alt=\"Upload\" style={{ width:18, height:18 }} />\r\n                    <span style={{ fontSize:13 }}>Chọn / Thay</span>\r\n                  </button>\r\n                  {newRow.icon && <button type=\"button\" className=\"ph-btn ph-btn--danger\" onClick={()=> setNewRow(r=>({...r, icon:''}))}>Xóa</button>}\r\n                </div>\r\n              </label>\r\n            </div>\r\n            <div style={{ marginTop:16, display:'flex', gap:12, justifyContent:'center' }}>\r\n              <button className=\"ph-btn\" onClick={create} disabled={creating}>{creating? 'Đang tạo...':'Tạo'}</button>\r\n              <button className=\"ph-btn ph-btn--secondary\" onClick={()=>setCreateOpen(false)}>Hủy</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <input ref={fileInputRef} type=\"file\" accept=\"image/*\" style={{ display:'none' }} onChange={onIconFile} />\r\n      <style>{`\r\n        .amenities-anim-root { opacity:0; transform:translateY(12px); transition: opacity .5s ease, transform .55s cubic-bezier(.4,.2,.2,1); }\r\n        .amenities-anim-root.is-mounted { opacity:1; transform:translateY(0); }\r\n        .amenities-anim-root table.af-table { animation:tableFade .55s .12s both ease; }\r\n        @keyframes tableFade { from { opacity:0; transform:translateY(8px);} to { opacity:1; transform:translateY(0);} }\r\n\r\n        /* Compact, uniform sizing */\r\n        .af-table th, .af-table td { padding:6px 8px; vertical-align:middle; }\r\n        .af-table input, .af-table select { height:32px; line-height:32px; padding:4px 8px; font-size:14px; border:1px solid #d7dbe0; border-radius:6px; background:#fff; }\r\n        .af-table select { padding-right:28px; }\r\n        .af-table .action .ph-btn { height:32px; line-height:30px; padding:0 14px; font-size:13px; margin-right:6px; }\r\n        .af-table .action .ph-btn:last-child { margin-right:0; }\r\n        .af-table .reports-select { height:32px !important; }\r\n\r\n        /* Prevent inputs from stretching row */\r\n        .af-table input[type=number] { width:110px; }\r\n        .af-table td:nth-child(3) input { min-width:180px; }\r\n\r\n        /* Changed row highlight: border only, no size change */\r\n        .svc-row--changed { position:relative; background:transparent; box-shadow:0 0 0 2px #f9b334 inset; }\r\n        .svc-row--changed::before { display:none !important; }\r\n        .svc-row--changed input, .svc-row--changed select { background:#fff; }\r\n\r\n  /* Selected row highlight */\r\n  .svc-row--selected { background: #fffbe6; }\r\n  .svc-row--selected.svc-row--changed { box-shadow:0 0 0 2px #f59f00 inset; }\r\n\r\n        /* Smooth focus */\r\n        .af-table input:focus, .af-table select:focus { outline:none; border-color:#f2a300; box-shadow:0 0 0 2px rgba(242,163,0,.2); }\r\n\r\n        /* Responsive tightening on narrow screens */\r\n        @media (max-width: 1100px){\r\n          .af-table th, .af-table td { padding:4px 6px; }\r\n          .af-table .action .ph-btn { padding:0 10px; font-size:12px; }\r\n        }\r\n\r\n        .af-table td:nth-child(2){ width:72px; }\r\n\r\n        .reports-select.svc-status-active { background:#e6f7ec; color:#086637; border-color:#bfe6ce; }\r\n        .reports-select.svc-status-paused { background:#ffe8e6; color:#b42318; border-color:#f5b5ae; }\r\n        .reports-select.svc-status-active:focus { box-shadow:0 0 0 2px rgba(8,102,55,.25); }\r\n        .reports-select.svc-status-paused:focus { box-shadow:0 0 0 2px rgba(180,35,24,.25); }\r\n      `}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}