{"ast":null,"code":"import React,{useEffect,useMemo,useState}from'react';import{getUserRole,authHeaders}from'./auth';import'./HomePage.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function AdminReports(_ref){let{isModal,onClose}=_ref;const role=getUserRole();const isAdmin=role==='Admin';useEffect(()=>{// Prevent background page from scrolling while modal is open\nconst prev=document.body.style.overflow;document.body.style.overflow='hidden';return()=>{document.body.style.overflow=prev;};},[]);// Default to current year full range\nconst initialYear=new Date().getFullYear();const[from,setFrom]=useState(\"\".concat(initialYear,\"-01-01\"));const[to,setTo]=useState(\"\".concat(initialYear,\"-12-31\"));const[summary,setSummary]=useState({totalBookings:0,checkInsCount:0,revenue:0,availableRooms:0,totalRooms:0});const[year,setYear]=useState(()=>new Date().getFullYear());const[months,setMonths]=useState(Array.from({length:12},(_,i)=>({month:i+1,revenue:0})));const[loading,setLoading]=useState(false);const[err,setErr]=useState('');const[tick,setTick]=useState(0);const load=async()=>{setLoading(true);setErr('');try{const params=new URLSearchParams();if(from)params.set('from',from);if(to)params.set('to',to);params.set('_',String(Date.now()));const sRes=await fetch(\"/api/admin/reports/summary?\".concat(params.toString()),{cache:'no-store',headers:authHeaders()});if(!sRes.ok)throw new Error('Không thể tải tổng quan');const s=await sRes.json();setSummary({totalBookings:s.totalBookings||0,checkInsCount:s.checkInsCount||0,revenue:Number(s.revenue||0),availableRooms:s.availableRooms||0,totalRooms:s.totalRooms||0});// Align chart year with selected to-date if provided\nconst yParam=to?new Date(to).getFullYear():year;if(yParam!==year)setYear(yParam);const mRes=await fetch(\"/api/admin/reports/monthly?year=\".concat(encodeURIComponent(yParam),\"&_=\").concat(Date.now()),{cache:'no-store',headers:authHeaders()});if(!mRes.ok)throw new Error('Không thể tải doanh thu theo tháng');const mj=await mRes.json();setMonths(Array.isArray(mj.months)?mj.months:[]);}catch(e){setErr(e.message||'Lỗi tải báo cáo');}finally{setLoading(false);}};useEffect(()=>{if(isAdmin)load();},[]);useEffect(()=>{if(isAdmin)load();},[year]);// Auto-load when date filters change (debounced)\nuseEffect(()=>{if(!isAdmin)return;const id=setTimeout(()=>{load();},250);return()=>clearTimeout(id);},[isAdmin,from,to]);// Keep chart year in sync with end date's year\nuseEffect(()=>{if(!to)return;const y=new Date(to).getFullYear();if(y!==year)setYear(y);},[to]);const totalYearRevenue=useMemo(()=>months.reduce((s,m)=>s+Number(m.revenue||0),0),[months]);const yearsList=useMemo(()=>{const y=new Date().getFullYear();return[y-1,y,y+1];},[]);if(!isAdmin)return/*#__PURE__*/_jsx(\"div\",{className:\"ph-table\",style:{padding:16},children:/*#__PURE__*/_jsx(\"div\",{style:{color:'#b42318'},children:\"Ch\\u1EE9c n\\u0103ng ch\\u1EC9 d\\xE0nh cho qu\\u1EA3n tr\\u1ECB vi\\xEAn.\"})});return/*#__PURE__*/_jsxs(\"div\",{className:\"ph-table reports-root\",style:{padding:'16px 20px',maxWidth:'unset',margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"home-rooms-title\",style:{textAlign:'left',marginTop:0},children:\"B\\xC1O C\\xC1O TH\\u1ED0NG K\\xCA\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"reports-toolbar\",children:[/*#__PURE__*/_jsx(DateRangePicker,{from:from,to:to,onChange:(f,t)=>{setFrom(f);setTo(t);}}),/*#__PURE__*/_jsx(\"div\",{className:\"reports-field reports-spacer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"reports-field\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"reports-label\",children:\"Ch\\u1ECDn n\\u0103m:\"}),/*#__PURE__*/_jsx(\"select\",{className:\"reports-select\",value:year,onChange:e=>{setYear(Number(e.target.value));},children:yearsList.map(y=>/*#__PURE__*/_jsx(\"option\",{value:y,children:y},y))})]})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:'grid',gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))',gap:12,marginTop:12},children:[/*#__PURE__*/_jsx(Card,{title:\"L\\u01B0\\u1EE3t check-in\",value:String(summary.checkInsCount||0),color:\"#22c55e\"}),/*#__PURE__*/_jsx(Card,{title:\"Kh\\xE1ch \\u0111\\xE3 \\u0111\\u1EB7t\",value:String(summary.totalBookings||0),color:\"#0ea5e9\"}),/*#__PURE__*/_jsx(Card,{title:\"Doanh thu (VN\\u0110)\",value:formatVND(summary.revenue),color:\"#f59e0b\"}),/*#__PURE__*/_jsx(Card,{title:\"S\\u1ED1 ph\\xF2ng tr\\u1ED1ng\",value:String(summary.availableRooms||0),color:\"#64748b\"}),/*#__PURE__*/_jsx(Card,{title:\"T\\u1ED5ng s\\u1ED1 ph\\xF2ng\",value:String(summary.totalRooms||0),color:\"#334155\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:16},children:/*#__PURE__*/_jsx(Chart,{months:months})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:16},children:/*#__PURE__*/_jsxs(\"table\",{style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{style:{background:'#f7f7fb'},children:[/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'left',padding:'8px 6px'},children:\"Th\\xE1ng\"}),/*#__PURE__*/_jsx(\"th\",{style:{textAlign:'left',padding:'8px 6px'},children:\"Doanh thu (VN\\u0110)\"})]})}),/*#__PURE__*/_jsxs(\"tbody\",{children:[months.map(m=>/*#__PURE__*/_jsxs(\"tr\",{style:{borderTop:'1px solid #eee'},children:[/*#__PURE__*/_jsxs(\"td\",{style:{padding:'8px 6px'},children:[\"Th\\xE1ng \",m.month]}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px 6px'},children:formatVND(m.revenue)})]},m.month)),/*#__PURE__*/_jsxs(\"tr\",{style:{borderTop:'2px solid #ddd',background:'#fafafa'},children:[/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px 6px',fontWeight:700},children:\"T\\u1ED5ng n\\u0103m\"}),/*#__PURE__*/_jsx(\"td\",{style:{padding:'8px 6px',fontWeight:700},children:formatVND(totalYearRevenue)})]})]})]})}),err&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#b42318',marginTop:10},children:err})]});}function DateRangePicker(_ref2){let{from,to,onChange}=_ref2;const f=parseYMD(from);const t=parseYMD(to);const years=useMemo(()=>{const now=new Date().getFullYear();const list=[];for(let y=now-10;y<=now+1;y++)list.push(y);return list;},[]);const months=Array.from({length:12},(_,i)=>i+1);const updateFrom=(y,m,d)=>{const dayMax=daysInMonth(y,m);const dd=Math.min(d||1,dayMax);onChange(formatYMD(y,m,dd),to);};const updateTo=(y,m,d)=>{const dayMax=daysInMonth(y,m);const dd=Math.min(d||dayMax,dayMax);onChange(from,formatYMD(y,m,dd));};const fMax=daysInMonth(f.y,f.m);const tMax=daysInMonth(t.y,t.m);const fDays=Array.from({length:fMax},(_,i)=>i+1);const tDays=Array.from({length:tMax},(_,i)=>i+1);return/*#__PURE__*/_jsxs(\"div\",{className:\"reports-field\",style:{gap:14},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"reports-field reports-field-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"reports-label\",children:\"T\\u1EEB:\"}),/*#__PURE__*/_jsx(\"select\",{className:\"reports-select\",\"data-role\":\"day\",value:f.d,onChange:e=>updateFrom(f.y,f.m,Number(e.target.value)),children:fDays.map(d=>/*#__PURE__*/_jsx(\"option\",{value:d,children:d},d))}),/*#__PURE__*/_jsx(\"select\",{className:\"reports-select\",\"data-role\":\"month\",value:f.m,onChange:e=>updateFrom(f.y,Number(e.target.value),f.d),children:months.map(m=>/*#__PURE__*/_jsxs(\"option\",{value:m,children:[\"Th\\xE1ng \",m]},m))}),/*#__PURE__*/_jsx(\"select\",{className:\"reports-select\",\"data-role\":\"year\",value:f.y,onChange:e=>updateFrom(Number(e.target.value),f.m,f.d),children:years.map(y=>/*#__PURE__*/_jsx(\"option\",{value:y,children:y},y))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"reports-field reports-field-group\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"reports-label\",children:\"\\u0110\\u1EBFn:\"}),/*#__PURE__*/_jsx(\"select\",{className:\"reports-select\",\"data-role\":\"day\",value:t.d,onChange:e=>updateTo(t.y,t.m,Number(e.target.value)),children:tDays.map(d=>/*#__PURE__*/_jsx(\"option\",{value:d,children:d},d))}),/*#__PURE__*/_jsx(\"select\",{className:\"reports-select\",\"data-role\":\"month\",value:t.m,onChange:e=>updateTo(t.y,Number(e.target.value),t.d),children:months.map(m=>/*#__PURE__*/_jsxs(\"option\",{value:m,children:[\"Th\\xE1ng \",m]},m))}),/*#__PURE__*/_jsx(\"select\",{className:\"reports-select\",\"data-role\":\"year\",value:t.y,onChange:e=>updateTo(Number(e.target.value),t.m,t.d),children:years.map(y=>/*#__PURE__*/_jsx(\"option\",{value:y,children:y},y))})]})]});}function daysInMonth(year,month){return new Date(year,month,0).getDate();}function pad(n){return String(n).padStart(2,'0');}function formatYMD(y,m,d){return\"\".concat(y,\"-\").concat(pad(m),\"-\").concat(pad(d));}function parseYMD(s){try{const[y,m,d]=s.split('-').map(Number);return{y,m,d};}catch(_unused){const d=new Date();return{y:d.getFullYear(),m:d.getMonth()+1,d:d.getDate()};}}function Chart(_ref3){let{months}=_ref3;const max=Math.max(1,...months.map(x=>Number(x.revenue||0)));return/*#__PURE__*/_jsx(\"div\",{style:{width:'100%',overflowX:'auto'},children:/*#__PURE__*/_jsxs(\"div\",{style:{minWidth:680},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,margin:'6px 0 8px'},children:\"So s\\xE1nh doanh thu theo th\\xE1ng\"}),/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',alignItems:'flex-end',gap:8,height:260,padding:'12px 8px',background:'#f7f7fb',borderRadius:8},children:months.map(m=>{const h=Math.round(200*(Number(m.revenue||0)/max));return/*#__PURE__*/_jsxs(\"div\",{style:{flex:1,display:'flex',flexDirection:'column',alignItems:'center'},children:[/*#__PURE__*/_jsx(\"div\",{title:\"Th\\xE1ng \".concat(m.month,\" | Doanh thu: \").concat(formatVND(m.revenue)),style:{width:24,height:h,background:'#3b82f6',borderRadius:4}}),/*#__PURE__*/_jsxs(\"div\",{style:{fontSize:12,color:'#555',marginTop:6},children:[\"Th\\xE1ng \",m.month]})]},m.month);})})]})});}function Card(_ref4){let{title,value,color}=_ref4;return/*#__PURE__*/_jsxs(\"div\",{style:{background:'#fff',borderRadius:10,padding:12,border:'1px solid #eee'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontSize:12,color:'#666'},children:title}),/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:800,color,fontSize:20,marginTop:4},children:value})]});}function formatVND(n){const v=Number(n||0);return v.toLocaleString('vi-VN')+' đ';}","map":{"version":3,"names":["React","useEffect","useMemo","useState","getUserRole","authHeaders","jsx","_jsx","jsxs","_jsxs","AdminReports","_ref","isModal","onClose","role","isAdmin","prev","document","body","style","overflow","initialYear","Date","getFullYear","from","setFrom","concat","to","setTo","summary","setSummary","totalBookings","checkInsCount","revenue","availableRooms","totalRooms","year","setYear","months","setMonths","Array","length","_","i","month","loading","setLoading","err","setErr","tick","setTick","load","params","URLSearchParams","set","String","now","sRes","fetch","toString","cache","headers","ok","Error","s","json","Number","yParam","mRes","encodeURIComponent","mj","isArray","e","message","id","setTimeout","clearTimeout","y","totalYearRevenue","reduce","m","yearsList","className","padding","children","color","maxWidth","margin","textAlign","marginTop","DateRangePicker","onChange","f","t","value","target","map","display","gridTemplateColumns","gap","Card","title","formatVND","Chart","width","borderCollapse","background","borderTop","fontWeight","_ref2","parseYMD","years","list","push","updateFrom","d","dayMax","daysInMonth","dd","Math","min","formatYMD","updateTo","fMax","tMax","fDays","tDays","getDate","pad","n","padStart","split","_unused","getMonth","_ref3","max","x","overflowX","minWidth","alignItems","height","borderRadius","h","round","flex","flexDirection","fontSize","_ref4","border","v","toLocaleString"],"sources":["D:/DA_TichHop/HMS_AI Hotel/client/src/AdminReports.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\r\nimport { getUserRole, authHeaders } from './auth';\r\nimport './HomePage.css';\r\n\r\nexport default function AdminReports({ isModal, onClose }) {\r\n  const role = getUserRole();\r\n  const isAdmin = role === 'Admin';\r\n  useEffect(() => {\r\n    // Prevent background page from scrolling while modal is open\r\n    const prev = document.body.style.overflow;\r\n    document.body.style.overflow = 'hidden';\r\n    return () => { document.body.style.overflow = prev; };\r\n  }, []);\r\n  // Default to current year full range\r\n  const initialYear = new Date().getFullYear();\r\n  const [from, setFrom] = useState(`${initialYear}-01-01`);\r\n  const [to, setTo] = useState(`${initialYear}-12-31`);\r\n  const [summary, setSummary] = useState({ totalBookings: 0, checkInsCount: 0, revenue: 0, availableRooms: 0, totalRooms: 0 });\r\n  const [year, setYear] = useState(() => new Date().getFullYear());\r\n  const [months, setMonths] = useState(Array.from({length:12}, (_,i)=>({month:i+1,revenue:0})));\r\n  const [loading, setLoading] = useState(false);\r\n  const [err, setErr] = useState('');\r\n  const [tick, setTick] = useState(0);\r\n\r\n  const load = async () => {\r\n    setLoading(true); setErr('');\r\n    try {\r\n      const params = new URLSearchParams();\r\n  if (from) params.set('from', from);\r\n  if (to) params.set('to', to);\r\n      params.set('_', String(Date.now()));\r\n      const sRes = await fetch(`/api/admin/reports/summary?${params.toString()}`, { cache: 'no-store', headers: authHeaders() });\r\n      if (!sRes.ok) throw new Error('Không thể tải tổng quan');\r\n      const s = await sRes.json();\r\n      setSummary({\r\n        totalBookings: s.totalBookings || 0,\r\n        checkInsCount: s.checkInsCount || 0,\r\n        revenue: Number(s.revenue || 0),\r\n        availableRooms: s.availableRooms || 0,\r\n        totalRooms: s.totalRooms || 0,\r\n      });\r\n      // Align chart year with selected to-date if provided\r\n  const yParam = to ? new Date(to).getFullYear() : year;\r\n      if (yParam !== year) setYear(yParam);\r\n      const mRes = await fetch(`/api/admin/reports/monthly?year=${encodeURIComponent(yParam)}&_=${Date.now()}`, { cache: 'no-store', headers: authHeaders() });\r\n      if (!mRes.ok) throw new Error('Không thể tải doanh thu theo tháng');\r\n      const mj = await mRes.json();\r\n      setMonths(Array.isArray(mj.months) ? mj.months : []);\r\n    } catch (e) {\r\n      setErr(e.message || 'Lỗi tải báo cáo');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => { if (isAdmin) load(); }, []);\r\n  useEffect(() => { if (isAdmin) load(); }, [year]);\r\n  // Auto-load when date filters change (debounced)\r\n  useEffect(() => {\r\n    if (!isAdmin) return;\r\n    const id = setTimeout(() => { load(); }, 250);\r\n    return () => clearTimeout(id);\r\n  }, [isAdmin, from, to]);\r\n  // Keep chart year in sync with end date's year\r\n  useEffect(() => {\r\n    if (!to) return;\r\n    const y = new Date(to).getFullYear();\r\n    if (y !== year) setYear(y);\r\n  }, [to]);\r\n\r\n  const totalYearRevenue = useMemo(() => months.reduce((s, m) => s + Number(m.revenue || 0), 0), [months]);\r\n\r\n  const yearsList = useMemo(() => {\r\n    const y = new Date().getFullYear();\r\n    return [y-1, y, y+1];\r\n  }, []);\r\n\r\n  if (!isAdmin) return (\r\n    <div className=\"ph-table\" style={{ padding: 16 }}>\r\n      <div style={{ color:'#b42318' }}>Chức năng chỉ dành cho quản trị viên.</div>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"ph-table reports-root\" style={{ padding: '16px 20px', maxWidth: 'unset', margin: '0 auto' }}>\r\n      <h2 className=\"home-rooms-title\" style={{ textAlign: 'left', marginTop: 0 }}>BÁO CÁO THỐNG KÊ</h2>\r\n\r\n      <div className=\"reports-toolbar\">\r\n        <DateRangePicker from={from} to={to} onChange={(f,t)=>{ setFrom(f); setTo(t); }} />\r\n        <div className=\"reports-field reports-spacer\" />\r\n        <div className=\"reports-field\">\r\n          <div className=\"reports-label\">Chọn năm:</div>\r\n          <select className=\"reports-select\" value={year} onChange={e=>{ setYear(Number(e.target.value)); }}>\r\n            {yearsList.map(y => <option key={y} value={y}>{y}</option>)}\r\n          </select>\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ display:'grid', gridTemplateColumns:'repeat(auto-fit, minmax(200px, 1fr))', gap: 12, marginTop: 12 }}>\r\n        <Card title=\"Lượt check-in\" value={String(summary.checkInsCount || 0)} color=\"#22c55e\" />\r\n        <Card title=\"Khách đã đặt\" value={String(summary.totalBookings || 0)} color=\"#0ea5e9\" />\r\n        <Card title=\"Doanh thu (VNĐ)\" value={formatVND(summary.revenue)} color=\"#f59e0b\" />\r\n        <Card title=\"Số phòng trống\" value={String(summary.availableRooms || 0)} color=\"#64748b\" />\r\n        <Card title=\"Tổng số phòng\" value={String(summary.totalRooms || 0)} color=\"#334155\" />\r\n      </div>\r\n\r\n      <div style={{ marginTop: 16 }}>\r\n        <Chart months={months} />\r\n      </div>\r\n\r\n      <div style={{ marginTop: 16 }}>\r\n        <table style={{ width: '100%', borderCollapse: 'collapse' }}>\r\n          <thead>\r\n            <tr style={{ background:'#f7f7fb' }}>\r\n              <th style={{ textAlign:'left', padding: '8px 6px' }}>Tháng</th>\r\n              <th style={{ textAlign:'left', padding: '8px 6px' }}>Doanh thu (VNĐ)</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {months.map(m => (\r\n              <tr key={m.month} style={{ borderTop: '1px solid #eee' }}>\r\n                <td style={{ padding: '8px 6px' }}>Tháng {m.month}</td>\r\n                <td style={{ padding: '8px 6px' }}>{formatVND(m.revenue)}</td>\r\n              </tr>\r\n            ))}\r\n            <tr style={{ borderTop: '2px solid #ddd', background: '#fafafa' }}>\r\n              <td style={{ padding: '8px 6px', fontWeight: 700 }}>Tổng năm</td>\r\n              <td style={{ padding: '8px 6px', fontWeight: 700 }}>{formatVND(totalYearRevenue)}</td>\r\n            </tr>\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n\r\n      {err && <div style={{ color:'#b42318', marginTop: 10 }}>{err}</div>}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction DateRangePicker({ from, to, onChange }){\r\n  const f = parseYMD(from);\r\n  const t = parseYMD(to);\r\n  const years = useMemo(() => {\r\n    const now = new Date().getFullYear();\r\n    const list = [];\r\n    for (let y = now - 10; y <= now + 1; y++) list.push(y);\r\n    return list;\r\n  }, []);\r\n  const months = Array.from({length:12}, (_,i)=>i+1);\r\n\r\n  const updateFrom = (y,m,d) => {\r\n    const dayMax = daysInMonth(y,m);\r\n    const dd = Math.min(d || 1, dayMax);\r\n    onChange(formatYMD(y,m,dd), to);\r\n  };\r\n  const updateTo = (y,m,d) => {\r\n    const dayMax = daysInMonth(y,m);\r\n    const dd = Math.min(d || dayMax, dayMax);\r\n    onChange(from, formatYMD(y,m,dd));\r\n  };\r\n\r\n  const fMax = daysInMonth(f.y, f.m);\r\n  const tMax = daysInMonth(t.y, t.m);\r\n  const fDays = Array.from({length:fMax}, (_,i)=>i+1);\r\n  const tDays = Array.from({length:tMax}, (_,i)=>i+1);\r\n\r\n  return (\r\n    <div className=\"reports-field\" style={{ gap: 14 }}>\r\n      <div className=\"reports-field reports-field-group\">\r\n        <div className=\"reports-label\">Từ:</div>\r\n        <select className=\"reports-select\" data-role=\"day\" value={f.d} onChange={e=>updateFrom(f.y, f.m, Number(e.target.value))}>\r\n          {fDays.map(d=> <option key={d} value={d}>{d}</option>)}\r\n        </select>\r\n        <select className=\"reports-select\" data-role=\"month\" value={f.m} onChange={e=>updateFrom(f.y, Number(e.target.value), f.d)}>\r\n          {months.map(m=> <option key={m} value={m}>Tháng {m}</option>)}\r\n        </select>\r\n        <select className=\"reports-select\" data-role=\"year\" value={f.y} onChange={e=>updateFrom(Number(e.target.value), f.m, f.d)}>\r\n          {years.map(y=> <option key={y} value={y}>{y}</option>)}\r\n        </select>\r\n      </div>\r\n      <div className=\"reports-field reports-field-group\">\r\n        <div className=\"reports-label\">Đến:</div>\r\n        <select className=\"reports-select\" data-role=\"day\" value={t.d} onChange={e=>updateTo(t.y, t.m, Number(e.target.value))}>\r\n          {tDays.map(d=> <option key={d} value={d}>{d}</option>)}\r\n        </select>\r\n        <select className=\"reports-select\" data-role=\"month\" value={t.m} onChange={e=>updateTo(t.y, Number(e.target.value), t.d)}>\r\n          {months.map(m=> <option key={m} value={m}>Tháng {m}</option>)}\r\n        </select>\r\n        <select className=\"reports-select\" data-role=\"year\" value={t.y} onChange={e=>updateTo(Number(e.target.value), t.m, t.d)}>\r\n          {years.map(y=> <option key={y} value={y}>{y}</option>)}\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction daysInMonth(year, month){\r\n  return new Date(year, month, 0).getDate();\r\n}\r\nfunction pad(n){ return String(n).padStart(2, '0'); }\r\nfunction formatYMD(y,m,d){ return `${y}-${pad(m)}-${pad(d)}`; }\r\nfunction parseYMD(s){\r\n  try{\r\n    const [y,m,d] = s.split('-').map(Number);\r\n    return { y, m, d };\r\n  }catch{ const d=new Date(); return { y:d.getFullYear(), m:d.getMonth()+1, d:d.getDate() }; }\r\n}\r\n\r\nfunction Chart({ months }){\r\n  const max = Math.max(1, ...months.map(x => Number(x.revenue||0)));\r\n  return (\r\n    <div style={{ width: '100%', overflowX: 'auto' }}>\r\n      <div style={{ minWidth: 680 }}>\r\n        <div style={{ fontWeight: 700, margin: '6px 0 8px' }}>So sánh doanh thu theo tháng</div>\r\n        <div style={{ display: 'flex', alignItems: 'flex-end', gap: 8, height: 260, padding: '12px 8px', background: '#f7f7fb', borderRadius: 8 }}>\r\n          {months.map(m => {\r\n            const h = Math.round(200 * (Number(m.revenue||0) / max));\r\n            return (\r\n              <div key={m.month} style={{ flex: 1, display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                <div title={`Tháng ${m.month} | Doanh thu: ${formatVND(m.revenue)}`} style={{ width: 24, height: h, background: '#3b82f6', borderRadius: 4 }} />\r\n                <div style={{ fontSize: 12, color: '#555', marginTop: 6 }}>Tháng {m.month}</div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction Card({ title, value, color }){\r\n  return (\r\n    <div style={{ background:'#fff', borderRadius: 10, padding: 12, border: '1px solid #eee' }}>\r\n      <div style={{ fontSize: 12, color: '#666' }}>{title}</div>\r\n      <div style={{ fontWeight: 800, color, fontSize: 20, marginTop: 4 }}>{value}</div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction formatVND(n){\r\n  const v = Number(n || 0);\r\n  return v.toLocaleString('vi-VN') + ' đ';\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}