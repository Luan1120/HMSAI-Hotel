{"ast":null,"code":"var _jsxFileName = \"D:\\\\DA_TichHop\\\\HMS_AI Hotel\\\\client\\\\src\\\\AdminAmenities.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef, useState } from 'react';\nimport AnimatedDropdown from './components/AnimatedDropdown';\nimport './HomePage.css';\nimport { authHeaders, getUserRole } from './auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function AdminAmenities({\n  isModal,\n  onClose\n}) {\n  _s();\n  const isAdmin = getUserRole() === 'Admin';\n  const [q, setQ] = useState('');\n  const [status, setStatus] = useState('all'); // filter (Active/Maintenance/all)\n  const [items, setItems] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [createOpen, setCreateOpen] = useState(false);\n  const [creating, setCreating] = useState(false);\n  const [newRow, setNewRow] = useState({\n    name: '',\n    icon: '',\n    description: '',\n    image: '',\n    status: 'Active',\n    quantity: '',\n    applyTo: '',\n    note: ''\n  });\n  const [roomTypes, setRoomTypes] = useState([]);\n  const [listAnimated, setListAnimated] = useState(false); // initial stagger animation control\n  const fileInputRef = useRef(null);\n  const createIconInputRef = useRef(null);\n  const rootRef = useRef(null);\n\n  // Root mount animation\n  useEffect(() => {\n    if (rootRef.current) {\n      requestAnimationFrame(() => rootRef.current.classList.add('is-mounted'));\n    }\n  }, []);\n\n  // Load room types for ApplyTo dropdown\n  useEffect(() => {\n    let active = true;\n    fetch('/api/room-types').then(r => r.ok ? r.json() : []).then(list => {\n      if (active) setRoomTypes(Array.isArray(list) ? list : []);\n    }).catch(() => {\n      if (active) setRoomTypes([]);\n    });\n    return () => {\n      active = false;\n    };\n  }, []);\n  const load = async (opts = {}) => {\n    var _opts$q, _opts$status;\n    const qq = (_opts$q = opts.q) !== null && _opts$q !== void 0 ? _opts$q : q;\n    const ss = (_opts$status = opts.status) !== null && _opts$status !== void 0 ? _opts$status : status;\n    setLoading(true);\n    setError('');\n    try {\n      const url = new URL('/api/admin/amenities', window.location.origin);\n      if (qq) url.searchParams.set('q', qq);\n      if (ss && ss !== 'all') {\n        // Map filter to stored English values\n        const mapFilter = {\n          active: 'Active',\n          maintenance: 'Maintenance'\n        };\n        const key = mapFilter[ss.toLowerCase()];\n        if (key) url.searchParams.set('status', key);\n      }\n      const res = await fetch(url.toString(), {\n        headers: authHeaders(),\n        cache: 'no-store'\n      });\n      if (!res.ok) throw new Error('Không tải được tiện nghi');\n      const j = await res.json();\n      const list = Array.isArray(j.items) ? j.items : [];\n      // Normalize status: any non-Maintenance => Active\n      list.forEach(it => {\n        if (Object.prototype.hasOwnProperty.call(it, 'Status')) {\n          const s = String(it.Status || '').toLowerCase();\n          it.Status = s === 'maintenance' ? 'Maintenance' : 'Active';\n        }\n        if (it.Quantity === undefined && it.QuantityLabel) {\n          const m = String(it.QuantityLabel).match(/(\\d+)/);\n          if (m) it.Quantity = Number(m[1]);\n        }\n        if (it.Quantity !== undefined) it.Quantity = clampQuantity(it.Quantity);\n      });\n      setItems(list);\n    } catch (e) {\n      setError(e.message || 'Lỗi');\n      setItems([]);\n    } finally {\n      setLoading(false);\n    }\n  };\n  useEffect(() => {\n    if (isAdmin) load({\n      q: '',\n      status: 'all'\n    });\n  }, []);\n  // debounce\n  const ref = useRef(null);\n  useEffect(() => {\n    if (!isAdmin) return;\n    if (ref.current) clearTimeout(ref.current);\n    ref.current = setTimeout(() => load({}), 300);\n    return () => {\n      if (ref.current) clearTimeout(ref.current);\n    };\n  }, [q, status]);\n  const updateField = (id, field, value) => setItems(prev => prev.map(it => it.Id === id ? {\n    ...it,\n    [field]: value\n  } : it));\n  const save = async it => {\n    try {\n      const payload = {\n        name: it.Name,\n        icon: it.Icon,\n        description: it.Description || it.Note,\n        image: it.Image,\n        status: it.Status,\n        quantity: it.Quantity === '' ? null : it.Quantity,\n        applyTo: it.ApplyTo,\n        note: it.Note\n      };\n      const res = await fetch(`/api/admin/amenities/${it.Id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          ...authHeaders()\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!res.ok) throw new Error('Lưu thất bại');\n      await load({});\n    } catch (e) {\n      alert(e.message || 'Lỗi lưu');\n    }\n  };\n  const del = async it => {\n    if (!window.confirm('Xóa tiện nghi này?')) return;\n    try {\n      const res = await fetch(`/api/admin/amenities/${it.Id}`, {\n        method: 'DELETE',\n        headers: authHeaders()\n      });\n      if (!res.ok) throw new Error('Xóa thất bại');\n      await load({});\n    } catch (e) {\n      alert(e.message || 'Lỗi xóa');\n    }\n  };\n  const create = async () => {\n    if (!newRow.name || !newRow.name.trim()) {\n      alert('Nhập tên tiện nghi');\n      return;\n    }\n    setCreating(true);\n    try {\n      const payload = {\n        name: newRow.name,\n        icon: newRow.icon,\n        description: newRow.note || newRow.description,\n        image: newRow.image,\n        status: newRow.status,\n        quantityLabel: newRow.quantity ? `${newRow.quantity}/phòng` : '',\n        applyTo: newRow.applyTo === '*' ? '' : newRow.applyTo,\n        note: newRow.note || newRow.description,\n        quantity: newRow.quantity || null\n      };\n      const res = await fetch('/api/admin/amenities', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...authHeaders()\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!res.ok) throw new Error('Tạo thất bại');\n      setNewRow({\n        name: '',\n        icon: '',\n        description: '',\n        image: '',\n        status: 'Active',\n        quantity: '',\n        applyTo: '',\n        note: ''\n      });\n      setCreateOpen(false);\n      await load({});\n    } catch (e) {\n      alert(e.message || 'Lỗi tạo');\n    } finally {\n      setCreating(false);\n    }\n  };\n  const uploadIcon = async (file, cb) => {\n    const form = new FormData();\n    form.append('file', file);\n    try {\n      const res = await fetch('/api/admin/amenities/upload-icon', {\n        method: 'POST',\n        headers: authHeaders(),\n        body: form\n      });\n      if (!res.ok) throw new Error('Tải icon thất bại');\n      const j = await res.json();\n      // Removed debug log for uploaded icon path\n      cb && cb(j.path);\n    } catch (e) {\n      alert(e.message || 'Không tải được icon');\n    }\n  };\n\n  // Resolve legacy DB stored icon paths (e.g., 'tiennghi/wifi.png', 'dichvu/spa.svg')\n  // Ensure they point to files under client/public so <img src> works directly.\n  const resolveIconPath = p => {\n    if (!p) return '';\n    let v = String(p).trim();\n    if (!v) return '';\n    v = v.replace(/\\\\/g, '/');\n    if (/^https?:\\/\\//i.test(v)) return v; // absolute URL\n    if (!v.startsWith('/')) v = '/' + v; // ensure leading slash\n    return v;\n  };\n  const handleInlineIconChange = (id, file) => {\n    if (!file) return;\n    uploadIcon(file, path => {\n      updateField(id, 'Icon', path);\n    });\n  };\n\n  // Helper to parse quantity label to number\n  function parseQty(label) {\n    if (!label) return '';\n    const m = String(label).match(/(\\d+)/);\n    return m ? m[1] : '';\n  }\n\n  // Add helper to clamp quantity\n  function clampQuantity(v) {\n    if (v === '' || v === null || v === undefined) return '';\n    const n = Number(v);\n    if (Number.isNaN(n) || n < 0) return '';\n    return n > 100 ? 100 : n;\n  }\n\n  // Icon placeholder component\n  const AmenityIconPlaceholder = ({\n    size = 24\n  }) => /*#__PURE__*/_jsxDEV(\"svg\", {\n    width: size,\n    height: size,\n    viewBox: \"0 0 24 24\",\n    fill: \"none\",\n    stroke: \"#999\",\n    strokeWidth: \"1.5\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\",\n    children: [/*#__PURE__*/_jsxDEV(\"rect\", {\n      x: \"3\",\n      y: \"3\",\n      width: \"18\",\n      height: \"18\",\n      rx: \"4\",\n      ry: \"4\",\n      stroke: \"#ccc\",\n      fill: \"#f5f5f5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n      d: \"M8 16h8M8 12h8M8 8h4\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 156,\n    columnNumber: 5\n  }, this);\n  if (!isAdmin) return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 16,\n      color: '#b42318'\n    },\n    children: \"Ch\\u1EE9c n\\u0103ng ch\\u1EC9 d\\xE0nh cho qu\\u1EA3n tr\\u1ECB vi\\xEAn.\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 24\n  }, this);\n\n  // When used in modal context, clear any transient visual states on unmount\n  useEffect(() => {\n    return () => {\n      // Currently no per-row selected state here, but placeholder for future highlight cleanup\n    };\n  }, []);\n\n  // Flag list animation only first non-empty load\n  useEffect(() => {\n    if (items.length && !listAnimated) {\n      // allow next paint first\n      const t = setTimeout(() => setListAnimated(true), 600); // after animations play once\n      return () => clearTimeout(t);\n    }\n  }, [items, listAnimated]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: rootRef,\n    className: \"af-container amenities-anim-root\",\n    style: {\n      padding: 12\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"home-rooms-title\",\n      style: {\n        textAlign: 'left',\n        marginTop: 0\n      },\n      children: \"Qu\\u1EA3n l\\xFD ti\\u1EC7n nghi\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"reports-toolbar af-toolbar\",\n      style: {\n        marginBottom: 10\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reports-field af-field-grow\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          className: \"reports-input\",\n          style: {\n            width: '100%'\n          },\n          placeholder: \"T\\xECm ti\\u1EC7n nghi...\",\n          value: q,\n          onChange: e => setQ(e.target.value)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 182,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"reports-field\",\n        style: {\n          minWidth: 190\n        },\n        children: /*#__PURE__*/_jsxDEV(AnimatedDropdown, {\n          value: status,\n          onChange: setStatus,\n          options: [{\n            value: 'all',\n            label: 'Tất cả trạng thái'\n          }, {\n            value: 'active',\n            label: 'Đang hoạt động'\n          }, {\n            value: 'maintenance',\n            label: 'Đang bảo trì'\n          }],\n          placeholder: \"Tr\\u1EA1ng th\\xE1i\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 185,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 184,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: 8\n      },\n      children: /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"ph-btn\",\n        onClick: () => setCreateOpen(true),\n        children: \"+ Th\\xEAm ti\\u1EC7n nghi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#666'\n      },\n      children: \"\\u0110ang t\\u1EA3i...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 18\n    }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#b42318'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 201,\n      columnNumber: 76\n    }, this) : (() => {\n      const hasStatus = items.some(it => Object.prototype.hasOwnProperty.call(it, 'Status'));\n      const hasQuantityLabel = items.some(it => Object.prototype.hasOwnProperty.call(it, 'QuantityLabel'));\n      const hasApplyTo = items.some(it => Object.prototype.hasOwnProperty.call(it, 'ApplyTo'));\n      const hasNote = items.some(it => Object.prototype.hasOwnProperty.call(it, 'Note'));\n      const renderStatus = v => {\n        const val = v === undefined || v === null ? 'Active' : String(v);\n        const on = val === 'Active';\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: `ph-badge ${on ? 'ph-badge--success' : 'ph-badge--warning'}`,\n          children: on ? 'Đang hoạt động' : 'Đang bảo trì'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 20\n        }, this);\n      };\n      return /*#__PURE__*/_jsxDEV(\"table\", {\n        className: \"ph-table-el af-table\",\n        style: {\n          textAlign: 'center'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          style: {\n            textAlign: 'center'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                textAlign: 'center'\n              },\n              children: \"TT\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 216,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                textAlign: 'center'\n              },\n              children: \"T\\xEAn ti\\u1EC7n nghi\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 217,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                textAlign: 'center'\n              },\n              children: \"Icon\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 218,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                textAlign: 'center',\n                minWidth: 160\n              },\n              children: \"Tr\\u1EA1ng th\\xE1i\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                textAlign: 'center'\n              },\n              children: \"S\\u1ED1 l\\u01B0\\u1EE3ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 220,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                textAlign: 'center',\n                minWidth: 200\n              },\n              children: \"\\xC1p d\\u1EE5ng cho ph\\xF2ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                textAlign: 'center'\n              },\n              children: \"Ghi ch\\xFA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 222,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              style: {\n                textAlign: 'center'\n              },\n              children: \"H\\xE0nh \\u0111\\u1ED9ng\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 215,\n            columnNumber: 17\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: items.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td\",\n              colSpan: 8,\n              style: {\n                textAlign: 'center',\n                color: '#666'\n              },\n              children: \"Kh\\xF4ng c\\xF3 d\\u1EEF li\\u1EC7u.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 23\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 19\n          }, this) : items.map((it, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            className: \"amenity-row\" + (listAnimated ? \" amenity-row--static\" : \"\"),\n            style: {\n              '--row-index': idx\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td center\",\n              children: idx + 1\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 231,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td\",\n              style: {\n                textAlign: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"input\", {\n                value: it.AmenityName || it.Name || '',\n                onChange: e => {\n                  updateField(it.Id, it.AmenityName !== undefined ? 'AmenityName' : 'Name', e.target.value);\n                  if (it.AmenityName !== undefined) updateField(it.Id, 'Name', e.target.value);\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 232,\n                columnNumber: 74\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 232,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td\",\n              style: {\n                textAlign: 'center'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  display: 'flex',\n                  alignItems: 'center',\n                  justifyContent: 'center',\n                  gap: 6\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `amenity-icon-wrapper ${!it.Icon ? 'placeholder' : ''}`,\n                  children: it.Icon ? /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: resolveIconPath(it.Icon),\n                    alt: \"icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 84\n                  }, this) : /*#__PURE__*/_jsxDEV(AmenityIconPlaceholder, {\n                    size: 20\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 235,\n                    columnNumber: 136\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 235,\n                  columnNumber: 3\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"tooltip-wrap\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    type: \"button\",\n                    className: \"amenity-icon-btn\",\n                    onClick: () => {\n                      if (fileInputRef.current) {\n                        fileInputRef.current.onchange = e => {\n                          const f = e.target.files[0];\n                          handleInlineIconChange(it.Id, f);\n                        };\n                        fileInputRef.current.click();\n                      }\n                    },\n                    \"aria-label\": \"Thay icon\",\n                    children: /*#__PURE__*/_jsxDEV(\"img\", {\n                      src: \"/replace.png\",\n                      alt: \"Replace\",\n                      style: {\n                        width: 16,\n                        height: 16\n                      }\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 238,\n                      columnNumber: 13\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 237,\n                    columnNumber: 11\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"tooltip-bubble\",\n                    children: \"Thay icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 240,\n                    columnNumber: 11\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 9\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 7\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td center\",\n              style: {\n                minWidth: 160\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"select-anim\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: it.Status || 'Active',\n                  onChange: e => updateField(it.Id, 'Status', e.target.value),\n                  onFocus: e => e.target.parentElement.classList.add('opening'),\n                  onAnimationEnd: e => e.target.parentElement.classList.remove('opening'),\n                  className: `reports-select amenity-inline-select status-select ${it.Status === 'Maintenance' ? 'status-maint' : 'status-active'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Active\",\n                    children: \"\\u0110ang ho\\u1EA1t \\u0111\\u1ED9ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 247,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"Maintenance\",\n                    children: \"\\u0110ang b\\u1EA3o tr\\xEC\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 246,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 244,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td\",\n              style: {\n                textAlign: 'center',\n                minWidth: 110\n              },\n              children: (() => {\n                const q = clampQuantity(it.Quantity);\n                const numList = Array.from({\n                  length: 100\n                }, (_, i) => ({\n                  value: String(i + 1),\n                  label: String(i + 1)\n                }));\n                return /*#__PURE__*/_jsxDEV(AnimatedDropdown, {\n                  value: q === '' ? '' : String(q),\n                  onChange: val => {\n                    const num = clampQuantity(val);\n                    updateField(it.Id, 'Quantity', num === '' ? '' : num);\n                  },\n                  options: numList,\n                  placeholder: \"Ch\\u1ECDn\",\n                  emptyLabel: \"Kh\\xF4ng gi\\u1EDBi h\\u1EA1n\",\n                  className: \"adrop--sm\",\n                  width: 110\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 257,\n                  columnNumber: 27\n                }, this);\n              })()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td\",\n              style: {\n                textAlign: 'center',\n                minWidth: 200\n              },\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"select-anim\",\n                children: /*#__PURE__*/_jsxDEV(\"select\", {\n                  value: it.ApplyTo || '',\n                  onChange: e => updateField(it.Id, 'ApplyTo', e.target.value),\n                  onFocus: e => e.target.parentElement.classList.add('opening'),\n                  onAnimationEnd: e => e.target.parentElement.classList.remove('opening'),\n                  className: \"reports-select amenity-inline-select\",\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"T\\u1EA5t c\\u1EA3 ph\\xF2ng\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 272,\n                    columnNumber: 27\n                  }, this), roomTypes.map(rt => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: rt.name,\n                    children: rt.name\n                  }, rt.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 273,\n                    columnNumber: 48\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 271,\n                  columnNumber: 25\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 270,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 269,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td\",\n              style: {\n                textAlign: 'center'\n              },\n              children: hasNote ? /*#__PURE__*/_jsxDEV(\"input\", {\n                value: it.Note || '',\n                onChange: e => updateField(it.Id, 'Note', e.target.value),\n                placeholder: \"Ghi ch\\xFA\",\n                style: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 25\n              }, this) : /*#__PURE__*/_jsxDEV(\"input\", {\n                value: it.Description || '',\n                onChange: e => updateField(it.Id, 'Description', e.target.value),\n                placeholder: \"Ghi ch\\xFA\",\n                style: {\n                  width: '100%'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 281,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 277,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n              className: \"ph-td action\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"ph-btn ph-btn--success\",\n                onClick: () => save(it),\n                children: \"S\\u1EEDa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 23\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"ph-btn ph-btn--danger\",\n                onClick: () => del(it),\n                children: \"X\\xF3a\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 286,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 284,\n              columnNumber: 21\n            }, this)]\n          }, it.Id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 230,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 226,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 13\n      }, this);\n    })(), createOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-overlay\",\n      onMouseDown: e => {\n        if (e.target === e.currentTarget) setCreateOpen(false);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-modal\",\n        onMouseDown: e => e.stopPropagation(),\n        style: {\n          width: 740,\n          maxWidth: '98%',\n          background: '#fff',\n          borderRadius: 12,\n          padding: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginTop: 0,\n            textAlign: 'center'\n          },\n          children: \"Th\\xEAm ti\\u1EC7n nghi\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"au-create\",\n          style: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            gap: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 4\n            },\n            children: [\"T\\xEAn ti\\u1EC7n nghi\", /*#__PURE__*/_jsxDEV(\"input\", {\n              value: newRow.name,\n              onChange: e => setNewRow({\n                ...newRow,\n                name: e.target.value\n              }),\n              placeholder: \"Wi-Fi, \\u0110i\\u1EC1u h\\xF2a...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 302,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 4\n            },\n            children: [\"Tr\\u1EA1ng th\\xE1i\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"select-anim\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: newRow.status,\n                onChange: e => setNewRow({\n                  ...newRow,\n                  status: e.target.value\n                }),\n                className: \"reports-select\",\n                style: {\n                  height: 38\n                },\n                onFocus: e => e.target.parentElement.classList.add('opening'),\n                onAnimationEnd: e => e.target.parentElement.classList.remove('opening'),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Active\",\n                  children: \"\\u0110ang ho\\u1EA1t \\u0111\\u1ED9ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 306,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"Maintenance\",\n                  children: \"\\u0110ang b\\u1EA3o tr\\xEC\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 307,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 305,\n                columnNumber: 46\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 4\n            },\n            children: [\"S\\u1ED1 l\\u01B0\\u1EE3ng\", /*#__PURE__*/_jsxDEV(AnimatedDropdown, {\n              value: newRow.quantity ? String(newRow.quantity) : '',\n              onChange: val => setNewRow(r => ({\n                ...r,\n                quantity: clampQuantity(val)\n              })),\n              options: Array.from({\n                length: 100\n              }, (_, i) => ({\n                value: String(i + 1),\n                label: String(i + 1)\n              })),\n              emptyLabel: \"Kh\\xF4ng gi\\u1EDBi h\\u1EA1n\",\n              placeholder: \"Ch\\u1ECDn\",\n              className: \"adrop--sm\",\n              width: \"100%\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 4\n            },\n            children: [\"\\xC1p d\\u1EE5ng cho ph\\xF2ng\", /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"select-anim\",\n              children: /*#__PURE__*/_jsxDEV(\"select\", {\n                value: newRow.applyTo,\n                onChange: e => setNewRow(r => ({\n                  ...r,\n                  applyTo: e.target.value\n                })),\n                className: \"reports-select\",\n                style: {\n                  height: 38\n                },\n                onFocus: e => e.target.parentElement.classList.add('opening'),\n                onAnimationEnd: e => e.target.parentElement.classList.remove('opening'),\n                children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                  value: \"\",\n                  children: \"T\\u1EA5t c\\u1EA3 ph\\xF2ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 19\n                }, this), roomTypes.map(rt => /*#__PURE__*/_jsxDEV(\"option\", {\n                  value: rt.name,\n                  children: rt.name\n                }, rt.id, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 324,\n                  columnNumber: 40\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 46\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 4\n            },\n            children: [\"Ghi ch\\xFA\", /*#__PURE__*/_jsxDEV(\"input\", {\n              value: newRow.note,\n              onChange: e => setNewRow({\n                ...newRow,\n                note: e.target.value\n              }),\n              placeholder: \"Ghi ch\\xFA\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 328,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 327,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 4\n            },\n            children: [\"Icon (t\\u1EA3i l\\xEAn)\", /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                display: 'flex',\n                alignItems: 'center',\n                gap: 8\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: `amenity-icon-wrapper ${!newRow.icon ? 'placeholder' : ''}`,\n                children: newRow.icon ? /*#__PURE__*/_jsxDEV(\"img\", {\n                  src: resolveIconPath(newRow.icon),\n                  alt: \"icon\",\n                  style: {\n                    width: 32,\n                    height: 32,\n                    objectFit: 'contain'\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 108\n                }, this) : /*#__PURE__*/_jsxDEV(AmenityIconPlaceholder, {\n                  size: 24\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 332,\n                  columnNumber: 217\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"tooltip-wrap\",\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  type: \"button\",\n                  className: \"amenity-icon-btn\",\n                  onClick: () => {\n                    if (createIconInputRef.current) createIconInputRef.current.click();\n                  },\n                  \"aria-label\": \"Thay icon\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: \"/replace.png\",\n                    alt: \"Replace\",\n                    style: {\n                      width: 18,\n                      height: 18\n                    }\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 335,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"tooltip-bubble\",\n                  children: \"Thay icon\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 337,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 333,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 331,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            style: {\n              display: 'flex',\n              flexDirection: 'column',\n              gap: 4\n            },\n            children: [\"\\u1EA2nh (URL)\", /*#__PURE__*/_jsxDEV(\"input\", {\n              value: newRow.image,\n              onChange: e => setNewRow({\n                ...newRow,\n                image: e.target.value\n              }),\n              placeholder: \"/uploads/amenity.png\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 342,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 300,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginTop: 16,\n            display: 'flex',\n            gap: 12,\n            justifyContent: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"ph-btn\",\n            onClick: create,\n            disabled: creating,\n            children: creating ? 'Đang tạo...' : 'Tạo'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"ph-btn ph-btn--secondary\",\n            onClick: () => setCreateOpen(false),\n            children: \"H\\u1EE7y\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 347,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 298,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 297,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      ref: fileInputRef,\n      type: \"file\",\n      accept: \"image/*\",\n      style: {\n        display: 'none'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 352,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      children: `\n  .status-select.status-active { background:#e6f7ec; color:#086637; border-color:#bfe6ce; }\n  .status-select.status-maint { background:#fff7e0; color:#8a6d00; border-color:#f3dfa3; }\n  /* Fix inline select clipping for Vietnamese diacritics */\n  .amenity-inline-select { \n    /* Remove fixed height to let font metrics breathe; ensure enough min-height */\n    height:auto; \n    min-height:40px; \n    line-height:1.35; /* taller line box so g,y,j,p,q not clipped */\n    padding:6px 12px 10px 12px; /* extra bottom padding for descenders */\n    font-size:14px; \n    display:inline-block; \n    vertical-align:middle; \n    box-sizing:border-box; \n  }\n  .amenity-inline-select option { line-height:1.35; }\n  .amenity-icon-btn { \n    background:#f5f7fa;\n    border:1px solid #d6dbe1;\n    border-radius:8px;\n    padding:4px 6px;\n    cursor:pointer;\n    display:flex;\n    align-items:center;\n    justify-content:center;\n    gap:4px;\n    transition: background .18s, box-shadow .18s, transform .12s;\n    box-shadow:0 1px 2px rgba(0,0,0,0.04);\n  }\n  .amenity-icon-btn:hover { background:#eef3f9; box-shadow:0 2px 4px rgba(0,0,0,0.06); }\n  .amenity-icon-btn:active { transform:translateY(1px); box-shadow:0 1px 2px rgba(0,0,0,0.05); }\n  .amenity-icon-btn:focus-visible { outline:2px solid #3399ff; outline-offset:2px; }\n  .amenity-icon-wrapper { \n    display:flex; align-items:center; justify-content:center; \n    width:30px; height:30px; border:1px solid #e0e4ea; border-radius:8px; background:#fff; \n  }\n  .amenity-icon-wrapper img { width:24px; height:24px; object-fit:contain; }\n  .amenity-icon-wrapper.placeholder { background:linear-gradient(135deg,#f8f9fa,#eef1f4); }\n  /* Tooltip */\n  .tooltip-wrap { position:relative; display:inline-flex; }\n  .tooltip-bubble { position:absolute; bottom:100%; left:50%; transform:translateX(-50%) translateY(-6px); background:#1f2933; color:#fff; font-size:11px; line-height:1.2; padding:6px 8px; border-radius:6px; white-space:nowrap; opacity:0; pointer-events:none; transition: opacity .18s, transform .18s; box-shadow:0 4px 12px rgba(0,0,0,0.18); z-index:10; }\n  .tooltip-bubble::after { content:\"\"; position:absolute; top:100%; left:50%; transform:translateX(-50%); width:0; height:0; border-left:6px solid transparent; border-right:6px solid transparent; border-top:6px solid #1f2933; }\n  .tooltip-wrap:hover .tooltip-bubble, .tooltip-wrap:focus-within .tooltip-bubble { opacity:1; transform:translateX(-50%) translateY(-10px); }\n  /* Lightweight animated wrapper for native selects */\n  .select-anim { position:relative; display:inline-flex; border-radius:10px; padding:2px; --sel-shadow:0 1px 2px rgba(0,0,0,0.06); }\n  .select-anim select.reports-select { transition: box-shadow .28s cubic-bezier(.4,.2,.2,1), transform .25s ease, background-color .35s; box-shadow: var(--sel-shadow); background:#fff; border-radius:8px; }\n  .select-anim:focus-within select.reports-select { box-shadow:0 0 0 3px rgba(51,153,255,0.35), 0 4px 14px -2px rgba(0,0,0,0.18); transform:scale(1.015); }\n  .select-anim:active select.reports-select { transform:scale(.985); }\n  .select-anim::after { content:\"\"; position:absolute; inset:0; border-radius:12px; background:linear-gradient(120deg,#e3f4ff,#f4faff 60%); opacity:0; transform:scale(.92); transition:opacity .35s, transform .4s; pointer-events:none; }\n  .select-anim:focus-within::after { opacity:1; transform:scale(1); }\n  .select-anim.opening select.reports-select { animation:selPulse .45s ease; }\n  @keyframes selPulse { 0%{transform:scale(.94);} 55%{transform:scale(1.02);} 100%{transform:scale(1);} }\n  /* (Future) custom dropdown base styles (will be populated when component integrated) */\n  .adrop { position:relative; font-size:14px; }\n  .adrop-btn { display:flex; align-items:center; gap:6px; background:#fff; border:1px solid #cfd6dd; border-radius:8px; padding:6px 10px; min-height:36px; cursor:pointer; transition: box-shadow .25s, border-color .25s, background .3s; width:100%; }\n  .adrop-btn:hover { background:#f5f9fc; }\n  .adrop-btn:focus-visible { outline:2px solid #3399ff; outline-offset:2px; }\n  .adrop[data-open=\"true\"] .adrop-btn { box-shadow:0 0 0 3px rgba(51,153,255,.3); border-color:#3399ff; }\n  .adrop-list { position:absolute; z-index:50; top:calc(100% + 4px); left:0; width:100%; max-height:260px; overflow:auto; background:#fff; border:1px solid #d5dce3; border-radius:10px; box-shadow:0 10px 28px -6px rgba(0,0,0,.18), 0 4px 8px -2px rgba(0,0,0,.12); padding:6px 0; opacity:0; transform:translateY(4px) scale(.96); transform-origin: top center; pointer-events:none; transition:opacity .25s ease, transform .28s cubic-bezier(.4,.2,.2,1); }\n  .adrop[data-open=\"true\"] .adrop-list { opacity:1; transform:translateY(0) scale(1); pointer-events:auto; }\n  .adrop-opt { display:flex; align-items:center; gap:6px; padding:6px 12px; cursor:pointer; line-height:1.3; position:relative; }\n  .adrop-opt:hover, .adrop-opt[aria-selected=\"true\"] { background:#f0f7ff; }\n  .adrop-opt[aria-selected=\"true\"]::after { content:\"✓\"; position:absolute; right:10px; font-size:12px; color:#1673c8; }\n  .adrop-empty { padding:10px 12px; color:#666; font-style:italic; }\n  .adrop-fade-enter { animation:fadeScale .3s ease; }\n  @keyframes fadeScale { from { opacity:0; transform:translateY(4px) scale(.94);} to { opacity:1; transform:translateY(0) scale(1);} }\n  /* Small variant */\n  .adrop.adrop--sm .adrop-btn { min-height:32px; padding:4px 8px; font-size:13px; }\n  .adrop.adrop--sm .adrop-list { font-size:13px; }\n  .adrop .adrop-list { max-height:260px; overscroll-behavior:contain; }\n  /* ===================== FORM-WIDE ANIMATIONS ===================== */\n  .amenities-anim-root { opacity:0; transform:translateY(12px); transition: opacity .5s ease, transform .55s cubic-bezier(.4,.2,.2,1); }\n  .amenities-anim-root.is-mounted { opacity:1; transform:translateY(0); }\n  .amenities-anim-root .reports-toolbar { position:relative; animation:toolbarSlide .55s .05s both cubic-bezier(.4,.2,.2,1); }\n  @keyframes toolbarSlide { from { opacity:0; transform:translateY(-6px);} to { opacity:1; transform:translateY(0);} }\n  .amenities-anim-root table.af-table { animation:tableFade .55s .12s both ease; }\n  @keyframes tableFade { from { opacity:0; transform:translateY(8px);} to { opacity:1; transform:translateY(0);} }\n  /* Staggered rows */\n  .amenity-row { opacity:0; transform:translateY(10px); animation:rowIn .55s calc(.15s + (var(--row-index,0) * 45ms)) both cubic-bezier(.4,.2,.2,1); }\n  .amenity-row--static { animation:none; opacity:1; transform:none; }\n  @keyframes rowIn { 0% { opacity:0; transform:translateY(10px);} 70%{ opacity:1;} 100% { opacity:1; transform:translateY(0);} }\n  /* Input / select focus pop */\n  .af-table input, .af-table select.reports-select { transition: box-shadow .25s, background-color .35s, transform .25s; }\n  .af-table input:focus, .af-table select.reports-select:focus { box-shadow:0 0 0 3px rgba(51,153,255,0.30), 0 4px 10px -2px rgba(0,0,0,0.15); background:#fff; transform:translateY(-1px); }\n  /* Row focus highlight when any child focused */\n  .af-table tr:focus-within { outline:2px solid #3399ff33; outline-offset:-2px; background:linear-gradient(90deg,#f2f9ff,#ffffff); }\n  /* Modal open animation */\n  .profile-overlay { animation:overlayFade .35s ease; }\n  @keyframes overlayFade { from { background-color:rgba(0,0,0,0); } to { background-color:rgba(0,0,0,0.4);} }\n  .profile-modal { animation:modalPop .48s cubic-bezier(.4,.2,.2,1); }\n  @keyframes modalPop { 0% { opacity:0; transform:translateY(18px) scale(.94);} 55% { opacity:1; transform:translateY(-2px) scale(1.01);} 100% { opacity:1; transform:translateY(0) scale(1);} }\n  /* Button subtle press + focus unify */\n  .ph-btn { transition: box-shadow .25s, transform .2s, background-color .3s, border-color .3s; }\n  .ph-btn:active { transform:translateY(1px) scale(.985); }\n  .ph-btn:focus-visible { box-shadow:0 0 0 3px rgba(51,153,255,.35); }\n  /* Utility (reduce motion respect) */\n  @media (prefers-reduced-motion: reduce){\n    .amenities-anim-root, .amenities-anim-root * { animation:none !important; transition:none !important; }\n  }\n`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 353,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 178,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminAmenities, \"luTSzD2iZsM4kT0XkMUy7n9uCCo=\");\n_c = AdminAmenities;\nvar _c;\n$RefreshReg$(_c, \"AdminAmenities\");","map":{"version":3,"names":["React","useEffect","useRef","useState","AnimatedDropdown","authHeaders","getUserRole","jsxDEV","_jsxDEV","AdminAmenities","isModal","onClose","_s","isAdmin","q","setQ","status","setStatus","items","setItems","loading","setLoading","error","setError","createOpen","setCreateOpen","creating","setCreating","newRow","setNewRow","name","icon","description","image","quantity","applyTo","note","roomTypes","setRoomTypes","listAnimated","setListAnimated","fileInputRef","createIconInputRef","rootRef","current","requestAnimationFrame","classList","add","active","fetch","then","r","ok","json","list","Array","isArray","catch","load","opts","_opts$q","_opts$status","qq","ss","url","URL","window","location","origin","searchParams","set","mapFilter","maintenance","key","toLowerCase","res","toString","headers","cache","Error","j","forEach","it","Object","prototype","hasOwnProperty","call","s","String","Status","Quantity","undefined","QuantityLabel","m","match","Number","clampQuantity","e","message","ref","clearTimeout","setTimeout","updateField","id","field","value","prev","map","Id","save","payload","Name","Icon","Description","Note","Image","ApplyTo","method","body","JSON","stringify","alert","del","confirm","create","trim","quantityLabel","uploadIcon","file","cb","form","FormData","append","path","resolveIconPath","p","v","replace","test","startsWith","handleInlineIconChange","parseQty","label","n","isNaN","AmenityIconPlaceholder","size","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","x","y","rx","ry","fileName","_jsxFileName","lineNumber","columnNumber","d","style","padding","color","length","t","className","textAlign","marginTop","marginBottom","placeholder","onChange","target","minWidth","options","onClick","hasStatus","some","hasQuantityLabel","hasApplyTo","hasNote","renderStatus","val","on","colSpan","idx","AmenityName","display","alignItems","justifyContent","gap","src","alt","type","onchange","f","files","click","onFocus","parentElement","onAnimationEnd","remove","numList","from","_","i","num","emptyLabel","rt","onMouseDown","currentTarget","stopPropagation","maxWidth","background","borderRadius","gridTemplateColumns","flexDirection","objectFit","disabled","accept","_c","$RefreshReg$"],"sources":["D:/DA_TichHop/HMS_AI Hotel/client/src/AdminAmenities.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport AnimatedDropdown from './components/AnimatedDropdown';\r\nimport './HomePage.css';\r\nimport { authHeaders, getUserRole } from './auth';\r\n\r\nexport default function AdminAmenities({ isModal, onClose }){\r\n  const isAdmin = getUserRole() === 'Admin';\r\n  const [q, setQ] = useState('');\r\n  const [status, setStatus] = useState('all'); // filter (Active/Maintenance/all)\r\n  const [items, setItems] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [createOpen, setCreateOpen] = useState(false);\r\n  const [creating, setCreating] = useState(false);\r\n  const [newRow, setNewRow] = useState({ name: '', icon: '', description: '', image: '', status: 'Active', quantity: '', applyTo: '', note: '' });\r\n  const [roomTypes, setRoomTypes] = useState([]);\r\n  const [listAnimated, setListAnimated] = useState(false); // initial stagger animation control\r\n  const fileInputRef = useRef(null);\r\n  const createIconInputRef = useRef(null);\r\n  const rootRef = useRef(null);\r\n\r\n  // Root mount animation\r\n  useEffect(()=>{ if(rootRef.current){ requestAnimationFrame(()=> rootRef.current.classList.add('is-mounted')); } }, []);\r\n\r\n  // Load room types for ApplyTo dropdown\r\n  useEffect(()=>{\r\n    let active = true;\r\n    fetch('/api/room-types')\r\n      .then(r=> r.ok ? r.json() : [])\r\n      .then(list => { if(active) setRoomTypes(Array.isArray(list) ? list : []); })\r\n      .catch(()=>{ if(active) setRoomTypes([]); });\r\n    return ()=>{ active=false; };\r\n  }, []);\r\n\r\n  const load = async (opts={}) => {\r\n    const qq = opts.q ?? q; const ss = opts.status ?? status;\r\n    setLoading(true); setError('');\r\n    try {\r\n  const url = new URL('/api/admin/amenities', window.location.origin);\r\n      if (qq) url.searchParams.set('q', qq);\r\n  if (ss && ss !== 'all') {\r\n        // Map filter to stored English values\r\n        const mapFilter = { active: 'Active', maintenance: 'Maintenance' };\r\n        const key = mapFilter[ss.toLowerCase()];\r\n        if (key) url.searchParams.set('status', key);\r\n      }\r\n      const res = await fetch(url.toString(), { headers: authHeaders(), cache: 'no-store' });\r\n      if (!res.ok) throw new Error('Không tải được tiện nghi');\r\n      const j = await res.json();\r\n      const list = Array.isArray(j.items) ? j.items : [];\r\n      // Normalize status: any non-Maintenance => Active\r\n      list.forEach(it => {\r\n        if (Object.prototype.hasOwnProperty.call(it, 'Status')) {\r\n          const s = String(it.Status || '').toLowerCase();\r\n          it.Status = (s === 'maintenance') ? 'Maintenance' : 'Active';\r\n        }\r\n        if(it.Quantity === undefined && it.QuantityLabel){\r\n          const m = String(it.QuantityLabel).match(/(\\d+)/); if(m) it.Quantity = Number(m[1]);\r\n        }\r\n        if(it.Quantity !== undefined) it.Quantity = clampQuantity(it.Quantity);\r\n      });\r\n      setItems(list);\r\n    } catch (e) { setError(e.message || 'Lỗi'); setItems([]); } finally { setLoading(false); }\r\n  };\r\n  useEffect(()=>{ if (isAdmin) load({ q:'', status:'all' }); }, []);\r\n  // debounce\r\n  const ref = useRef(null);\r\n  useEffect(()=>{ if (!isAdmin) return; if (ref.current) clearTimeout(ref.current); ref.current = setTimeout(()=>load({}), 300); return ()=>{ if (ref.current) clearTimeout(ref.current); } }, [q, status]);\r\n\r\n  const updateField = (id, field, value) => setItems(prev => prev.map(it => it.Id === id ? { ...it, [field]: value } : it));\r\n\r\n  const save = async (it) => {\r\n    try {\r\n  const payload = { name: it.Name, icon: it.Icon, description: it.Description || it.Note, image: it.Image, status: it.Status, quantity: it.Quantity === ''? null: it.Quantity, applyTo: it.ApplyTo, note: it.Note };\r\n      const res = await fetch(`/api/admin/amenities/${it.Id}`, { method:'PUT', headers: { 'Content-Type': 'application/json', ...authHeaders() }, body: JSON.stringify(payload) });\r\n      if (!res.ok) throw new Error('Lưu thất bại');\r\n      await load({});\r\n    } catch (e) { alert(e.message || 'Lỗi lưu'); }\r\n  };\r\n\r\n  const del = async (it) => {\r\n    if (!window.confirm('Xóa tiện nghi này?')) return;\r\n    try {\r\n      const res = await fetch(`/api/admin/amenities/${it.Id}`, { method:'DELETE', headers: authHeaders() });\r\n      if (!res.ok) throw new Error('Xóa thất bại');\r\n      await load({});\r\n    } catch (e) { alert(e.message || 'Lỗi xóa'); }\r\n  };\r\n\r\n  const create = async () => {\r\n    if (!newRow.name || !newRow.name.trim()) { alert('Nhập tên tiện nghi'); return; }\r\n    setCreating(true);\r\n    try {\r\n      const payload = {\r\n        name: newRow.name,\r\n        icon: newRow.icon,\r\n        description: newRow.note || newRow.description,\r\n        image: newRow.image,\r\n        status: newRow.status,\r\n        quantityLabel: newRow.quantity? `${newRow.quantity}/phòng` : '',\r\n        applyTo: newRow.applyTo === '*' ? '' : newRow.applyTo,\r\n        note: newRow.note || newRow.description,\r\n        quantity: newRow.quantity || null\r\n      };\r\n      const res = await fetch('/api/admin/amenities', { method:'POST', headers: { 'Content-Type': 'application/json', ...authHeaders() }, body: JSON.stringify(payload) });\r\n      if (!res.ok) throw new Error('Tạo thất bại');\r\n      setNewRow({ name: '', icon: '', description: '', image: '', status: 'Active', quantity: '', applyTo: '', note: '' });\r\n      setCreateOpen(false);\r\n      await load({});\r\n    } catch (e) { alert(e.message || 'Lỗi tạo'); } finally { setCreating(false); }\r\n  };\r\n\r\n  const uploadIcon = async (file, cb) => {\r\n    const form = new FormData();\r\n    form.append('file', file);\r\n    try {\r\n      const res = await fetch('/api/admin/amenities/upload-icon', { method:'POST', headers: authHeaders(), body: form });\r\n      if (!res.ok) throw new Error('Tải icon thất bại');\r\n  const j = await res.json();\r\n  // Removed debug log for uploaded icon path\r\n      cb && cb(j.path);\r\n    } catch (e) { alert(e.message || 'Không tải được icon'); }\r\n  };\r\n\r\n  // Resolve legacy DB stored icon paths (e.g., 'tiennghi/wifi.png', 'dichvu/spa.svg')\r\n  // Ensure they point to files under client/public so <img src> works directly.\r\n  const resolveIconPath = (p) => {\r\n    if(!p) return '';\r\n    let v = String(p).trim();\r\n    if(!v) return '';\r\n    v = v.replace(/\\\\/g,'/');\r\n    if(/^https?:\\/\\//i.test(v)) return v; // absolute URL\r\n    if(!v.startsWith('/')) v = '/' + v; // ensure leading slash\r\n    return v;\r\n  };\r\n\r\n  const handleInlineIconChange = (id, file) => {\r\n    if (!file) return;\r\n    uploadIcon(file, (path)=> {\r\n      updateField(id, 'Icon', path);\r\n    });\r\n  };\r\n\r\n  // Helper to parse quantity label to number\r\n  function parseQty(label){\r\n    if(!label) return '';\r\n    const m = String(label).match(/(\\d+)/);\r\n    return m? m[1]:'';\r\n  }\r\n\r\n  // Add helper to clamp quantity\r\n  function clampQuantity(v){ if(v===''||v===null||v===undefined) return ''; const n = Number(v); if(Number.isNaN(n)|| n<0) return ''; return n>100? 100: n; }\r\n\r\n  // Icon placeholder component\r\n  const AmenityIconPlaceholder = ({size=24}) => (\r\n    <svg width={size} height={size} viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"#999\" strokeWidth=\"1.5\" strokeLinecap=\"round\" strokeLinejoin=\"round\">\r\n      <rect x=\"3\" y=\"3\" width=\"18\" height=\"18\" rx=\"4\" ry=\"4\" stroke=\"#ccc\" fill=\"#f5f5f5\" />\r\n      <path d=\"M8 16h8M8 12h8M8 8h4\" />\r\n    </svg>\r\n  );\r\n\r\n  if (!isAdmin) return <div style={{ padding: 16, color:'#b42318' }}>Chức năng chỉ dành cho quản trị viên.</div>;\r\n\r\n  // When used in modal context, clear any transient visual states on unmount\r\n  useEffect(()=>{\r\n    return () => {\r\n      // Currently no per-row selected state here, but placeholder for future highlight cleanup\r\n    };\r\n  },[]);\r\n\r\n  // Flag list animation only first non-empty load\r\n  useEffect(()=>{ if(items.length && !listAnimated){ // allow next paint first\r\n    const t = setTimeout(()=> setListAnimated(true), 600); // after animations play once\r\n    return ()=> clearTimeout(t);\r\n  } }, [items, listAnimated]);\r\n\r\n  return (\r\n    <div ref={rootRef} className=\"af-container amenities-anim-root\" style={{ padding: 12 }}>\r\n      <h2 className=\"home-rooms-title\" style={{ textAlign: 'left', marginTop: 0 }}>Quản lý tiện nghi</h2>\r\n      <div className=\"reports-toolbar af-toolbar\" style={{ marginBottom: 10 }}>\r\n        <div className=\"reports-field af-field-grow\">\r\n          <input className=\"reports-input\" style={{ width: '100%' }} placeholder=\"Tìm tiện nghi...\" value={q} onChange={e=>setQ(e.target.value)} />\r\n        </div>\r\n        <div className=\"reports-field\" style={{ minWidth:190 }}>\r\n          <AnimatedDropdown\r\n            value={status}\r\n            onChange={setStatus}\r\n            options={[\r\n              { value:'all', label:'Tất cả trạng thái' },\r\n              { value:'active', label:'Đang hoạt động' },\r\n              { value:'maintenance', label:'Đang bảo trì' }\r\n            ]}\r\n            placeholder=\"Trạng thái\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div style={{ marginBottom: 8 }}>\r\n        <button className=\"ph-btn\" onClick={()=>setCreateOpen(true)}>+ Thêm tiện nghi</button>\r\n      </div>\r\n\r\n      {loading ? <div style={{ color:'#666' }}>Đang tải...</div> : error ? <div style={{ color:'#b42318' }}>{error}</div> : (\r\n        (() => {\r\n          const hasStatus = items.some(it => Object.prototype.hasOwnProperty.call(it, 'Status'));\r\n          const hasQuantityLabel = items.some(it => Object.prototype.hasOwnProperty.call(it, 'QuantityLabel'));\r\n          const hasApplyTo = items.some(it => Object.prototype.hasOwnProperty.call(it, 'ApplyTo'));\r\n          const hasNote = items.some(it => Object.prototype.hasOwnProperty.call(it, 'Note'));\r\n          const renderStatus = (v) => {\r\n            const val = (v === undefined || v === null) ? 'Active' : String(v);\r\n            const on = val === 'Active';\r\n            return <span className={`ph-badge ${on ? 'ph-badge--success' : 'ph-badge--warning'}`}>{on ? 'Đang hoạt động' : 'Đang bảo trì'}</span>;\r\n          };\r\n          return (\r\n            <table className=\"ph-table-el af-table\" style={{ textAlign:'center' }}>\r\n              <thead style={{ textAlign:'center' }}>\r\n                <tr>\r\n                  <th style={{ textAlign:'center' }}>TT</th>\r\n                  <th style={{ textAlign:'center' }}>Tên tiện nghi</th>\r\n                  <th style={{ textAlign:'center' }}>Icon</th>\r\n                  <th style={{ textAlign:'center', minWidth:160 }}>Trạng thái</th>\r\n                  <th style={{ textAlign:'center' }}>Số lượng</th>\r\n                  <th style={{ textAlign:'center', minWidth:200 }}>Áp dụng cho phòng</th>\r\n                  <th style={{ textAlign:'center' }}>Ghi chú</th>\r\n                  <th style={{ textAlign:'center' }}>Hành động</th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {items.length === 0 ? (\r\n                  <tr><td className=\"ph-td\" colSpan={8} style={{ textAlign:'center', color:'#666' }}>Không có dữ liệu.</td></tr>\r\n                ) : items.map((it, idx) => (\r\n                  <tr key={it.Id} className={\"amenity-row\" + (listAnimated? \" amenity-row--static\":\"\")} style={{ '--row-index': idx }}>\r\n                    <td className=\"ph-td center\">{idx+1}</td>\r\n                    <td className=\"ph-td\" style={{ textAlign:'center' }}><input value={(it.AmenityName||it.Name)|| ''} onChange={e=>{ updateField(it.Id, it.AmenityName!==undefined? 'AmenityName':'Name', e.target.value); if(it.AmenityName!==undefined) updateField(it.Id,'Name', e.target.value); }} /></td>\r\n                    <td className=\"ph-td\" style={{ textAlign:'center' }}>\r\n      <div style={{ display:'flex', alignItems:'center', justifyContent:'center', gap:6 }}>\r\n  <div className={`amenity-icon-wrapper ${!it.Icon? 'placeholder':''}`}>{it.Icon ? <img src={resolveIconPath(it.Icon)} alt=\"icon\" /> : <AmenityIconPlaceholder size={20} />}</div>\r\n        <span className=\"tooltip-wrap\">\r\n          <button type=\"button\" className=\"amenity-icon-btn\" onClick={()=>{ if (fileInputRef.current){ fileInputRef.current.onchange=(e)=>{ const f=e.target.files[0]; handleInlineIconChange(it.Id, f); }; fileInputRef.current.click(); } }} aria-label=\"Thay icon\">\r\n            <img src=\"/replace.png\" alt=\"Replace\" style={{ width:16, height:16 }} />\r\n          </button>\r\n          <span className=\"tooltip-bubble\">Thay icon</span>\r\n        </span>\r\n      </div>\r\n                    </td>\r\n                    <td className=\"ph-td center\" style={{ minWidth:160 }}>\r\n                      <div className=\"select-anim\">\r\n                        <select value={it.Status || 'Active'} onChange={e=>updateField(it.Id, 'Status', e.target.value)} onFocus={e=> e.target.parentElement.classList.add('opening')} onAnimationEnd={e=> e.target.parentElement.classList.remove('opening')} className={`reports-select amenity-inline-select status-select ${it.Status==='Maintenance'? 'status-maint': 'status-active'}`}>\r\n                          <option value=\"Active\">Đang hoạt động</option>\r\n                          <option value=\"Maintenance\">Đang bảo trì</option>\r\n                        </select>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"ph-td\" style={{ textAlign:'center', minWidth:110 }}>\r\n                      {(()=>{\r\n                        const q = clampQuantity(it.Quantity);\r\n                        const numList = Array.from({length:100},(_,i)=> ({ value:String(i+1), label:String(i+1) }));\r\n                        return (\r\n                          <AnimatedDropdown\r\n                            value={q===''? '': String(q)}\r\n                            onChange={(val)=>{ const num = clampQuantity(val); updateField(it.Id,'Quantity', num===''? '': num); }}\r\n                            options={numList}\r\n                            placeholder=\"Chọn\"\r\n                            emptyLabel=\"Không giới hạn\"\r\n                            className=\"adrop--sm\"\r\n                            width={110}\r\n                          />\r\n                        );\r\n                      })()}\r\n                    </td>\r\n                    <td className=\"ph-td\" style={{ textAlign:'center', minWidth:200 }}>\r\n                      <div className=\"select-anim\">\r\n                        <select value={it.ApplyTo || ''} onChange={e=>updateField(it.Id, 'ApplyTo', e.target.value)} onFocus={e=> e.target.parentElement.classList.add('opening')} onAnimationEnd={e=> e.target.parentElement.classList.remove('opening')} className=\"reports-select amenity-inline-select\">\r\n                          <option value=\"\">Tất cả phòng</option>\r\n                          {roomTypes.map(rt => <option key={rt.id} value={rt.name}>{rt.name}</option>)}\r\n                        </select>\r\n                      </div>\r\n                    </td>\r\n                    <td className=\"ph-td\" style={{ textAlign:'center' }}>\r\n                      {hasNote ? (\r\n                        <input value={it.Note || ''} onChange={e=>updateField(it.Id, 'Note', e.target.value)} placeholder=\"Ghi chú\" style={{ width:'100%' }} />\r\n                      ) : (\r\n                        <input value={it.Description || ''} onChange={e=>updateField(it.Id, 'Description', e.target.value)} placeholder=\"Ghi chú\" style={{ width:'100%' }} />\r\n                      )}\r\n                    </td>\r\n                    <td className=\"ph-td action\">\r\n                      <button className=\"ph-btn ph-btn--success\" onClick={()=>save(it)}>Sửa</button>\r\n                      <button className=\"ph-btn ph-btn--danger\" onClick={()=>del(it)}>Xóa</button>\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          );\r\n        })()\r\n      )}\r\n\r\n      {createOpen && (\r\n        <div className=\"profile-overlay\" onMouseDown={(e)=>{ if (e.target===e.currentTarget) setCreateOpen(false); }}>\r\n          <div className=\"profile-modal\" onMouseDown={(e)=>e.stopPropagation()} style={{ width: 740, maxWidth:'98%', background:'#fff', borderRadius:12, padding:16 }}>\r\n            <h3 style={{ marginTop: 0, textAlign:'center' }}>Thêm tiện nghi</h3>\r\n            <div className=\"au-create\" style={{ display:'grid', gridTemplateColumns:'1fr 1fr', gap:16 }}>\r\n              <label style={{ display:'flex', flexDirection:'column', gap:4 }}>Tên tiện nghi\r\n                <input value={newRow.name} onChange={e=>setNewRow({ ...newRow, name:e.target.value })} placeholder=\"Wi-Fi, Điều hòa...\" />\r\n              </label>\r\n              <label style={{ display:'flex', flexDirection:'column', gap:4 }}>Trạng thái\r\n                <div className=\"select-anim\"><select value={newRow.status} onChange={e=>setNewRow({ ...newRow, status:e.target.value })} className=\"reports-select\" style={{ height:38 }} onFocus={e=> e.target.parentElement.classList.add('opening')} onAnimationEnd={e=> e.target.parentElement.classList.remove('opening')}>\r\n                  <option value=\"Active\">Đang hoạt động</option>\r\n                  <option value=\"Maintenance\">Đang bảo trì</option>\r\n                </select></div>\r\n              </label>\r\n              <label style={{ display:'flex', flexDirection:'column', gap:4 }}>Số lượng\r\n                <AnimatedDropdown\r\n                  value={newRow.quantity? String(newRow.quantity): ''}\r\n                  onChange={(val)=> setNewRow(r=>({...r, quantity: clampQuantity(val)}))}\r\n                  options={Array.from({length:100},(_,i)=> ({ value:String(i+1), label:String(i+1) }))}\r\n                  emptyLabel=\"Không giới hạn\"\r\n                  placeholder=\"Chọn\"\r\n                  className=\"adrop--sm\"\r\n                  width=\"100%\"\r\n                />\r\n              </label>\r\n              <label style={{ display:'flex', flexDirection:'column', gap:4 }}>Áp dụng cho phòng\r\n                <div className=\"select-anim\"><select value={newRow.applyTo} onChange={e=>setNewRow(r=>({ ...r, applyTo: e.target.value }))} className=\"reports-select\" style={{ height:38 }} onFocus={e=> e.target.parentElement.classList.add('opening')} onAnimationEnd={e=> e.target.parentElement.classList.remove('opening')}>\r\n                  <option value=\"\">Tất cả phòng</option>\r\n                  {roomTypes.map(rt => <option key={rt.id} value={rt.name}>{rt.name}</option>)}\r\n                </select></div>\r\n              </label>\r\n              <label style={{ display:'flex', flexDirection:'column', gap:4 }}>Ghi chú\r\n                <input value={newRow.note} onChange={e=>setNewRow({ ...newRow, note:e.target.value })} placeholder=\"Ghi chú\" />\r\n              </label>\r\n              <label style={{ display:'flex', flexDirection:'column', gap:4 }}>Icon (tải lên)\r\n                <div style={{ display:'flex', alignItems:'center', gap:8 }}>\r\n                  <div className={`amenity-icon-wrapper ${!newRow.icon? 'placeholder':''}`}>{newRow.icon ? <img src={resolveIconPath(newRow.icon)} alt=\"icon\" style={{ width:32, height:32, objectFit:'contain' }} /> : <AmenityIconPlaceholder size={24} />}</div>\r\n                  <span className=\"tooltip-wrap\">\r\n                    <button type=\"button\" className=\"amenity-icon-btn\" onClick={()=>{ if (createIconInputRef.current) createIconInputRef.current.click(); }} aria-label=\"Thay icon\">\r\n                      <img src=\"/replace.png\" alt=\"Replace\" style={{ width:18, height:18 }} />\r\n                    </button>\r\n                    <span className=\"tooltip-bubble\">Thay icon</span>\r\n                  </span>\r\n                </div>\r\n              </label>\r\n              <label style={{ display:'flex', flexDirection:'column', gap:4 }}>Ảnh (URL)\r\n                <input value={newRow.image} onChange={e=>setNewRow({ ...newRow, image:e.target.value })} placeholder=\"/uploads/amenity.png\" />\r\n              </label>\r\n            </div>\r\n            <div style={{ marginTop:16, display:'flex', gap:12, justifyContent:'center' }}>\r\n              <button className=\"ph-btn\" onClick={create} disabled={creating}>{creating ? 'Đang tạo...' : 'Tạo'}</button>\r\n              <button className=\"ph-btn ph-btn--secondary\" onClick={()=>setCreateOpen(false)}>Hủy</button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      <input ref={fileInputRef} type=\"file\" accept=\"image/*\" style={{ display:'none' }} />\r\n      <style>{`\r\n  .status-select.status-active { background:#e6f7ec; color:#086637; border-color:#bfe6ce; }\r\n  .status-select.status-maint { background:#fff7e0; color:#8a6d00; border-color:#f3dfa3; }\r\n  /* Fix inline select clipping for Vietnamese diacritics */\r\n  .amenity-inline-select { \r\n    /* Remove fixed height to let font metrics breathe; ensure enough min-height */\r\n    height:auto; \r\n    min-height:40px; \r\n    line-height:1.35; /* taller line box so g,y,j,p,q not clipped */\r\n    padding:6px 12px 10px 12px; /* extra bottom padding for descenders */\r\n    font-size:14px; \r\n    display:inline-block; \r\n    vertical-align:middle; \r\n    box-sizing:border-box; \r\n  }\r\n  .amenity-inline-select option { line-height:1.35; }\r\n  .amenity-icon-btn { \r\n    background:#f5f7fa;\r\n    border:1px solid #d6dbe1;\r\n    border-radius:8px;\r\n    padding:4px 6px;\r\n    cursor:pointer;\r\n    display:flex;\r\n    align-items:center;\r\n    justify-content:center;\r\n    gap:4px;\r\n    transition: background .18s, box-shadow .18s, transform .12s;\r\n    box-shadow:0 1px 2px rgba(0,0,0,0.04);\r\n  }\r\n  .amenity-icon-btn:hover { background:#eef3f9; box-shadow:0 2px 4px rgba(0,0,0,0.06); }\r\n  .amenity-icon-btn:active { transform:translateY(1px); box-shadow:0 1px 2px rgba(0,0,0,0.05); }\r\n  .amenity-icon-btn:focus-visible { outline:2px solid #3399ff; outline-offset:2px; }\r\n  .amenity-icon-wrapper { \r\n    display:flex; align-items:center; justify-content:center; \r\n    width:30px; height:30px; border:1px solid #e0e4ea; border-radius:8px; background:#fff; \r\n  }\r\n  .amenity-icon-wrapper img { width:24px; height:24px; object-fit:contain; }\r\n  .amenity-icon-wrapper.placeholder { background:linear-gradient(135deg,#f8f9fa,#eef1f4); }\r\n  /* Tooltip */\r\n  .tooltip-wrap { position:relative; display:inline-flex; }\r\n  .tooltip-bubble { position:absolute; bottom:100%; left:50%; transform:translateX(-50%) translateY(-6px); background:#1f2933; color:#fff; font-size:11px; line-height:1.2; padding:6px 8px; border-radius:6px; white-space:nowrap; opacity:0; pointer-events:none; transition: opacity .18s, transform .18s; box-shadow:0 4px 12px rgba(0,0,0,0.18); z-index:10; }\r\n  .tooltip-bubble::after { content:\"\"; position:absolute; top:100%; left:50%; transform:translateX(-50%); width:0; height:0; border-left:6px solid transparent; border-right:6px solid transparent; border-top:6px solid #1f2933; }\r\n  .tooltip-wrap:hover .tooltip-bubble, .tooltip-wrap:focus-within .tooltip-bubble { opacity:1; transform:translateX(-50%) translateY(-10px); }\r\n  /* Lightweight animated wrapper for native selects */\r\n  .select-anim { position:relative; display:inline-flex; border-radius:10px; padding:2px; --sel-shadow:0 1px 2px rgba(0,0,0,0.06); }\r\n  .select-anim select.reports-select { transition: box-shadow .28s cubic-bezier(.4,.2,.2,1), transform .25s ease, background-color .35s; box-shadow: var(--sel-shadow); background:#fff; border-radius:8px; }\r\n  .select-anim:focus-within select.reports-select { box-shadow:0 0 0 3px rgba(51,153,255,0.35), 0 4px 14px -2px rgba(0,0,0,0.18); transform:scale(1.015); }\r\n  .select-anim:active select.reports-select { transform:scale(.985); }\r\n  .select-anim::after { content:\"\"; position:absolute; inset:0; border-radius:12px; background:linear-gradient(120deg,#e3f4ff,#f4faff 60%); opacity:0; transform:scale(.92); transition:opacity .35s, transform .4s; pointer-events:none; }\r\n  .select-anim:focus-within::after { opacity:1; transform:scale(1); }\r\n  .select-anim.opening select.reports-select { animation:selPulse .45s ease; }\r\n  @keyframes selPulse { 0%{transform:scale(.94);} 55%{transform:scale(1.02);} 100%{transform:scale(1);} }\r\n  /* (Future) custom dropdown base styles (will be populated when component integrated) */\r\n  .adrop { position:relative; font-size:14px; }\r\n  .adrop-btn { display:flex; align-items:center; gap:6px; background:#fff; border:1px solid #cfd6dd; border-radius:8px; padding:6px 10px; min-height:36px; cursor:pointer; transition: box-shadow .25s, border-color .25s, background .3s; width:100%; }\r\n  .adrop-btn:hover { background:#f5f9fc; }\r\n  .adrop-btn:focus-visible { outline:2px solid #3399ff; outline-offset:2px; }\r\n  .adrop[data-open=\"true\"] .adrop-btn { box-shadow:0 0 0 3px rgba(51,153,255,.3); border-color:#3399ff; }\r\n  .adrop-list { position:absolute; z-index:50; top:calc(100% + 4px); left:0; width:100%; max-height:260px; overflow:auto; background:#fff; border:1px solid #d5dce3; border-radius:10px; box-shadow:0 10px 28px -6px rgba(0,0,0,.18), 0 4px 8px -2px rgba(0,0,0,.12); padding:6px 0; opacity:0; transform:translateY(4px) scale(.96); transform-origin: top center; pointer-events:none; transition:opacity .25s ease, transform .28s cubic-bezier(.4,.2,.2,1); }\r\n  .adrop[data-open=\"true\"] .adrop-list { opacity:1; transform:translateY(0) scale(1); pointer-events:auto; }\r\n  .adrop-opt { display:flex; align-items:center; gap:6px; padding:6px 12px; cursor:pointer; line-height:1.3; position:relative; }\r\n  .adrop-opt:hover, .adrop-opt[aria-selected=\"true\"] { background:#f0f7ff; }\r\n  .adrop-opt[aria-selected=\"true\"]::after { content:\"✓\"; position:absolute; right:10px; font-size:12px; color:#1673c8; }\r\n  .adrop-empty { padding:10px 12px; color:#666; font-style:italic; }\r\n  .adrop-fade-enter { animation:fadeScale .3s ease; }\r\n  @keyframes fadeScale { from { opacity:0; transform:translateY(4px) scale(.94);} to { opacity:1; transform:translateY(0) scale(1);} }\r\n  /* Small variant */\r\n  .adrop.adrop--sm .adrop-btn { min-height:32px; padding:4px 8px; font-size:13px; }\r\n  .adrop.adrop--sm .adrop-list { font-size:13px; }\r\n  .adrop .adrop-list { max-height:260px; overscroll-behavior:contain; }\r\n  /* ===================== FORM-WIDE ANIMATIONS ===================== */\r\n  .amenities-anim-root { opacity:0; transform:translateY(12px); transition: opacity .5s ease, transform .55s cubic-bezier(.4,.2,.2,1); }\r\n  .amenities-anim-root.is-mounted { opacity:1; transform:translateY(0); }\r\n  .amenities-anim-root .reports-toolbar { position:relative; animation:toolbarSlide .55s .05s both cubic-bezier(.4,.2,.2,1); }\r\n  @keyframes toolbarSlide { from { opacity:0; transform:translateY(-6px);} to { opacity:1; transform:translateY(0);} }\r\n  .amenities-anim-root table.af-table { animation:tableFade .55s .12s both ease; }\r\n  @keyframes tableFade { from { opacity:0; transform:translateY(8px);} to { opacity:1; transform:translateY(0);} }\r\n  /* Staggered rows */\r\n  .amenity-row { opacity:0; transform:translateY(10px); animation:rowIn .55s calc(.15s + (var(--row-index,0) * 45ms)) both cubic-bezier(.4,.2,.2,1); }\r\n  .amenity-row--static { animation:none; opacity:1; transform:none; }\r\n  @keyframes rowIn { 0% { opacity:0; transform:translateY(10px);} 70%{ opacity:1;} 100% { opacity:1; transform:translateY(0);} }\r\n  /* Input / select focus pop */\r\n  .af-table input, .af-table select.reports-select { transition: box-shadow .25s, background-color .35s, transform .25s; }\r\n  .af-table input:focus, .af-table select.reports-select:focus { box-shadow:0 0 0 3px rgba(51,153,255,0.30), 0 4px 10px -2px rgba(0,0,0,0.15); background:#fff; transform:translateY(-1px); }\r\n  /* Row focus highlight when any child focused */\r\n  .af-table tr:focus-within { outline:2px solid #3399ff33; outline-offset:-2px; background:linear-gradient(90deg,#f2f9ff,#ffffff); }\r\n  /* Modal open animation */\r\n  .profile-overlay { animation:overlayFade .35s ease; }\r\n  @keyframes overlayFade { from { background-color:rgba(0,0,0,0); } to { background-color:rgba(0,0,0,0.4);} }\r\n  .profile-modal { animation:modalPop .48s cubic-bezier(.4,.2,.2,1); }\r\n  @keyframes modalPop { 0% { opacity:0; transform:translateY(18px) scale(.94);} 55% { opacity:1; transform:translateY(-2px) scale(1.01);} 100% { opacity:1; transform:translateY(0) scale(1);} }\r\n  /* Button subtle press + focus unify */\r\n  .ph-btn { transition: box-shadow .25s, transform .2s, background-color .3s, border-color .3s; }\r\n  .ph-btn:active { transform:translateY(1px) scale(.985); }\r\n  .ph-btn:focus-visible { box-shadow:0 0 0 3px rgba(51,153,255,.35); }\r\n  /* Utility (reduce motion respect) */\r\n  @media (prefers-reduced-motion: reduce){\r\n    .amenities-anim-root, .amenities-anim-root * { animation:none !important; transition:none !important; }\r\n  }\r\n`}</style>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}