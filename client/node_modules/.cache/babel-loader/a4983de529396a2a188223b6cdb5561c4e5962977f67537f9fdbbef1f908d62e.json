{"ast":null,"code":"var _jsxFileName = \"D:\\\\DA_TichHop\\\\HMS_AI Hotel\\\\client\\\\src\\\\AdminRooms.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useMemo, useRef, useState, useCallback } from 'react';\nimport './HomePage.css';\nimport { authHeaders } from './auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst STATUS_UI = ['Trống', 'Đang ở', 'Đang dọn dẹp', 'Đang bảo trì'];\nconst statusDbToUi = s => {\n  const v = String(s || '').toLowerCase();\n  if (v === 'available') return 'Trống';\n  if (v === 'occupied') return 'Đang ở';\n  if (v === 'cleaning') return 'Đang dọn dẹp';\n  if (v === 'maintenance') return 'Đang bảo trì';\n  return 'Trống';\n};\nconst statusUiToDb = s => {\n  const v = String(s || '').toLowerCase();\n  if (v.includes('trống')) return 'Available';\n  if (v.includes('đang ở')) return 'Occupied';\n  if (v.includes('dọn')) return 'Cleaning';\n  if (v.includes('bảo trì')) return 'Maintenance';\n  return 'Available';\n};\nexport default function AdminRooms({\n  isModal,\n  onClose\n}) {\n  _s();\n  const [q, setQ] = useState('');\n  const [typeId, setTypeId] = useState('');\n  const [hotelFilter, setHotelFilter] = useState('');\n  const [items, setItems] = useState([]);\n  const [totalRoomCount, setTotalRoomCount] = useState(0); // tổng số phòng (không lọc)\n  const [types, setTypes] = useState([]);\n  const [hotels, setHotels] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n  const [isCreateOpen, setIsCreateOpen] = useState(false);\n  const [creating, setCreating] = useState(false);\n  const [newRoom, setNewRoom] = useState({\n    images: [],\n    price: '',\n    roomNumber: '',\n    status: 'Trống',\n    roomTypeId: '',\n    floor: '',\n    description: ''\n  });\n  const [newErrors, setNewErrors] = useState({});\n  // For per-room image upload\n  const roomImageInputRef = useRef(null);\n  const [activeRoomForImage, setActiveRoomForImage] = useState(null);\n  // Ảnh tạm thời (chưa upload) mỗi phòng: { [roomId]: { file, preview } }\n  const [pendingRoomImages, setPendingRoomImages] = useState({});\n  // (Đã bỏ chỉnh sửa tiện nghi) – chỉ hiển thị danh sách tiện nghi đã liên kết\n\n  const fetchRooms = useCallback(async (params = {}) => {\n    setLoading(true);\n    setError('');\n    try {\n      const url = new URL('/api/admin/rooms', window.location.origin);\n      if (q) url.searchParams.set('q', q);\n      if (typeId) url.searchParams.set('typeId', String(typeId));\n      if (hotelFilter) url.searchParams.set('hotelId', String(hotelFilter));\n      if (params.q !== undefined) {\n        url.searchParams.set('q', params.q);\n      }\n      if (params.typeId !== undefined) {\n        if (params.typeId) url.searchParams.set('typeId', String(params.typeId));else url.searchParams.delete('typeId');\n      }\n      if (params.hotelId !== undefined) {\n        if (params.hotelId) url.searchParams.set('hotelId', String(params.hotelId));else url.searchParams.delete('hotelId');\n      }\n      const res = await fetch(url.toString(), {\n        headers: {\n          ...authHeaders()\n        }\n      });\n      if (!res.ok) throw new Error('Không tải được danh sách phòng');\n      const j = await res.json();\n      const list = Array.isArray(j.rooms) ? j.rooms : [];\n      const mapped = list.map(r => {\n        let imgs = r.images;\n        if (typeof imgs === 'string') {\n          try {\n            const parsed = JSON.parse(imgs);\n            if (Array.isArray(parsed)) imgs = parsed;\n          } catch {/* ignore */}\n        }\n        if (!Array.isArray(imgs)) imgs = [];\n        return {\n          ...r,\n          images: imgs,\n          statusVi: statusDbToUi(r.status)\n        };\n      });\n      setItems(mapped);\n      // Cập nhật tổng số phòng (không lọc: gọi một lần không tham số nếu có filter)\n      try {\n        if (q || typeId || hotelFilter) {\n          const allRes = await fetch(new URL('/api/admin/rooms', window.location.origin), {\n            headers: {\n              ...authHeaders()\n            }\n          });\n          if (allRes.ok) {\n            const allJ = await allRes.json();\n            const allList = Array.isArray(allJ.rooms) ? allJ.rooms : [];\n            setTotalRoomCount(allList.length);\n          }\n        } else {\n          setTotalRoomCount(mapped.length);\n        }\n      } catch {}\n    } catch (e) {\n      setError(e.message || 'Lỗi tải dữ liệu');\n      setItems([]);\n    } finally {\n      setLoading(false);\n    }\n  }, [q, typeId, hotelFilter]);\n  const fetchTypes = useCallback(async hotelId => {\n    try {\n      const url = new URL('/api/room-types', window.location.origin);\n      if (hotelId) url.searchParams.set('hotelId', String(hotelId));\n      const res = await fetch(url, {\n        headers: {\n          ...authHeaders()\n        }\n      });\n      if (!res.ok) throw new Error();\n      const list = await res.json();\n      setTypes(Array.isArray(list) ? list : []);\n    } catch {\n      setTypes([]);\n    }\n  }, []);\n  const fetchHotels = useCallback(async () => {\n    try {\n      const res = await fetch('/api/hotels');\n      if (!res.ok) throw new Error();\n      const list = await res.json();\n      setHotels(Array.isArray(list) ? list : []);\n    } catch {\n      setHotels([]);\n    }\n  }, []);\n\n  // One-time init guarded by ref to satisfy exhaustive-deps without re-triggering\n  const initRef = useRef(false);\n  useEffect(() => {\n    if (!initRef.current) {\n      initRef.current = true;\n      fetchHotels();\n      fetchTypes();\n      fetchRooms({\n        q: ''\n      });\n    }\n  }, [fetchHotels, fetchTypes, fetchRooms]);\n  // Không cần load danh mục hoặc modal vì tiện nghi đã xử lý ở backend\n\n  // Live search debounce\n  const debounceRef = useRef(null);\n  useEffect(() => {\n    if (debounceRef.current) clearTimeout(debounceRef.current);\n    debounceRef.current = setTimeout(() => {\n      fetchRooms({});\n    }, 250);\n    return () => {\n      if (debounceRef.current) clearTimeout(debounceRef.current);\n    };\n  }, [fetchRooms]);\n  const updateField = (id, field, value) => {\n    setItems(prev => prev.map(it => it.id === id ? {\n      ...it,\n      [field]: value\n    } : it));\n  };\n  const handleSave = async it => {\n    try {\n      let imagesToPersist = it.images && it.images.length ? [...it.images] : [];\n      // Nếu có ảnh pending thì upload trước rồi thay preview\n      if (pendingRoomImages[it.id]) {\n        const {\n          file,\n          preview\n        } = pendingRoomImages[it.id];\n        const form = new FormData();\n        form.append('files', file);\n        const uploadRes = await fetch('/api/admin/rooms/upload', {\n          method: 'POST',\n          body: form,\n          headers: {\n            ...authHeaders()\n          }\n        });\n        if (!uploadRes.ok) throw new Error('Tải ảnh thất bại');\n        const uj = await uploadRes.json();\n        const upList = Array.isArray(uj.files) ? uj.files : [];\n        if (!upList.length) throw new Error('Không nhận được ảnh');\n        const realPath = upList[0];\n        if (imagesToPersist.length) {\n          if (imagesToPersist[0] === preview) {\n            imagesToPersist[0] = realPath;\n          } else {\n            imagesToPersist = [realPath, ...imagesToPersist];\n          }\n        } else {\n          imagesToPersist = [realPath];\n        }\n        // cleanup preview object URL & state\n        URL.revokeObjectURL(preview);\n        setPendingRoomImages(prev => {\n          const cp = {\n            ...prev\n          };\n          delete cp[it.id];\n          return cp;\n        });\n      }\n      // Loại bỏ mọi blob preview còn sót\n      imagesToPersist = imagesToPersist.filter(u => typeof u === 'string' && !u.startsWith('blob:'));\n      const payload = {\n        roomNumber: it.roomNumber,\n        roomTypeId: it.roomTypeId,\n        status: statusUiToDb(it.statusVi),\n        images: imagesToPersist.length ? imagesToPersist : undefined\n      };\n      const res = await fetch(`/api/admin/rooms/${it.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json',\n          ...authHeaders()\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!res.ok) throw new Error('Lưu thất bại');\n      await fetchRooms({});\n      alert('Đã lưu phòng');\n    } catch (e) {\n      alert(e.message || 'Lỗi lưu');\n    }\n  };\n  const onSelectRoomImage = room => {\n    var _roomImageInputRef$cu;\n    setActiveRoomForImage(room);\n    (_roomImageInputRef$cu = roomImageInputRef.current) === null || _roomImageInputRef$cu === void 0 ? void 0 : _roomImageInputRef$cu.click();\n  };\n  const onRoomImageChosen = async e => {\n    const files = Array.from(e.target.files || []);\n    if (!files.length || !activeRoomForImage) return;\n    const f = files[0];\n    const preview = URL.createObjectURL(f);\n    const roomId = activeRoomForImage.id;\n    // Lưu ảnh tạm\n    setPendingRoomImages(prev => ({\n      ...prev,\n      [roomId]: {\n        file: f,\n        preview\n      }\n    }));\n    // Hiển thị ngay preview ở vị trí ảnh đầu\n    setItems(prev => prev.map(it => it.id === roomId ? {\n      ...it,\n      images: it.images && it.images.length ? [preview, ...it.images.slice(1)] : [preview]\n    } : it));\n    setActiveRoomForImage(null);\n    if (roomImageInputRef.current) roomImageInputRef.current.value = '';\n  };\n  const handleDelete = async it => {\n    if (!window.confirm('Xóa phòng này?')) return;\n    try {\n      const res = await fetch(`/api/admin/rooms/${it.id}`, {\n        method: 'DELETE',\n        headers: {\n          ...authHeaders()\n        }\n      });\n      if (!res.ok) throw new Error('Xóa thất bại');\n      await fetchRooms({});\n    } catch (e) {\n      alert(e.message || 'Lỗi xóa');\n    }\n  };\n  const selectedType = useMemo(() => {\n    const id = Number(newRoom.roomTypeId || 0);\n    return types.find(t => Number(t.id) === id) || null;\n  }, [types, newRoom.roomTypeId]);\n  // selectedHotel removed (unused)\n\n  const computedErrors = useMemo(() => {\n    const e = {};\n    if (!newRoom.roomNumber || !String(newRoom.roomNumber).trim()) e.roomNumber = 'Vui lòng nhập số phòng';\n    if (!newRoom.hotelId) e.hotelId = 'Vui lòng chọn khách sạn';\n    if (!newRoom.roomTypeId) e.roomTypeId = 'Vui lòng chọn loại phòng';\n    if (!newRoom.status) e.status = 'Vui lòng chọn trạng thái';\n    if (newRoom.floor !== '' && Number.isNaN(Number(newRoom.floor))) e.floor = 'Tầng không hợp lệ';\n    return e;\n  }, [newRoom]);\n  const isFormValid = useMemo(() => Object.keys(computedErrors).length === 0, [computedErrors]);\n  const tooltipText = useMemo(() => {\n    if (isFormValid || creating) return '';\n    const msgs = [];\n    if (computedErrors.roomNumber) msgs.push(computedErrors.roomNumber);\n    if (computedErrors.roomTypeId) msgs.push(computedErrors.roomTypeId);\n    if (computedErrors.status) msgs.push(computedErrors.status);\n    return msgs.join('; ');\n  }, [computedErrors, isFormValid, creating]);\n  const handleCreate = async () => {\n    setNewErrors(computedErrors);\n    if (!isFormValid) return;\n    setCreating(true);\n    try {\n      const payload = {\n        roomNumber: String(newRoom.roomNumber).trim(),\n        roomTypeId: Number(newRoom.roomTypeId),\n        status: statusUiToDb(newRoom.status),\n        hotelId: newRoom.hotelId ? Number(newRoom.hotelId) : undefined,\n        floor: newRoom.floor !== '' ? Number(newRoom.floor) : undefined,\n        price: selectedType ? Number(selectedType.basePrice || 0) : undefined,\n        description: newRoom.description || undefined,\n        images: newRoom.images && newRoom.images.length ? newRoom.images : undefined\n      };\n      const res = await fetch('/api/admin/rooms', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...authHeaders()\n        },\n        body: JSON.stringify(payload)\n      });\n      if (!res.ok) {\n        let msg = 'Tạo thất bại';\n        try {\n          const j = await res.json();\n          if (j !== null && j !== void 0 && j.message) msg = j.message;\n        } catch {\n          const t = await res.text();\n          if (t) msg = t;\n        }\n        throw new Error(msg);\n      }\n      setNewRoom({\n        images: [],\n        price: '',\n        roomNumber: '',\n        status: 'Trống',\n        hotelId: '',\n        roomTypeId: '',\n        floor: '',\n        description: ''\n      });\n      setNewErrors({});\n      // Reset filters and refresh list to default view\n      setQ('');\n      setTypeId('');\n      setHotelFilter('');\n      await fetchTypes();\n      await fetchRooms({\n        q: '',\n        typeId: '',\n        hotelId: ''\n      });\n      setCreating(false);\n      alert('Tạo phòng thành công');\n      setIsCreateOpen(false);\n    } catch (e) {\n      alert(e.message || 'Lỗi tạo');\n      setCreating(false);\n    }\n  };\n  const fileInputRef = useRef(null);\n  const onPickFiles = () => {\n    var _fileInputRef$current;\n    return (_fileInputRef$current = fileInputRef.current) === null || _fileInputRef$current === void 0 ? void 0 : _fileInputRef$current.click();\n  };\n  const onFilesSelected = async e => {\n    const files = Array.from(e.target.files || []);\n    if (!files.length) return;\n    const current = (newRoom.images || []).length;\n    const spaceLeft = Math.max(0, 5 - current);\n    if (spaceLeft <= 0) {\n      alert('Bạn chỉ có thể chọn tối đa 5 ảnh.');\n      return;\n    }\n    const pick = files.slice(0, spaceLeft);\n    const form = new FormData();\n    for (const f of pick) form.append('files', f);\n    try {\n      const res = await fetch('/api/admin/rooms/upload', {\n        method: 'POST',\n        body: form,\n        headers: {\n          ...authHeaders()\n        }\n      });\n      if (!res.ok) throw new Error('Tải ảnh thất bại');\n      const j = await res.json();\n      const list = Array.isArray(j.files) ? j.files : [];\n      setNewRoom(r => ({\n        ...r,\n        images: [...(r.images || []), ...list]\n      }));\n    } catch (err) {\n      alert(err.message || 'Lỗi tải ảnh');\n    }\n  };\n  const removeImage = idx => {\n    setNewRoom(r => ({\n      ...r,\n      images: (r.images || []).filter((_, i) => i !== idx)\n    }));\n  };\n  const statusColorClass = label => {\n    if (!label) return '';\n    if (label.includes('Trống')) return 'room-status-green';\n    if (label.includes('dọn')) return 'room-status-yellow';\n    if (label.includes('Đang ở') || label.includes('bảo trì')) return 'room-status-red';\n    return '';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-rooms\",\n    style: {\n      padding: isModal ? 0 : '80px 12px 20px'\n    },\n    children: [!isModal && /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"home-header\",\n      style: {\n        position: 'sticky',\n        top: 0\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home-header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/logo.png\",\n          alt: \"logo\",\n          className: \"home-header-logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          className: \"home-header-title home-header-home-btn\",\n          children: \"TRANG CH\\u1EE6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 296,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ph-table\",\n      style: {\n        padding: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"home-rooms-title\",\n        style: {\n          textAlign: 'left',\n          marginTop: 0\n        },\n        children: \"Qu\\u1EA3n l\\xFD ph\\xF2ng kh\\xE1ch s\\u1EA1n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: e => e.preventDefault(),\n        className: \"au-toolbar\",\n        style: {\n          gridTemplateColumns: '1fr auto auto auto'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"au-group\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              display: 'flex',\n              alignItems: 'center',\n              gap: 8\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"au-input\",\n              placeholder: \"T\\xECm ki\\u1EBFm ph\\xF2ng...\",\n              value: q,\n              onChange: e => setQ(e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 15\n            }, this), totalRoomCount ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"room-count-badge\",\n              title: \"T\\u1ED5ng s\\u1ED1 ph\\xF2ng hi\\u1EC7n c\\xF3 trong h\\u1EC7 th\\u1ED1ng\",\n              children: [\"T\\u1ED5ng: \", totalRoomCount]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 310,\n              columnNumber: 17\n            }, this) : null]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 307,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"ph-btn ph-btn--secondary\",\n          value: hotelFilter,\n          onChange: e => {\n            const hid = e.target.value;\n            setHotelFilter(hid);\n            fetchTypes(hid || undefined);\n          },\n          style: {\n            height: 36\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"T\\u1EA5t c\\u1EA3 kh\\xE1ch s\\u1EA1n\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 317,\n            columnNumber: 13\n          }, this), hotels.map(h => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: h.id,\n            children: h.name\n          }, h.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 30\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 316,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          className: \"ph-btn ph-btn--secondary\",\n          value: typeId,\n          onChange: e => setTypeId(e.target.value),\n          style: {\n            height: 36\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"T\\u1EA5t c\\u1EA3 lo\\u1EA1i ph\\xF2ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this), types.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: t.id,\n            children: t.name\n          }, t.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 322,\n            columnNumber: 29\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"ph-btn au-add-btn\",\n          type: \"button\",\n          onClick: () => {\n            setIsCreateOpen(true);\n            setNewErrors({});\n          },\n          children: \"+ Th\\xEAm ph\\xF2ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 324,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 305,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#666'\n        },\n        children: \"\\u0110ang t\\u1EA3i...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 20\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#b42318'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 78\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ph-tr ph-head\",\n          style: {\n            gridTemplateColumns: '100px 120px 1.1fr 1fr 1fr 1.6fr 1fr 1.1fr'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: \"\\u1EA2nh\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: \"S\\u1ED1 ph\\xF2ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: \"Lo\\u1EA1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: \"Gi\\xE1 (VN\\u0110/\\u0111\\xEAm)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: \"S\\u1EE9c ch\\u1EE9a\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: \"Ti\\u1EC7n nghi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: \"Tr\\u1EA1ng th\\xE1i\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 335,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: \"H\\xE0nh \\u0111\\u1ED9ng\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 336,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 13\n        }, this), items.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ph-td\",\n          style: {\n            padding: 12,\n            color: '#666'\n          },\n          children: \"Kh\\xF4ng c\\xF3 ph\\xF2ng n\\xE0o.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 15\n        }, this) : items.map(it => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ph-tr\",\n          style: {\n            gridTemplateColumns: '100px 120px 1.1fr 1fr 1fr 1.6fr 1fr 1.1fr'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              onClick: () => onSelectRoomImage(it),\n              className: \"admin-room-thumb\",\n              title: \"B\\u1EA5m \\u0111\\u1EC3 th\\xEAm/\\u0111\\u1ED5i \\u1EA3nh\",\n              children: Array.isArray(it.images) && it.images.length ? /*#__PURE__*/_jsxDEV(\"img\", {\n                src: it.images[0],\n                alt: \"thumb\",\n                style: pendingRoomImages[it.id] ? {\n                  outline: '2px dashed #ff9800'\n                } : undefined\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 345,\n                columnNumber: 23\n              }, this) : /*#__PURE__*/_jsxDEV(\"span\", {\n                children: \"No image\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 346,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 343,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              value: it.roomNumber || '',\n              onChange: e => updateField(it.id, 'roomNumber', e.target.value)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 349,\n              columnNumber: 40\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              value: it.roomTypeId || '',\n              onChange: e => updateField(it.id, 'roomTypeId', Number(e.target.value)),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"\\u2014\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 352,\n                columnNumber: 21\n              }, this), types.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: t.id,\n                children: t.name\n              }, t.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 353,\n                columnNumber: 37\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: Number(it.basePrice || 0).toLocaleString('vi-VN')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 356,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: [Number(it.maxAdults || 0), \" kh\\xE1ch\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            style: {\n              whiteSpace: 'normal',\n              lineHeight: 1.3\n            },\n            children: it.amenities || '—'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 358,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: /*#__PURE__*/_jsxDEV(\"select\", {\n              value: it.statusVi,\n              onChange: e => updateField(it.id, 'statusVi', e.target.value),\n              className: statusColorClass(it.statusVi),\n              children: STATUS_UI.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: s,\n                children: s\n              }, s, false, {\n                fileName: _jsxFileName,\n                lineNumber: 363,\n                columnNumber: 41\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 362,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 361,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"ph-td\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ph-btn\",\n              type: \"button\",\n              onClick: () => handleSave(it),\n              children: \"S\\u1EEDa\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 367,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ph-btn ph-btn--secondary\",\n              type: \"button\",\n              onClick: () => handleDelete(it),\n              children: \"X\\xF3a\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 366,\n            columnNumber: 17\n          }, this)]\n        }, it.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 341,\n          columnNumber: 15\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 327,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        ref: roomImageInputRef,\n        type: \"file\",\n        accept: \"image/*\",\n        hidden: true,\n        onChange: onRoomImageChosen\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 375,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 303,\n      columnNumber: 7\n    }, this), isCreateOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"profile-overlay\",\n      onMouseDown: e => {\n        if (e.target === e.currentTarget) setIsCreateOpen(false);\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"profile-modal\",\n        onMouseDown: e => e.stopPropagation(),\n        style: {\n          width: 980,\n          maxWidth: '98%'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"ph-table\",\n          style: {\n            padding: 16\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              marginTop: 0,\n              textAlign: 'center'\n            },\n            children: \"Th\\xEAm Ph\\xF2ng M\\u1EDBi\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 382,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"room-create-grid\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rc-left\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                children: \"H\\xECnh \\u1EA3nh ph\\xF2ng\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 385,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rc-uploader\",\n                onClick: onPickFiles,\n                children: [(newRoom.images || []).length ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rc-thumbs\",\n                  children: newRoom.images.map((url, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"rc-thumb\",\n                    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                      src: url,\n                      alt: \"\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 391,\n                      columnNumber: 29\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      className: \"rc-thumb-del\",\n                      onClick: ev => {\n                        ev.stopPropagation();\n                        removeImage(idx);\n                      },\n                      children: \"\\xD7\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 392,\n                      columnNumber: 29\n                    }, this)]\n                  }, idx, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 390,\n                    columnNumber: 27\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 23\n                }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rc-empty\",\n                  children: \"B\\u1EA5m \\u0111\\u1EC3 ch\\u1ECDn \\u1EA3nh\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 396,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  ref: fileInputRef,\n                  onChange: onFilesSelected,\n                  type: \"file\",\n                  accept: \"image/*\",\n                  multiple: true,\n                  hidden: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 397,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rc-hint\",\n                children: [(newRoom.images || []).length, \"/5 \\u1EA3nh\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 399,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rc-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Gi\\xE1 c\\u01A1 b\\u1EA3n (VND)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 401,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: selectedType ? Number(selectedType.basePrice || 0).toLocaleString('vi-VN') : '',\n                  placeholder: \"VD: 850000\",\n                  disabled: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 400,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rc-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"S\\u1ED1 ph\\xF2ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 405,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  placeholder: \"Nh\\u1EADp s\\u1ED1 ph\\xF2ng\",\n                  className: newErrors.roomNumber ? 'au-error' : '',\n                  value: newRoom.roomNumber,\n                  onChange: e => {\n                    setNewRoom({\n                      ...newRoom,\n                      roomNumber: e.target.value\n                    });\n                    if (newErrors.roomNumber) setNewErrors({\n                      ...newErrors,\n                      roomNumber: undefined\n                    });\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 406,\n                  columnNumber: 21\n                }, this), newErrors.roomNumber ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rc-error\",\n                  children: newErrors.roomNumber\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 407,\n                  columnNumber: 45\n                }, this) : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 404,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rc-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Tr\\u1EA1ng th\\xE1i\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 410,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: `${newErrors.status ? 'au-error' : ''} ${statusColorClass(newRoom.status)}`,\n                  value: newRoom.status,\n                  onChange: e => {\n                    setNewRoom({\n                      ...newRoom,\n                      status: e.target.value\n                    });\n                    if (newErrors.status) setNewErrors({\n                      ...newErrors,\n                      status: undefined\n                    });\n                  },\n                  children: STATUS_UI.map(s => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: s,\n                    children: s\n                  }, s, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 412,\n                    columnNumber: 43\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 411,\n                  columnNumber: 21\n                }, this), newErrors.status ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rc-error\",\n                  children: newErrors.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 41\n                }, this) : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 384,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"rc-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rc-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Kh\\xE1ch s\\u1EA1n\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: newErrors.hotelId ? 'au-error' : '',\n                  value: newRoom.hotelId || '',\n                  onChange: e => {\n                    const hid = e.target.value ? Number(e.target.value) : '';\n                    setNewRoom({\n                      ...newRoom,\n                      hotelId: hid,\n                      roomTypeId: ''\n                    });\n                    fetchTypes(hid || undefined);\n                    if (newErrors.hotelId) setNewErrors({\n                      ...newErrors,\n                      hotelId: undefined\n                    });\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"-- Ch\\u1ECDn kh\\xE1ch s\\u1EA1n --\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 23\n                  }, this), hotels.map(h => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: h.id,\n                    children: h.name\n                  }, h.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 427,\n                    columnNumber: 40\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 420,\n                  columnNumber: 21\n                }, this), newErrors.hotelId ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rc-error\",\n                  children: newErrors.hotelId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 42\n                }, this) : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 418,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rc-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"Lo\\u1EA1i ph\\xF2ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                  className: newErrors.roomTypeId ? 'au-error' : '',\n                  value: newRoom.roomTypeId,\n                  onChange: e => {\n                    const val = e.target.value;\n                    setNewRoom({\n                      ...newRoom,\n                      roomTypeId: val ? Number(val) : ''\n                    });\n                    if (newErrors.roomTypeId) setNewErrors({\n                      ...newErrors,\n                      roomTypeId: undefined\n                    });\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                    value: \"\",\n                    children: \"-- Ch\\u1ECDn lo\\u1EA1i ph\\xF2ng --\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 434,\n                    columnNumber: 23\n                  }, this), types.map(t => /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: t.id,\n                    children: t.name\n                  }, t.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 435,\n                    columnNumber: 39\n                  }, this))]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 21\n                }, this), newErrors.roomTypeId ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rc-error\",\n                  children: newErrors.roomTypeId\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 437,\n                  columnNumber: 45\n                }, this) : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 431,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rc-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"T\\u1EA7ng\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 440,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  placeholder: \"Nh\\u1EADp t\\u1EA7ng\",\n                  value: newRoom.floor,\n                  onChange: e => {\n                    setNewRoom({\n                      ...newRoom,\n                      floor: e.target.value\n                    });\n                    if (newErrors.floor) setNewErrors({\n                      ...newErrors,\n                      floor: undefined\n                    });\n                  },\n                  className: newErrors.floor ? 'au-error' : ''\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 441,\n                  columnNumber: 21\n                }, this), newErrors.floor ? /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"rc-error\",\n                  children: newErrors.floor\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 40\n                }, this) : null]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rc-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"M\\xF4 t\\u1EA3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 445,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n                  rows: 3,\n                  placeholder: \"M\\xF4 t\\u1EA3 chi ti\\u1EBFt v\\u1EC1 ph\\xF2ng...\",\n                  value: newRoom.description,\n                  onChange: e => setNewRoom({\n                    ...newRoom,\n                    description: e.target.value\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 446,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 444,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rc-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"S\\u1ED1 ng\\u01B0\\u1EDDi l\\u1EDBn t\\u1ED1i \\u0111a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 449,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: selectedType ? selectedType.maxAdults : '',\n                  disabled: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 450,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 448,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"rc-field\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  children: \"S\\u1ED1 tr\\u1EBB em t\\u1ED1i \\u0111a\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 453,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  value: selectedType ? selectedType.maxChildren : '',\n                  disabled: true\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 454,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 452,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 417,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 383,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              marginTop: 12,\n              display: 'flex',\n              gap: 8,\n              justifyContent: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              title: !isFormValid && !creating ? tooltipText : '',\n              style: {\n                display: 'inline-block'\n              },\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"ph-btn\",\n                onClick: handleCreate,\n                disabled: creating || !isFormValid,\n                type: \"button\",\n                children: creating ? 'Đang tạo...' : 'Thêm phòng'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 459,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ph-btn ph-btn--secondary\",\n              onClick: () => setIsCreateOpen(false),\n              type: \"button\",\n              children: \"H\\u1EE7y\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 458,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 381,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 380,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 379,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 294,\n    columnNumber: 5\n  }, this);\n}\n_s(AdminRooms, \"ryffFOjWONJCZru5TrKeceXCMAs=\");\n_c = AdminRooms;\nvar _c;\n$RefreshReg$(_c, \"AdminRooms\");","map":{"version":3,"names":["React","useEffect","useMemo","useRef","useState","useCallback","authHeaders","jsxDEV","_jsxDEV","STATUS_UI","statusDbToUi","s","v","String","toLowerCase","statusUiToDb","includes","AdminRooms","isModal","onClose","_s","q","setQ","typeId","setTypeId","hotelFilter","setHotelFilter","items","setItems","totalRoomCount","setTotalRoomCount","types","setTypes","hotels","setHotels","loading","setLoading","error","setError","isCreateOpen","setIsCreateOpen","creating","setCreating","newRoom","setNewRoom","images","price","roomNumber","status","roomTypeId","floor","description","newErrors","setNewErrors","roomImageInputRef","activeRoomForImage","setActiveRoomForImage","pendingRoomImages","setPendingRoomImages","fetchRooms","params","url","URL","window","location","origin","searchParams","set","undefined","delete","hotelId","res","fetch","toString","headers","ok","Error","j","json","list","Array","isArray","rooms","mapped","map","r","imgs","parsed","JSON","parse","statusVi","allRes","allJ","allList","length","e","message","fetchTypes","fetchHotels","initRef","current","debounceRef","clearTimeout","setTimeout","updateField","id","field","value","prev","it","handleSave","imagesToPersist","file","preview","form","FormData","append","uploadRes","method","body","uj","upList","files","realPath","revokeObjectURL","cp","filter","u","startsWith","payload","stringify","alert","onSelectRoomImage","room","_roomImageInputRef$cu","click","onRoomImageChosen","from","target","f","createObjectURL","roomId","slice","handleDelete","confirm","selectedType","Number","find","t","computedErrors","trim","isNaN","isFormValid","Object","keys","tooltipText","msgs","push","join","handleCreate","basePrice","msg","text","fileInputRef","onPickFiles","_fileInputRef$current","onFilesSelected","spaceLeft","Math","max","pick","err","removeImage","idx","_","i","statusColorClass","label","className","style","padding","children","position","top","src","alt","fileName","_jsxFileName","lineNumber","columnNumber","href","textAlign","marginTop","onSubmit","preventDefault","gridTemplateColumns","display","alignItems","gap","placeholder","onChange","title","hid","height","h","name","type","onClick","color","outline","toLocaleString","maxAdults","whiteSpace","lineHeight","amenities","ref","accept","hidden","onMouseDown","currentTarget","stopPropagation","width","maxWidth","ev","multiple","disabled","val","rows","maxChildren","justifyContent","_c","$RefreshReg$"],"sources":["D:/DA_TichHop/HMS_AI Hotel/client/src/AdminRooms.js"],"sourcesContent":["import React, { useEffect, useMemo, useRef, useState, useCallback } from 'react';\r\nimport './HomePage.css';\r\nimport { authHeaders } from './auth';\r\n\r\nconst STATUS_UI = ['Trống', 'Đang ở', 'Đang dọn dẹp', 'Đang bảo trì'];\r\nconst statusDbToUi = (s) => {\r\n  const v = String(s || '').toLowerCase();\r\n  if (v === 'available') return 'Trống';\r\n  if (v === 'occupied') return 'Đang ở';\r\n  if (v === 'cleaning') return 'Đang dọn dẹp';\r\n  if (v === 'maintenance') return 'Đang bảo trì';\r\n  return 'Trống';\r\n};\r\nconst statusUiToDb = (s) => {\r\n  const v = String(s || '').toLowerCase();\r\n  if (v.includes('trống')) return 'Available';\r\n  if (v.includes('đang ở')) return 'Occupied';\r\n  if (v.includes('dọn')) return 'Cleaning';\r\n  if (v.includes('bảo trì')) return 'Maintenance';\r\n  return 'Available';\r\n};\r\n\r\nexport default function AdminRooms({ isModal, onClose }) {\r\n  const [q, setQ] = useState('');\r\n  const [typeId, setTypeId] = useState('');\r\n  const [hotelFilter, setHotelFilter] = useState('');\r\n  const [items, setItems] = useState([]);\r\n  const [totalRoomCount, setTotalRoomCount] = useState(0); // tổng số phòng (không lọc)\r\n  const [types, setTypes] = useState([]);\r\n  const [hotels, setHotels] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [isCreateOpen, setIsCreateOpen] = useState(false);\r\n  const [creating, setCreating] = useState(false);\r\n  const [newRoom, setNewRoom] = useState({\r\n    images: [],\r\n    price: '',\r\n    roomNumber: '',\r\n    status: 'Trống',\r\n    roomTypeId: '',\r\n    floor: '',\r\n    description: ''\r\n  });\r\n  const [newErrors, setNewErrors] = useState({});\r\n  // For per-room image upload\r\n  const roomImageInputRef = useRef(null);\r\n  const [activeRoomForImage, setActiveRoomForImage] = useState(null);\r\n  // Ảnh tạm thời (chưa upload) mỗi phòng: { [roomId]: { file, preview } }\r\n  const [pendingRoomImages, setPendingRoomImages] = useState({});\r\n  // (Đã bỏ chỉnh sửa tiện nghi) – chỉ hiển thị danh sách tiện nghi đã liên kết\r\n\r\n  const fetchRooms = useCallback(async (params = {}) => {\r\n    setLoading(true); setError('');\r\n    try {\r\n      const url = new URL('/api/admin/rooms', window.location.origin);\r\n  if (q) url.searchParams.set('q', q);\r\n  if (typeId) url.searchParams.set('typeId', String(typeId));\r\n  if (hotelFilter) url.searchParams.set('hotelId', String(hotelFilter));\r\n      if (params.q !== undefined) { url.searchParams.set('q', params.q); }\r\n      if (params.typeId !== undefined) { if (params.typeId) url.searchParams.set('typeId', String(params.typeId)); else url.searchParams.delete('typeId'); }\r\n  if (params.hotelId !== undefined) { if (params.hotelId) url.searchParams.set('hotelId', String(params.hotelId)); else url.searchParams.delete('hotelId'); }\r\n  const res = await fetch(url.toString(), { headers: { ...authHeaders() } });\r\n      if (!res.ok) throw new Error('Không tải được danh sách phòng');\r\n      const j = await res.json();\r\n      const list = Array.isArray(j.rooms) ? j.rooms : [];\r\n      const mapped = list.map(r => {\r\n        let imgs = r.images;\r\n        if (typeof imgs === 'string') {\r\n          try { const parsed = JSON.parse(imgs); if (Array.isArray(parsed)) imgs = parsed; } catch { /* ignore */ }\r\n        }\r\n        if (!Array.isArray(imgs)) imgs = [];\r\n        return { ...r, images: imgs, statusVi: statusDbToUi(r.status) };\r\n      });\r\n      setItems(mapped);\r\n      // Cập nhật tổng số phòng (không lọc: gọi một lần không tham số nếu có filter)\r\n      try {\r\n        if (q || typeId || hotelFilter) {\r\n          const allRes = await fetch(new URL('/api/admin/rooms', window.location.origin), { headers: { ...authHeaders() } });\r\n          if (allRes.ok) {\r\n            const allJ = await allRes.json();\r\n            const allList = Array.isArray(allJ.rooms) ? allJ.rooms : [];\r\n            setTotalRoomCount(allList.length);\r\n          }\r\n        } else {\r\n          setTotalRoomCount(mapped.length);\r\n        }\r\n      } catch {}\r\n    } catch (e) {\r\n      setError(e.message || 'Lỗi tải dữ liệu'); setItems([]);\r\n    } finally { setLoading(false); }\r\n  }, [q, typeId, hotelFilter]);\r\n\r\n  const fetchTypes = useCallback(async (hotelId) => {\r\n    try {\r\n      const url = new URL('/api/room-types', window.location.origin);\r\n      if (hotelId) url.searchParams.set('hotelId', String(hotelId));\r\n  const res = await fetch(url, { headers: { ...authHeaders() } });\r\n      if (!res.ok) throw new Error();\r\n      const list = await res.json();\r\n      setTypes(Array.isArray(list) ? list : []);\r\n    } catch { setTypes([]); }\r\n  }, []);\r\n  const fetchHotels = useCallback(async () => {\r\n    try {\r\n  const res = await fetch('/api/hotels');\r\n      if (!res.ok) throw new Error();\r\n      const list = await res.json();\r\n      setHotels(Array.isArray(list) ? list : []);\r\n    } catch { setHotels([]); }\r\n  }, []);\r\n\r\n  // One-time init guarded by ref to satisfy exhaustive-deps without re-triggering\r\n  const initRef = useRef(false);\r\n  useEffect(() => {\r\n    if (!initRef.current) {\r\n      initRef.current = true;\r\n      fetchHotels();\r\n      fetchTypes();\r\n      fetchRooms({ q: '' });\r\n    }\r\n  }, [fetchHotels, fetchTypes, fetchRooms]);\r\n  // Không cần load danh mục hoặc modal vì tiện nghi đã xử lý ở backend\r\n\r\n  // Live search debounce\r\n  const debounceRef = useRef(null);\r\n  useEffect(() => {\r\n    if (debounceRef.current) clearTimeout(debounceRef.current);\r\n    debounceRef.current = setTimeout(() => { fetchRooms({}); }, 250);\r\n    return () => { if (debounceRef.current) clearTimeout(debounceRef.current); };\r\n  }, [fetchRooms]);\r\n\r\n  const updateField = (id, field, value) => {\r\n    setItems(prev => prev.map(it => it.id === id ? { ...it, [field]: value } : it));\r\n  };\r\n\r\n  const handleSave = async (it) => {\r\n    try {\r\n      let imagesToPersist = it.images && it.images.length ? [...it.images] : [];\r\n      // Nếu có ảnh pending thì upload trước rồi thay preview\r\n      if (pendingRoomImages[it.id]) {\r\n        const { file, preview } = pendingRoomImages[it.id];\r\n        const form = new FormData();\r\n        form.append('files', file);\r\n        const uploadRes = await fetch('/api/admin/rooms/upload', { method: 'POST', body: form, headers: { ...authHeaders() } });\r\n        if (!uploadRes.ok) throw new Error('Tải ảnh thất bại');\r\n        const uj = await uploadRes.json();\r\n        const upList = Array.isArray(uj.files) ? uj.files : [];\r\n        if (!upList.length) throw new Error('Không nhận được ảnh');\r\n        const realPath = upList[0];\r\n        if (imagesToPersist.length) {\r\n          if (imagesToPersist[0] === preview) {\r\n            imagesToPersist[0] = realPath;\r\n          } else {\r\n            imagesToPersist = [realPath, ...imagesToPersist];\r\n          }\r\n        } else {\r\n          imagesToPersist = [realPath];\r\n        }\r\n        // cleanup preview object URL & state\r\n        URL.revokeObjectURL(preview);\r\n        setPendingRoomImages(prev => { const cp = { ...prev }; delete cp[it.id]; return cp; });\r\n      }\r\n      // Loại bỏ mọi blob preview còn sót\r\n      imagesToPersist = imagesToPersist.filter(u => typeof u === 'string' && !u.startsWith('blob:'));\r\n      const payload = { roomNumber: it.roomNumber, roomTypeId: it.roomTypeId, status: statusUiToDb(it.statusVi), images: imagesToPersist.length ? imagesToPersist : undefined };\r\n      const res = await fetch(`/api/admin/rooms/${it.id}`, { method: 'PUT', headers: { 'Content-Type': 'application/json', ...authHeaders() }, body: JSON.stringify(payload) });\r\n      if (!res.ok) throw new Error('Lưu thất bại');\r\n      await fetchRooms({});\r\n      alert('Đã lưu phòng');\r\n    } catch (e) { alert(e.message || 'Lỗi lưu'); }\r\n  };\r\n\r\n  const onSelectRoomImage = (room) => {\r\n    setActiveRoomForImage(room);\r\n    roomImageInputRef.current?.click();\r\n  };\r\n\r\n  const onRoomImageChosen = async (e) => {\r\n    const files = Array.from(e.target.files || []);\r\n    if (!files.length || !activeRoomForImage) return;\r\n    const f = files[0];\r\n    const preview = URL.createObjectURL(f);\r\n    const roomId = activeRoomForImage.id;\r\n    // Lưu ảnh tạm\r\n    setPendingRoomImages(prev => ({ ...prev, [roomId]: { file: f, preview } }));\r\n    // Hiển thị ngay preview ở vị trí ảnh đầu\r\n    setItems(prev => prev.map(it => it.id === roomId ? { ...it, images: it.images && it.images.length ? [preview, ...it.images.slice(1)] : [preview] } : it));\r\n    setActiveRoomForImage(null);\r\n    if (roomImageInputRef.current) roomImageInputRef.current.value = '';\r\n  };\r\n\r\n  const handleDelete = async (it) => {\r\n    if (!window.confirm('Xóa phòng này?')) return;\r\n    try {\r\n  const res = await fetch(`/api/admin/rooms/${it.id}`, { method: 'DELETE', headers: { ...authHeaders() } });\r\n      if (!res.ok) throw new Error('Xóa thất bại');\r\n      await fetchRooms({});\r\n    } catch (e) { alert(e.message || 'Lỗi xóa'); }\r\n  };\r\n\r\n  const selectedType = useMemo(() => {\r\n    const id = Number(newRoom.roomTypeId || 0);\r\n    return types.find(t => Number(t.id) === id) || null;\r\n  }, [types, newRoom.roomTypeId]);\r\n  // selectedHotel removed (unused)\r\n\r\n  const computedErrors = useMemo(() => {\r\n    const e = {};\r\n    if (!newRoom.roomNumber || !String(newRoom.roomNumber).trim()) e.roomNumber = 'Vui lòng nhập số phòng';\r\n  if (!newRoom.hotelId) e.hotelId = 'Vui lòng chọn khách sạn';\r\n  if (!newRoom.roomTypeId) e.roomTypeId = 'Vui lòng chọn loại phòng';\r\n    if (!newRoom.status) e.status = 'Vui lòng chọn trạng thái';\r\n    if (newRoom.floor !== '' && Number.isNaN(Number(newRoom.floor))) e.floor = 'Tầng không hợp lệ';\r\n    return e;\r\n  }, [newRoom]);\r\n  const isFormValid = useMemo(() => Object.keys(computedErrors).length === 0, [computedErrors]);\r\n  const tooltipText = useMemo(() => {\r\n    if (isFormValid || creating) return '';\r\n    const msgs = [];\r\n    if (computedErrors.roomNumber) msgs.push(computedErrors.roomNumber);\r\n    if (computedErrors.roomTypeId) msgs.push(computedErrors.roomTypeId);\r\n    if (computedErrors.status) msgs.push(computedErrors.status);\r\n    return msgs.join('; ');\r\n  }, [computedErrors, isFormValid, creating]);\r\n\r\n  const handleCreate = async () => {\r\n    setNewErrors(computedErrors);\r\n    if (!isFormValid) return;\r\n    setCreating(true);\r\n    try {\r\n      const payload = {\r\n        roomNumber: String(newRoom.roomNumber).trim(),\r\n        roomTypeId: Number(newRoom.roomTypeId),\r\n        status: statusUiToDb(newRoom.status),\r\n        hotelId: newRoom.hotelId ? Number(newRoom.hotelId) : undefined,\r\n        floor: newRoom.floor !== '' ? Number(newRoom.floor) : undefined,\r\n        price: selectedType ? Number(selectedType.basePrice || 0) : undefined,\r\n        description: newRoom.description || undefined,\r\n        images: newRoom.images && newRoom.images.length ? newRoom.images : undefined\r\n      };\r\n  const res = await fetch('/api/admin/rooms', { method: 'POST', headers: { 'Content-Type': 'application/json', ...authHeaders() }, body: JSON.stringify(payload) });\r\n      if (!res.ok) {\r\n        let msg = 'Tạo thất bại';\r\n        try { const j = await res.json(); if (j?.message) msg = j.message; } catch { const t = await res.text(); if (t) msg = t; }\r\n        throw new Error(msg);\r\n      }\r\n  setNewRoom({ images:[], price:'', roomNumber: '', status: 'Trống', hotelId:'', roomTypeId: '', floor:'', description:'' });\r\n  setNewErrors({});\r\n  // Reset filters and refresh list to default view\r\n  setQ('');\r\n  setTypeId('');\r\n  setHotelFilter('');\r\n  await fetchTypes();\r\n  await fetchRooms({ q: '', typeId: '', hotelId: '' });\r\n      setCreating(false);\r\n      alert('Tạo phòng thành công');\r\n      setIsCreateOpen(false);\r\n    } catch (e) { alert(e.message || 'Lỗi tạo'); setCreating(false); }\r\n  };\r\n\r\n  const fileInputRef = useRef(null);\r\n  const onPickFiles = () => fileInputRef.current?.click();\r\n  const onFilesSelected = async (e) => {\r\n    const files = Array.from(e.target.files || []);\r\n    if (!files.length) return;\r\n    const current = (newRoom.images || []).length;\r\n    const spaceLeft = Math.max(0, 5 - current);\r\n    if (spaceLeft <= 0) { alert('Bạn chỉ có thể chọn tối đa 5 ảnh.'); return; }\r\n    const pick = files.slice(0, spaceLeft);\r\n    const form = new FormData();\r\n    for (const f of pick) form.append('files', f);\r\n    try {\r\n  const res = await fetch('/api/admin/rooms/upload', { method: 'POST', body: form, headers: { ...authHeaders() } });\r\n      if (!res.ok) throw new Error('Tải ảnh thất bại');\r\n      const j = await res.json();\r\n      const list = Array.isArray(j.files) ? j.files : [];\r\n      setNewRoom(r => ({ ...r, images: [...(r.images||[]), ...list] }));\r\n    } catch (err) { alert(err.message || 'Lỗi tải ảnh'); }\r\n  };\r\n\r\n  const removeImage = (idx) => {\r\n    setNewRoom(r => ({ ...r, images: (r.images||[]).filter((_, i) => i !== idx) }));\r\n  };\r\n\r\n  const statusColorClass = (label) => {\r\n    if (!label) return '';\r\n    if (label.includes('Trống')) return 'room-status-green';\r\n    if (label.includes('dọn')) return 'room-status-yellow';\r\n    if (label.includes('Đang ở') || label.includes('bảo trì')) return 'room-status-red';\r\n    return '';\r\n  };\r\n\r\n  return (\r\n    <div className=\"admin-rooms\" style={{ padding: isModal ? 0 : '80px 12px 20px' }}>\r\n      {!isModal && (\r\n        <header className=\"home-header\" style={{ position: 'sticky', top: 0 }}>\r\n          <div className=\"home-header-left\">\r\n            <img src=\"/logo.png\" alt=\"logo\" className=\"home-header-logo\" />\r\n            <a href=\"/\" className=\"home-header-title home-header-home-btn\">TRANG CHỦ</a>\r\n          </div>\r\n        </header>\r\n      )}\r\n      <div className=\"ph-table\" style={{ padding: 16 }}>\r\n        <h2 className=\"home-rooms-title\" style={{ textAlign: 'left', marginTop: 0 }}>Quản lý phòng khách sạn</h2>\r\n        <form onSubmit={(e)=>e.preventDefault()} className=\"au-toolbar\" style={{ gridTemplateColumns: '1fr auto auto auto' }}>\r\n          <div className=\"au-group\">\r\n            <div style={{ display:'flex', alignItems:'center', gap:8 }}>\r\n              <input className=\"au-input\" placeholder=\"Tìm kiếm phòng...\" value={q} onChange={e=>setQ(e.target.value)} />\r\n              {totalRoomCount ? (\r\n                <div className=\"room-count-badge\" title=\"Tổng số phòng hiện có trong hệ thống\">\r\n                  Tổng: {totalRoomCount}\r\n                </div>\r\n              ) : null}\r\n            </div>\r\n          </div>\r\n          <select className=\"ph-btn ph-btn--secondary\" value={hotelFilter} onChange={e=>{ const hid = e.target.value; setHotelFilter(hid); fetchTypes(hid || undefined); }} style={{ height: 36 }}>\r\n            <option value=\"\">Tất cả khách sạn</option>\r\n            {hotels.map(h => <option key={h.id} value={h.id}>{h.name}</option>)}\r\n          </select>\r\n          <select className=\"ph-btn ph-btn--secondary\" value={typeId} onChange={e=>setTypeId(e.target.value)} style={{ height: 36 }}>\r\n            <option value=\"\">Tất cả loại phòng</option>\r\n            {types.map(t => <option key={t.id} value={t.id}>{t.name}</option>)}\r\n          </select>\r\n          <button className=\"ph-btn au-add-btn\" type=\"button\" onClick={()=>{ setIsCreateOpen(true); setNewErrors({}); }}>+ Thêm phòng</button>\r\n        </form>\r\n        {loading ? <div style={{ color:'#666' }}>Đang tải...</div> : error ? <div style={{ color:'#b42318' }}>{error}</div> : (\r\n          <div>\r\n            <div className=\"ph-tr ph-head\" style={{ gridTemplateColumns: '100px 120px 1.1fr 1fr 1fr 1.6fr 1fr 1.1fr' }}>\r\n              <div className=\"ph-td\">Ảnh</div>\r\n              <div className=\"ph-td\">Số phòng</div>\r\n              <div className=\"ph-td\">Loại</div>\r\n              <div className=\"ph-td\">Giá (VNĐ/đêm)</div>\r\n              <div className=\"ph-td\">Sức chứa</div>\r\n              <div className=\"ph-td\">Tiện nghi</div>\r\n              <div className=\"ph-td\">Trạng thái</div>\r\n              <div className=\"ph-td\">Hành động</div>\r\n            </div>\r\n            {items.length === 0 ? (\r\n              <div className=\"ph-td\" style={{ padding: 12, color: '#666' }}>Không có phòng nào.</div>\r\n            ) : items.map(it => (\r\n              <div key={it.id} className=\"ph-tr\" style={{ gridTemplateColumns: '100px 120px 1.1fr 1fr 1fr 1.6fr 1fr 1.1fr' }}>\r\n                <div className=\"ph-td\">\r\n                  <div onClick={()=>onSelectRoomImage(it)} className=\"admin-room-thumb\" title=\"Bấm để thêm/đổi ảnh\">\r\n                    {Array.isArray(it.images) && it.images.length ? (\r\n                      <img src={it.images[0]} alt=\"thumb\" style={pendingRoomImages[it.id] ? { outline: '2px dashed #ff9800' } : undefined} />\r\n                    ) : <span>No image</span>}\r\n                  </div>\r\n                </div>\r\n                <div className=\"ph-td\"><input value={it.roomNumber || ''} onChange={e=>updateField(it.id, 'roomNumber', e.target.value)} /></div>\r\n                <div className=\"ph-td\">\r\n                  <select value={it.roomTypeId || ''} onChange={e=>updateField(it.id, 'roomTypeId', Number(e.target.value))}>\r\n                    <option value=\"\">—</option>\r\n                    {types.map(t => <option key={t.id} value={t.id}>{t.name}</option>)}\r\n                  </select>\r\n                </div>\r\n                <div className=\"ph-td\">{Number(it.basePrice || 0).toLocaleString('vi-VN')}</div>\r\n                <div className=\"ph-td\">{(Number(it.maxAdults||0))} khách</div>\r\n                <div className=\"ph-td\" style={{ whiteSpace:'normal', lineHeight:1.3 }}>\r\n                  {it.amenities || '—'}\r\n                </div>\r\n                <div className=\"ph-td\">\r\n                  <select value={it.statusVi} onChange={e=>updateField(it.id, 'statusVi', e.target.value)} className={statusColorClass(it.statusVi)}>\r\n                    {STATUS_UI.map(s => <option key={s} value={s}>{s}</option>)}\r\n                  </select>\r\n                </div>\r\n                <div className=\"ph-td\">\r\n                  <button className=\"ph-btn\" type=\"button\" onClick={()=>handleSave(it)}>Sửa</button>\r\n                  <button className=\"ph-btn ph-btn--secondary\" type=\"button\" onClick={()=>handleDelete(it)}>Xóa</button>\r\n                </div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n        {/* Hidden input for per-room image selection */}\r\n        <input ref={roomImageInputRef} type=\"file\" accept=\"image/*\" hidden onChange={onRoomImageChosen} />\r\n      </div>\r\n\r\n      {isCreateOpen && (\r\n        <div className=\"profile-overlay\" onMouseDown={(e)=>{ if (e.target===e.currentTarget) setIsCreateOpen(false); }}>\r\n          <div className=\"profile-modal\" onMouseDown={(e)=>e.stopPropagation()} style={{ width: 980, maxWidth:'98%' }}>\r\n            <div className=\"ph-table\" style={{ padding: 16 }}>\r\n              <h3 style={{ marginTop:0, textAlign:'center' }}>Thêm Phòng Mới</h3>\r\n              <div className=\"room-create-grid\">\r\n                <div className=\"rc-left\">\r\n                  <label>Hình ảnh phòng</label>\r\n                  <div className=\"rc-uploader\" onClick={onPickFiles}>\r\n                    {(newRoom.images||[]).length ? (\r\n                      <div className=\"rc-thumbs\">\r\n                        {newRoom.images.map((url, idx) => (\r\n                          <div key={idx} className=\"rc-thumb\">\r\n                            <img src={url} alt=\"\" />\r\n                            <button type=\"button\" className=\"rc-thumb-del\" onClick={(ev)=>{ev.stopPropagation(); removeImage(idx);}}>×</button>\r\n                          </div>\r\n                        ))}\r\n                      </div>\r\n                    ) : <div className=\"rc-empty\">Bấm để chọn ảnh</div>}\r\n                    <input ref={fileInputRef} onChange={onFilesSelected} type=\"file\" accept=\"image/*\" multiple hidden />\r\n                  </div>\r\n                  <div className=\"rc-hint\">{(newRoom.images||[]).length}/5 ảnh</div>\r\n                  <div className=\"rc-field\">\r\n                    <label>Giá cơ bản (VND)</label>\r\n                    <input value={selectedType ? Number(selectedType.basePrice||0).toLocaleString('vi-VN') : ''} placeholder=\"VD: 850000\" disabled />\r\n                  </div>\r\n                  <div className=\"rc-field\">\r\n                    <label>Số phòng</label>\r\n                    <input placeholder=\"Nhập số phòng\" className={newErrors.roomNumber ? 'au-error' : ''} value={newRoom.roomNumber} onChange={e=>{ setNewRoom({...newRoom, roomNumber:e.target.value}); if (newErrors.roomNumber) setNewErrors({...newErrors, roomNumber: undefined}); }} />\r\n                    {newErrors.roomNumber ? <div className=\"rc-error\">{newErrors.roomNumber}</div> : null}\r\n                  </div>\r\n                  <div className=\"rc-field\">\r\n                    <label>Trạng thái</label>\r\n                    <select className={`${newErrors.status ? 'au-error' : ''} ${statusColorClass(newRoom.status)}`} value={newRoom.status} onChange={e=>{ setNewRoom({...newRoom, status:e.target.value}); if (newErrors.status) setNewErrors({...newErrors, status: undefined}); }}>\r\n                      {STATUS_UI.map(s => <option key={s} value={s}>{s}</option>)}\r\n                    </select>\r\n                    {newErrors.status ? <div className=\"rc-error\">{newErrors.status}</div> : null}\r\n                  </div>\r\n                </div>\r\n                <div className=\"rc-right\">\r\n                  <div className=\"rc-field\">\r\n                    <label>Khách sạn</label>\r\n                    <select className={newErrors.hotelId ? 'au-error' : ''} value={newRoom.hotelId || ''} onChange={e=>{\r\n                      const hid = e.target.value ? Number(e.target.value) : '';\r\n                      setNewRoom({ ...newRoom, hotelId: hid, roomTypeId: '' });\r\n                      fetchTypes(hid || undefined);\r\n                      if (newErrors.hotelId) setNewErrors({ ...newErrors, hotelId: undefined });\r\n                    }}>\r\n                      <option value=\"\">-- Chọn khách sạn --</option>\r\n                      {hotels.map(h => <option key={h.id} value={h.id}>{h.name}</option>)}\r\n                    </select>\r\n                    {newErrors.hotelId ? <div className=\"rc-error\">{newErrors.hotelId}</div> : null}\r\n                  </div>\r\n                  <div className=\"rc-field\">\r\n                    <label>Loại phòng</label>\r\n                    <select className={newErrors.roomTypeId ? 'au-error' : ''} value={newRoom.roomTypeId} onChange={e=>{ const val = e.target.value; setNewRoom({...newRoom, roomTypeId: val ? Number(val) : ''}); if (newErrors.roomTypeId) setNewErrors({...newErrors, roomTypeId: undefined}); }}>\r\n                      <option value=\"\">-- Chọn loại phòng --</option>\r\n                      {types.map(t => <option key={t.id} value={t.id}>{t.name}</option>)}\r\n                    </select>\r\n                    {newErrors.roomTypeId ? <div className=\"rc-error\">{newErrors.roomTypeId}</div> : null}\r\n                  </div>\r\n                  <div className=\"rc-field\">\r\n                    <label>Tầng</label>\r\n                    <input placeholder=\"Nhập tầng\" value={newRoom.floor} onChange={e=>{ setNewRoom({...newRoom, floor: e.target.value}); if (newErrors.floor) setNewErrors({...newErrors, floor: undefined}); }} className={newErrors.floor ? 'au-error' : ''} />\r\n                    {newErrors.floor ? <div className=\"rc-error\">{newErrors.floor}</div> : null}\r\n                  </div>\r\n                  <div className=\"rc-field\">\r\n                    <label>Mô tả</label>\r\n                    <textarea rows={3} placeholder=\"Mô tả chi tiết về phòng...\" value={newRoom.description} onChange={e=>setNewRoom({...newRoom, description:e.target.value})} />\r\n                  </div>\r\n                  <div className=\"rc-field\">\r\n                    <label>Số người lớn tối đa</label>\r\n                    <input value={selectedType ? selectedType.maxAdults : ''} disabled />\r\n                  </div>\r\n                  <div className=\"rc-field\">\r\n                    <label>Số trẻ em tối đa</label>\r\n                    <input value={selectedType ? selectedType.maxChildren : ''} disabled />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div style={{ marginTop:12, display:'flex', gap:8, justifyContent:'center' }}>\r\n                <span title={(!isFormValid && !creating) ? tooltipText : ''} style={{ display:'inline-block' }}>\r\n                  <button className=\"ph-btn\" onClick={handleCreate} disabled={creating || !isFormValid} type=\"button\">{creating ? 'Đang tạo...' : 'Thêm phòng'}</button>\r\n                </span>\r\n                <button className=\"ph-btn ph-btn--secondary\" onClick={()=>setIsCreateOpen(false)} type=\"button\">Hủy</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {/* Không có modal chỉnh sửa tiện nghi */}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}