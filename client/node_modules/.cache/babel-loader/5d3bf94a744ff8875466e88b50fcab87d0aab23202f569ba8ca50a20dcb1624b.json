{"ast":null,"code":"import _objectSpread from\"D:/DA_TichHop/HMS_AI Hotel/client/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useEffect,useRef,useState}from'react';import{authHeaders,getUserRole}from'./auth';import NotificationsHistory from'./NotificationsHistory';import{mapNotifTitle as mapTitle,formatNotifTime as formatTime}from'./notificationsUtil';// Component Chuông thông báo + Dropdown\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function NotificationsBell(){const[open,setOpen]=useState(false);const[items,setItems]=useState([]);const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[unread,setUnread]=useState(0);const[markingAll,setMarkingAll]=useState(false);const[pulse,setPulse]=useState(false);const[showHistory,setShowHistory]=useState(false);const pollRef=useRef(null);const dropdownRef=useRef(null);const prevUnreadRef=useRef(0);// Poll số lượng chưa đọc\nuseEffect(()=>{let stopped=false;const poll=async()=>{try{const res=await fetch('/api/notifications/unread-count',{headers:_objectSpread({},authHeaders())});if(!res.ok){if(res.status===401||res.status===404){if(!stopped){prevUnreadRef.current=0;setUnread(0);}return;}throw new Error('HTTP '+res.status);}const j=await res.json();if(!stopped){const newCount=j.count||0;if(newCount>prevUnreadRef.current){setPulse(true);setTimeout(()=>setPulse(false),1200);}prevUnreadRef.current=newCount;setUnread(newCount);}}catch(_unused){}if(!stopped)pollRef.current=setTimeout(poll,10000);// 10s\n};// start polling\npoll();// cleanup: stop polling when effect unmounts\nreturn()=>{stopped=true;if(pollRef.current){clearTimeout(pollRef.current);pollRef.current=null;}};},[]);// React to auth changes (logout/login in same tab or other tabs)\nuseEffect(()=>{const onAuthChange=()=>{const raw=(()=>{try{return localStorage.getItem('hmsUser');}catch(_unused2){return null;}})();const hasUser=!!raw;if(!hasUser){// stop polling and clear state immediately\nif(pollRef.current){clearTimeout(pollRef.current);pollRef.current=null;}setUnread(0);prevUnreadRef.current=0;setItems([]);setOpen(false);setShowHistory(false);setError('');return;}// logged in: restart polling (if not already running) and refresh immediately\n(async()=>{try{const res=await fetch('/api/notifications/unread-count',{headers:_objectSpread({},authHeaders())});if(res.ok){const j=await res.json();const newCount=j.count||0;prevUnreadRef.current=newCount;setUnread(newCount);}else{prevUnreadRef.current=0;setUnread(0);}}catch(_unused3){prevUnreadRef.current=0;setUnread(0);}// If polling is not active, kick it off by reusing the same poll logic: set a timeout to trigger immediate poll\nif(!pollRef.current){// use setTimeout 0 to let current call stack finish and trigger poll effect's fetch path\npollRef.current=setTimeout(async()=>{try{const r=await fetch('/api/notifications/unread-count',{headers:_objectSpread({},authHeaders())});if(r.ok){const jj=await r.json();const newCount=jj.count||0;prevUnreadRef.current=newCount;setUnread(newCount);}else{prevUnreadRef.current=0;setUnread(0);}}catch(_unused4){prevUnreadRef.current=0;setUnread(0);}// schedule next poll\nif(pollRef.current){clearTimeout(pollRef.current);pollRef.current=setTimeout(()=>{/* next poll will be scheduled inside effect's own loop */},10000);}},0);}if(open){setLoading(true);setError('');try{const r=await fetch('/api/notifications?top=20',{headers:_objectSpread(_objectSpread({},authHeaders()),{},{'cache-control':'no-cache'})});if(!r.ok){if(r.status===401||r.status===404){setItems([]);setError('Không có quyền hoặc chưa đăng nhập');}else{const jj=await r.json().catch(()=>({}));setError(jj.message||'Lỗi tải thông báo');}}else{const jj=await r.json();setItems(Array.isArray(jj.items)?jj.items:[]);}}catch(e){setError(e&&e.message?e.message:'Lỗi tải');}finally{setLoading(false);}}})();};window.addEventListener('hms-auth-change',onAuthChange);window.addEventListener('storage',onAuthChange);return()=>{window.removeEventListener('hms-auth-change',onAuthChange);window.removeEventListener('storage',onAuthChange);};},[open]);// Tải danh sách khi mở\nuseEffect(()=>{if(!open)return;let active=true;setLoading(true);setError('');fetch('/api/notifications?top=20',{headers:_objectSpread(_objectSpread({},authHeaders()),{},{'cache-control':'no-cache'})}).then(async res=>{if(!res.ok){const j=await res.json().catch(()=>({}));throw new Error(j.message||'Lỗi tải thông báo');}return res.json();}).then(j=>{if(active)setItems(Array.isArray(j.items)?j.items:[]);}).catch(e=>{if(active)setError(e.message||'Không tải được');}).finally(()=>{if(active)setLoading(false);});return()=>{active=false;};},[open]);// Đóng khi click ngoài / Esc\nuseEffect(()=>{const onDoc=e=>{if(dropdownRef.current&&!dropdownRef.current.contains(e.target))setOpen(false);};const onEsc=e=>{if(e.key==='Escape')setOpen(false);};document.addEventListener('mousedown',onDoc);document.addEventListener('keydown',onEsc);return()=>{document.removeEventListener('mousedown',onDoc);document.removeEventListener('keydown',onEsc);};},[]);const markOne=async id=>{try{await fetch(\"/api/notifications/\".concat(id,\"/read\"),{method:'PUT',headers:_objectSpread({},authHeaders())});setItems(prev=>prev.map(it=>it.id===id?_objectSpread(_objectSpread({},it),{},{isRead:true}):it));setUnread(u=>Math.max(0,u-1));}catch(_unused5){}};const markAll=async()=>{setMarkingAll(true);try{await fetch('/api/notifications/read-all',{method:'PUT',headers:_objectSpread({},authHeaders())});setItems(prev=>prev.map(it=>_objectSpread(_objectSpread({},it),{},{isRead:true})));setUnread(0);}catch(_unused6){}finally{setMarkingAll(false);}};const role=getUserRole();return/*#__PURE__*/_jsxs(\"div\",{className:\"notif-bell-wrapper\",ref:dropdownRef,style:{position:'relative'},children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"home-header-icon notif-bell-btn \".concat(open?'is-open':''),onClick:()=>setOpen(o=>!o),\"aria-label\":\"Th\\xF4ng b\\xE1o\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/icon-bell.png\",alt:\"Bell\",className:\"home-header-icon-img\"}),unread>0&&/*#__PURE__*/_jsx(\"span\",{className:\"notif-badge \".concat(pulse?'notif-badge--pulse':''),\"aria-label\":\"\".concat(unread,\" th\\xF4ng b\\xE1o m\\u1EDBi\")})]}),open&&/*#__PURE__*/_jsxs(\"div\",{className:\"notif-dropdown\",role:\"menu\",style:{position:'absolute',top:'100%',right:0,marginTop:6,width:340,maxWidth:'90vw',background:'#fff',border:'1px solid #ddd',borderRadius:12,boxShadow:'0 4px 16px rgba(0,0,0,0.12)',zIndex:4000,overflow:'hidden',display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{padding:'10px 12px',borderBottom:'1px solid #eee',display:'flex',alignItems:'center',justifyContent:'space-between'},children:[/*#__PURE__*/_jsx(\"div\",{style:{fontWeight:700,fontSize:15},children:\"Th\\xF4ng b\\xE1o\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",disabled:unread===0||markingAll,onClick:markAll,style:{background:'none',border:'none',color:unread===0?'#999':'#0a67c1',cursor:unread===0?'default':'pointer',fontSize:12},children:markingAll?'Đang cập nhật...':'Đánh dấu tất cả đã đọc'})]}),/*#__PURE__*/_jsxs(\"div\",{style:{maxHeight:400,overflow:'auto',WebkitOverflowScrolling:'touch'},children:[loading&&/*#__PURE__*/_jsx(\"div\",{style:{padding:16,fontSize:13,color:'#666'},children:\"\\u0110ang t\\u1EA3i...\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{padding:16,fontSize:13,color:'#b42318'},children:error}),!loading&&!error&&items.length===0&&/*#__PURE__*/_jsx(\"div\",{style:{padding:16,fontSize:13,color:'#666'},children:\"Ch\\u01B0a c\\xF3 th\\xF4ng b\\xE1o.\"}),items.map(it=>/*#__PURE__*/_jsxs(\"div\",{className:\"notif-item \".concat(it.isRead?'is-read':''),style:{padding:'10px 12px 12px',paddingRight:16,borderTop:'1px solid #f1f1f4',background:it.isRead?'#fff':'#f5f9ff',position:'relative',cursor:'pointer'},onClick:()=>{if(!it.isRead)markOne(it.id);},role:\"button\",tabIndex:0,onKeyDown:e=>{if(e.key==='Enter'||e.key===' '){e.preventDefault();if(!it.isRead)markOne(it.id);}},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"notif-item-head\",style:{display:'flex',alignItems:'center',justifyContent:'space-between',gap:12},children:[/*#__PURE__*/_jsx(\"div\",{className:\"notif-item-title\",style:{fontSize:14,fontWeight:600,color:'#0a2540',marginBottom:2,lineHeight:1.2},children:mapTitle(it)}),!it.isRead&&/*#__PURE__*/_jsx(\"img\",{src:\"/icon-speaker.png\",alt:\"Unread\",className:\"notif-dot-top\",loading:\"lazy\"})]}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:13,lineHeight:1.4,color:'#333',whiteSpace:'pre-line',wordBreak:'break-word'},children:(()=>{const m=it.message||'';const match=/\\|\\|bookingId=(\\d+)/.exec(m);const plain=m.replace(/\\|\\|bookingId=\\d+/,'').trim();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{children:plain}),match&&/*#__PURE__*/_jsx(\"div\",{style:{marginTop:8},children:/*#__PURE__*/_jsx(\"span\",{className:\"notif-link-booking\",onClick:()=>{try{window.dispatchEvent(new CustomEvent('open-admin-bookings',{detail:{bookingId:Number(match[1])}}));}catch(_unused7){window.location.href='/';}},children:\"Xem \\u0111\\u01A1n\"})})]});})()}),/*#__PURE__*/_jsx(\"div\",{style:{fontSize:11,marginTop:6,color:'#667085'},children:formatTime(it.sentAt)})]},it.id))]}),/*#__PURE__*/_jsx(\"div\",{style:{borderTop:'1px solid #eee',padding:8,textAlign:'center'},children:/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setOpen(false);setShowHistory(true);},style:{background:'none',border:'none',color:'#0a67c1',fontSize:12,cursor:'pointer'},children:\"Xem t\\u1EA5t c\\u1EA3\"})})]}),showHistory&&/*#__PURE__*/_jsx(NotificationsHistory,{onClose:()=>setShowHistory(false)})]});}","map":{"version":3,"names":["React","useEffect","useRef","useState","authHeaders","getUserRole","NotificationsHistory","mapNotifTitle","mapTitle","formatNotifTime","formatTime","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","NotificationsBell","open","setOpen","items","setItems","loading","setLoading","error","setError","unread","setUnread","markingAll","setMarkingAll","pulse","setPulse","showHistory","setShowHistory","pollRef","dropdownRef","prevUnreadRef","stopped","poll","res","fetch","headers","_objectSpread","ok","status","current","Error","j","json","newCount","count","setTimeout","_unused","clearTimeout","onAuthChange","raw","localStorage","getItem","_unused2","hasUser","_unused3","r","jj","_unused4","catch","message","Array","isArray","e","window","addEventListener","removeEventListener","active","then","finally","onDoc","contains","target","onEsc","key","document","markOne","id","concat","method","prev","map","it","isRead","u","Math","max","_unused5","markAll","_unused6","role","className","ref","style","position","children","type","onClick","o","src","alt","top","right","marginTop","width","maxWidth","background","border","borderRadius","boxShadow","zIndex","overflow","display","flexDirection","padding","borderBottom","alignItems","justifyContent","fontWeight","fontSize","disabled","color","cursor","maxHeight","WebkitOverflowScrolling","length","paddingRight","borderTop","tabIndex","onKeyDown","preventDefault","gap","marginBottom","lineHeight","whiteSpace","wordBreak","m","match","exec","plain","replace","trim","dispatchEvent","CustomEvent","detail","bookingId","Number","_unused7","location","href","sentAt","textAlign","onClose"],"sources":["D:/DA_TichHop/HMS_AI Hotel/client/src/NotificationsBell.js"],"sourcesContent":["import React, { useEffect, useRef, useState } from 'react';\r\nimport { authHeaders, getUserRole } from './auth';\r\nimport NotificationsHistory from './NotificationsHistory';\r\nimport { mapNotifTitle as mapTitle, formatNotifTime as formatTime } from './notificationsUtil';\r\n\r\n// Component Chuông thông báo + Dropdown\r\nexport default function NotificationsBell(){\r\n  const [open, setOpen] = useState(false);\r\n  const [items, setItems] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [unread, setUnread] = useState(0);\r\n  const [markingAll, setMarkingAll] = useState(false);\r\n  const [pulse, setPulse] = useState(false);\r\n  const [showHistory, setShowHistory] = useState(false);\r\n  const pollRef = useRef(null);\r\n  const dropdownRef = useRef(null);\r\n  const prevUnreadRef = useRef(0);\r\n\r\n  // Poll số lượng chưa đọc\r\n  useEffect(()=>{\r\n    let stopped = false;\r\n    const poll = async () => {\r\n      try {\r\n        const res = await fetch('/api/notifications/unread-count', { headers: { ...authHeaders() } });\r\n        if (!res.ok) {\r\n          if (res.status === 401 || res.status === 404) {\r\n            if (!stopped) { prevUnreadRef.current = 0; setUnread(0); }\r\n            return;\r\n          }\r\n          throw new Error('HTTP '+res.status);\r\n        }\r\n        const j = await res.json();\r\n        if(!stopped) {\r\n          const newCount = j.count || 0;\r\n          if(newCount > prevUnreadRef.current) {\r\n            setPulse(true);\r\n            setTimeout(()=> setPulse(false), 1200);\r\n          }\r\n          prevUnreadRef.current = newCount;\r\n          setUnread(newCount);\r\n        }\r\n      } catch {}\r\n      if(!stopped) pollRef.current = setTimeout(poll, 10000); // 10s\r\n    };\r\n    // start polling\r\n    poll();\r\n    // cleanup: stop polling when effect unmounts\r\n    return ()=>{ stopped = true; if(pollRef.current) { clearTimeout(pollRef.current); pollRef.current = null; } };\r\n  }, []);\r\n\r\n  // React to auth changes (logout/login in same tab or other tabs)\r\n  useEffect(() => {\r\n    const onAuthChange = () => {\r\n      const raw = (() => { try { return localStorage.getItem('hmsUser'); } catch { return null; } })();\r\n      const hasUser = !!raw;\r\n      if (!hasUser) {\r\n        // stop polling and clear state immediately\r\n        if (pollRef.current) { clearTimeout(pollRef.current); pollRef.current = null; }\r\n        setUnread(0); prevUnreadRef.current = 0; setItems([]); setOpen(false); setShowHistory(false); setError('');\r\n        return;\r\n      }\r\n      // logged in: restart polling (if not already running) and refresh immediately\r\n      (async () => {\r\n        try {\r\n          const res = await fetch('/api/notifications/unread-count', { headers: { ...authHeaders() } });\r\n          if (res.ok) {\r\n            const j = await res.json();\r\n            const newCount = j.count || 0;\r\n            prevUnreadRef.current = newCount; setUnread(newCount);\r\n          } else { prevUnreadRef.current = 0; setUnread(0); }\r\n        } catch { prevUnreadRef.current = 0; setUnread(0); }\r\n        // If polling is not active, kick it off by reusing the same poll logic: set a timeout to trigger immediate poll\r\n        if (!pollRef.current) {\r\n          // use setTimeout 0 to let current call stack finish and trigger poll effect's fetch path\r\n          pollRef.current = setTimeout(async () => {\r\n            try {\r\n              const r = await fetch('/api/notifications/unread-count', { headers: { ...authHeaders() } });\r\n              if (r.ok) {\r\n                const jj = await r.json(); const newCount = jj.count || 0; prevUnreadRef.current = newCount; setUnread(newCount);\r\n              } else { prevUnreadRef.current = 0; setUnread(0); }\r\n            } catch { prevUnreadRef.current = 0; setUnread(0); }\r\n            // schedule next poll\r\n            if (pollRef.current) { clearTimeout(pollRef.current); pollRef.current = setTimeout(() => { /* next poll will be scheduled inside effect's own loop */ }, 10000); }\r\n          }, 0);\r\n        }\r\n        if (open) {\r\n          setLoading(true); setError('');\r\n          try {\r\n            const r = await fetch('/api/notifications?top=20', { headers: { ...authHeaders(), 'cache-control':'no-cache' } });\r\n            if (!r.ok) {\r\n              if (r.status === 401 || r.status === 404) { setItems([]); setError('Không có quyền hoặc chưa đăng nhập'); }\r\n              else { const jj = await r.json().catch(()=>({})); setError(jj.message||'Lỗi tải thông báo'); }\r\n            } else { const jj = await r.json(); setItems(Array.isArray(jj.items)? jj.items: []); }\r\n          } catch(e){ setError(e && e.message? e.message: 'Lỗi tải'); }\r\n          finally { setLoading(false); }\r\n        }\r\n      })();\r\n    };\r\n    window.addEventListener('hms-auth-change', onAuthChange);\r\n    window.addEventListener('storage', onAuthChange);\r\n    return () => { window.removeEventListener('hms-auth-change', onAuthChange); window.removeEventListener('storage', onAuthChange); };\r\n  }, [open]);\r\n\r\n  // Tải danh sách khi mở\r\n  useEffect(()=>{\r\n    if(!open) return; let active = true;\r\n    setLoading(true); setError('');\r\n    fetch('/api/notifications?top=20', { headers: { ...authHeaders(), 'cache-control':'no-cache' } })\r\n      .then(async res => { if(!res.ok){ const j = await res.json().catch(()=>({})); throw new Error(j.message||'Lỗi tải thông báo'); } return res.json(); })\r\n      .then(j => { if(active) setItems(Array.isArray(j.items)? j.items:[]); })\r\n      .catch(e => { if(active) setError(e.message||'Không tải được'); })\r\n      .finally(()=>{ if(active) setLoading(false); });\r\n    return ()=>{ active=false; };\r\n  }, [open]);\r\n\r\n  // Đóng khi click ngoài / Esc\r\n  useEffect(()=>{\r\n    const onDoc = (e)=>{ if(dropdownRef.current && !dropdownRef.current.contains(e.target)) setOpen(false); };\r\n    const onEsc = (e)=>{ if(e.key==='Escape') setOpen(false); };\r\n    document.addEventListener('mousedown', onDoc); document.addEventListener('keydown', onEsc);\r\n    return ()=>{ document.removeEventListener('mousedown', onDoc); document.removeEventListener('keydown', onEsc); };\r\n  }, []);\r\n\r\n  const markOne = async (id) => {\r\n    try {\r\n      await fetch(`/api/notifications/${id}/read`, { method:'PUT', headers: { ...authHeaders() } });\r\n      setItems(prev => prev.map(it => it.id===id ? { ...it, isRead:true }: it));\r\n      setUnread(u => Math.max(0, u-1));\r\n    } catch {}\r\n  };\r\n  const markAll = async () => {\r\n    setMarkingAll(true);\r\n    try { await fetch('/api/notifications/read-all', { method:'PUT', headers: { ...authHeaders() } });\r\n      setItems(prev => prev.map(it => ({ ...it, isRead:true })));\r\n      setUnread(0);\r\n    } catch {} finally { setMarkingAll(false); }\r\n  };\r\n\r\n  const role = getUserRole();\r\n\r\n  return (\r\n    <div className=\"notif-bell-wrapper\" ref={dropdownRef} style={{ position:'relative' }}>\r\n      <button type=\"button\" className={`home-header-icon notif-bell-btn ${open? 'is-open':''}`} onClick={()=> setOpen(o=>!o)} aria-label=\"Thông báo\">\r\n        <img src=\"/icon-bell.png\" alt=\"Bell\" className=\"home-header-icon-img\" />\r\n  {unread>0 && <span className={`notif-badge ${pulse? 'notif-badge--pulse':''}`} aria-label={`${unread} thông báo mới`}></span>}\r\n      </button>\r\n      {open && (\r\n        <div className=\"notif-dropdown\" role=\"menu\" style={{ position:'absolute', top:'100%', right:0, marginTop:6, width:340, maxWidth:'90vw', background:'#fff', border:'1px solid #ddd', borderRadius:12, boxShadow:'0 4px 16px rgba(0,0,0,0.12)', zIndex:4000, overflow:'hidden', display:'flex', flexDirection:'column' }}>\r\n          <div style={{ padding:'10px 12px', borderBottom:'1px solid #eee', display:'flex', alignItems:'center', justifyContent:'space-between' }}>\r\n            <div style={{ fontWeight:700, fontSize:15 }}>Thông báo</div>\r\n            <button type=\"button\" disabled={unread===0 || markingAll} onClick={markAll} style={{ background:'none', border:'none', color: unread===0 ? '#999':'#0a67c1', cursor: unread===0?'default':'pointer', fontSize:12 }}>\r\n              {markingAll? 'Đang cập nhật...':'Đánh dấu tất cả đã đọc'}\r\n            </button>\r\n          </div>\r\n          <div style={{ maxHeight: 400, overflow:'auto', WebkitOverflowScrolling:'touch' }}>\r\n            {loading && <div style={{ padding:16, fontSize:13, color:'#666' }}>Đang tải...</div>}\r\n            {error && <div style={{ padding:16, fontSize:13, color:'#b42318' }}>{error}</div>}\r\n            {!loading && !error && items.length===0 && <div style={{ padding:16, fontSize:13, color:'#666' }}>Chưa có thông báo.</div>}\r\n            {items.map(it => (\r\n              <div\r\n                key={it.id}\r\n                className={`notif-item ${it.isRead? 'is-read':''}`}\r\n                style={{ padding:'10px 12px 12px', paddingRight:16, borderTop:'1px solid #f1f1f4', background: it.isRead? '#fff':'#f5f9ff', position:'relative', cursor:'pointer' }}\r\n                onClick={()=> { if(!it.isRead) markOne(it.id); }}\r\n                role=\"button\"\r\n                tabIndex={0}\r\n                onKeyDown={e=> { if(e.key==='Enter' || e.key===' ') { e.preventDefault(); if(!it.isRead) markOne(it.id); } }}\r\n              >\r\n                <div className=\"notif-item-head\" style={{ display:'flex', alignItems:'center', justifyContent:'space-between', gap:12 }}>\r\n                  <div className=\"notif-item-title\" style={{ fontSize:14, fontWeight:600, color:'#0a2540', marginBottom:2, lineHeight:1.2 }}>{mapTitle(it)}</div>\r\n                  {!it.isRead && <img src=\"/icon-speaker.png\" alt=\"Unread\" className=\"notif-dot-top\" loading=\"lazy\" />}\r\n                </div>\r\n                <div style={{ fontSize:13, lineHeight:1.4, color:'#333', whiteSpace:'pre-line', wordBreak:'break-word' }}>\r\n                  {(() => {\r\n                    const m = it.message || '';\r\n                    const match = /\\|\\|bookingId=(\\d+)/.exec(m);\r\n                    const plain = m.replace(/\\|\\|bookingId=\\d+/, '').trim();\r\n                    return (\r\n                      <>\r\n                        <div>{plain}</div>\r\n                        {match && (\r\n                          <div style={{ marginTop:8 }}>\r\n                            <span className=\"notif-link-booking\" onClick={() => {\r\n                              try { window.dispatchEvent(new CustomEvent('open-admin-bookings', { detail: { bookingId: Number(match[1]) } })); } catch { window.location.href = '/'; }\r\n                            }}>Xem đơn</span>\r\n                          </div>\r\n                        )}\r\n                      </>\r\n                    );\r\n                  })()}\r\n                </div>\r\n                <div style={{ fontSize:11, marginTop:6, color:'#667085' }}>{formatTime(it.sentAt)}</div>\r\n              </div>\r\n            ))}\r\n          </div>\r\n          <div style={{ borderTop:'1px solid #eee', padding:8, textAlign:'center' }}>\r\n            <button type=\"button\" onClick={()=> { setOpen(false); setShowHistory(true); }} style={{ background:'none', border:'none', color:'#0a67c1', fontSize:12, cursor:'pointer' }}>Xem tất cả</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {showHistory && <NotificationsHistory onClose={()=> setShowHistory(false)} />}\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}