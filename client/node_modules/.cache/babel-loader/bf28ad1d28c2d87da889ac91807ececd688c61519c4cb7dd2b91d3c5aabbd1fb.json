{"ast":null,"code":"var _jsxFileName = \"D:\\\\Git\\\\HMSAI-Hotel\\\\client\\\\src\\\\StaffSupport.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport './HomePage.css';\nimport { authHeaders, getUserRole } from './auth';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function StaffSupport({\n  isModal,\n  onClose\n}) {\n  _s();\n  var _detail$ticket, _detail$ticket2, _detail$ticket$custom, _detail$ticket$custom2, _detail$messages;\n  const [list, setList] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [activeId, setActiveId] = useState(null);\n  const [detail, setDetail] = useState(null);\n  const [reply, setReply] = useState('');\n  const [sending, setSending] = useState(false);\n  const role = getUserRole();\n  const isStaff = role === 'Staff';\n  useEffect(() => {\n    if (!isStaff) return;\n    let alive = true;\n    const load = async () => {\n      setLoading(true);\n      setError('');\n      try {\n        const res = await fetch('/api/staff/support/tickets?_=' + Date.now(), {\n          headers: authHeaders()\n        });\n        if (!res.ok) throw new Error('HTTP ' + res.status);\n        const j = await res.json();\n        if (alive) setList(Array.isArray(j.items) ? j.items : []);\n      } catch (e) {\n        if (alive) setError(e.message || 'Lỗi tải danh sách');\n      } finally {\n        if (alive) setLoading(false);\n      }\n    };\n    load();\n    return () => {\n      alive = false;\n    };\n  }, [isStaff]);\n  useEffect(() => {\n    if (!activeId) {\n      setDetail(null);\n      return;\n    }\n    let alive = true;\n    const load = async () => {\n      setDetail(null);\n      try {\n        const res = await fetch(`/api/staff/support/tickets/${activeId}?_=${Date.now()}`, {\n          headers: authHeaders()\n        });\n        if (!res.ok) throw new Error('HTTP ' + res.status);\n        const j = await res.json();\n        if (alive) setDetail(j);\n      } catch (e) {\n        if (alive) setDetail({\n          error: e.message || 'Lỗi tải chi tiết'\n        });\n      }\n    };\n    load();\n    return () => {\n      alive = false;\n    };\n  }, [activeId]);\n  const sendReply = async () => {\n    if (!activeId || !reply.trim()) return;\n    setSending(true);\n    try {\n      const res = await fetch(`/api/staff/support/tickets/${activeId}/reply`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n          ...authHeaders()\n        },\n        body: JSON.stringify({\n          body: reply.trim()\n        })\n      });\n      if (!res.ok) throw new Error('Không gửi được phản hồi');\n      setReply('');\n      // reload detail\n      const r2 = await fetch(`/api/staff/support/tickets/${activeId}?_=${Date.now()}`, {\n        headers: authHeaders()\n      });\n      if (r2.ok) setDetail(await r2.json());\n    } catch (e) {\n      alert(e.message || 'Lỗi gửi phản hồi');\n    } finally {\n      setSending(false);\n    }\n  };\n  const resolveTicket = async () => {\n    if (!activeId) return;\n    if (!window.confirm('Đóng ticket này?')) return;\n    try {\n      const res = await fetch(`/api/staff/support/tickets/${activeId}/resolve`, {\n        method: 'POST',\n        headers: authHeaders()\n      });\n      if (!res.ok) throw new Error('Lỗi đóng ticket');\n      // refresh list and detail\n      setList(prev => prev.map(x => x.id === activeId ? {\n        ...x,\n        status: 'Closed'\n      } : x));\n      setDetail(d => d ? {\n        ...d,\n        ticket: {\n          ...d.ticket,\n          status: 'Closed'\n        }\n      } : d);\n    } catch (e) {\n      alert(e.message || 'Không thể đóng ticket');\n    }\n  };\n  if (!isStaff) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ph-table\",\n      style: {\n        padding: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"home-rooms-title\",\n        style: {\n          textAlign: 'left',\n          marginTop: 0\n        },\n        children: \"H\\u1ED7 tr\\u1EE3 kh\\xE1ch h\\xE0ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Ch\\u1EE9c n\\u0103ng n\\xE0y d\\xE0nh cho Nh\\xE2n vi\\xEAn.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin-rooms\",\n    style: {\n      padding: isModal ? 0 : '80px 12px 20px'\n    },\n    children: [!isModal && /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"home-header\",\n      style: {\n        position: 'sticky',\n        top: 0\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"home-header-left\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: \"/logo.png\",\n          alt: \"logo\",\n          className: \"home-header-logo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n          href: \"/\",\n          className: \"home-header-title home-header-home-btn\",\n          children: \"TRANG CH\\u1EE6\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"ph-table\",\n      style: {\n        padding: 16\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"home-rooms-title\",\n        style: {\n          textAlign: 'left',\n          marginTop: 0\n        },\n        children: \"H\\u1ED7 tr\\u1EE3 kh\\xE1ch h\\xE0ng (Nh\\xE2n vi\\xEAn)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 9\n      }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#666'\n        },\n        children: \"\\u0110ang t\\u1EA3i danh s\\xE1ch...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 20\n      }, this) : error ? /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: '#b42318'\n        },\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 88\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'grid',\n          gridTemplateColumns: '320px 1fr',\n          gap: 16\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: '1px solid #eee',\n            borderRadius: 8,\n            overflow: 'hidden'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: 8,\n              background: '#f7f7fb',\n              fontWeight: 700\n            },\n            children: \"Danh s\\xE1ch y\\xEAu c\\u1EA7u\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 109,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              maxHeight: 520,\n              overflow: 'auto'\n            },\n            children: list.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                padding: 12,\n                color: '#888'\n              },\n              children: \"Ch\\u01B0a c\\xF3 y\\xEAu c\\u1EA7u n\\xE0o.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 19\n            }, this) : list.map(it => /*#__PURE__*/_jsxDEV(\"button\", {\n              className: `ph-list-item ${activeId === it.id ? 'is-active' : ''}`,\n              onClick: () => setActiveId(it.id),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ph-list-title\",\n                children: it.subject\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ph-list-sub\",\n                children: [it.customerName || it.customerEmail || 'Khách', \" \\u2022 \", it.status]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `ph-badge ${it.status === 'Closed' ? 'ph-badge--gray' : it.status === 'Open' ? 'ph-badge--blue' : 'ph-badge--green'}`,\n                children: it.status\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 117,\n                columnNumber: 21\n              }, this)]\n            }, it.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 114,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            border: '1px solid #eee',\n            borderRadius: 8,\n            overflow: 'hidden'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: 8,\n              background: '#f7f7fb',\n              display: 'flex',\n              justifyContent: 'space-between',\n              alignItems: 'center'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                fontWeight: 700\n              },\n              children: (detail === null || detail === void 0 ? void 0 : (_detail$ticket = detail.ticket) === null || _detail$ticket === void 0 ? void 0 : _detail$ticket.subject) || (activeId ? `Ticket #${activeId}` : 'Chi tiết')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 124,\n              columnNumber: 17\n            }, this), !!activeId && (detail === null || detail === void 0 ? void 0 : (_detail$ticket2 = detail.ticket) === null || _detail$ticket2 === void 0 ? void 0 : _detail$ticket2.status) !== 'Closed' && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"ph-btn ph-btn--secondary\",\n              onClick: resolveTicket,\n              children: \"\\u0110\\xF3ng ticket\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 126,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 123,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              padding: 12,\n              minHeight: 360\n            },\n            children: !activeId ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#666'\n              },\n              children: \"Ch\\u1ECDn m\\u1ED9t ticket \\u0111\\u1EC3 xem chi ti\\u1EBFt.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 131,\n              columnNumber: 19\n            }, this) : !detail ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#666'\n              },\n              children: \"\\u0110ang t\\u1EA3i chi ti\\u1EBFt...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 133,\n              columnNumber: 19\n            }, this) : detail.error ? /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                color: '#b42318'\n              },\n              children: detail.error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 135,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginBottom: 8,\n                  color: '#444'\n                },\n                children: [\"Kh\\xE1ch h\\xE0ng: \", /*#__PURE__*/_jsxDEV(\"b\", {\n                  children: ((_detail$ticket$custom = detail.ticket.customer) === null || _detail$ticket$custom === void 0 ? void 0 : _detail$ticket$custom.name) || ((_detail$ticket$custom2 = detail.ticket.customer) === null || _detail$ticket$custom2 === void 0 ? void 0 : _detail$ticket$custom2.email) || '—'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 139,\n                  columnNumber: 35\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 138,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"ph-thread\",\n                children: (_detail$messages = detail.messages) === null || _detail$messages === void 0 ? void 0 : _detail$messages.map(m => /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `ph-msg ${m.role === 'Staff' ? 'ph-msg--staff' : 'ph-msg--cust'}`,\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ph-msg-meta\",\n                    children: [m.role === 'Staff' ? 'Nhân viên' : 'Khách', \" \\u2022 \", new Date(m.createdAt).toLocaleString('vi-VN')]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 144,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"ph-msg-body\",\n                    children: m.body\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 145,\n                    columnNumber: 27\n                  }, this)]\n                }, m.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 141,\n                columnNumber: 21\n              }, this), detail.ticket.status !== 'Closed' && /*#__PURE__*/_jsxDEV(\"div\", {\n                style: {\n                  marginTop: 12\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n                  className: \"rv-textarea\",\n                  rows: 4,\n                  placeholder: \"Nh\\u1EADp n\\u1ED9i dung ph\\u1EA3n h\\u1ED3i...\",\n                  value: reply,\n                  onChange: e => setReply(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 151,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  style: {\n                    display: 'flex',\n                    gap: 8,\n                    marginTop: 6\n                  },\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"ph-btn\",\n                    disabled: sending || !reply.trim(),\n                    onClick: sendReply,\n                    children: sending ? 'Đang gửi...' : 'Gửi phản hồi'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 153,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"ph-btn ph-btn--secondary\",\n                    onClick: () => setReply(''),\n                    children: \"X\\xF3a\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 27\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 152,\n                  columnNumber: 25\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 104,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 5\n  }, this);\n}\n_s(StaffSupport, \"lrh+Nkuj6L0Osh9cQHlFmJTqKfI=\");\n_c = StaffSupport;\nvar _c;\n$RefreshReg$(_c, \"StaffSupport\");","map":{"version":3,"names":["React","useEffect","useState","authHeaders","getUserRole","jsxDEV","_jsxDEV","Fragment","_Fragment","StaffSupport","isModal","onClose","_s","_detail$ticket","_detail$ticket2","_detail$ticket$custom","_detail$ticket$custom2","_detail$messages","list","setList","loading","setLoading","error","setError","activeId","setActiveId","detail","setDetail","reply","setReply","sending","setSending","role","isStaff","alive","load","res","fetch","Date","now","headers","ok","Error","status","j","json","Array","isArray","items","e","message","sendReply","trim","method","body","JSON","stringify","r2","alert","resolveTicket","window","confirm","prev","map","x","id","d","ticket","className","style","padding","children","textAlign","marginTop","fileName","_jsxFileName","lineNumber","columnNumber","position","top","src","alt","href","color","display","gridTemplateColumns","gap","border","borderRadius","overflow","background","fontWeight","maxHeight","length","it","onClick","subject","customerName","customerEmail","justifyContent","alignItems","minHeight","marginBottom","customer","name","email","messages","m","createdAt","toLocaleString","rows","placeholder","value","onChange","target","disabled","_c","$RefreshReg$"],"sources":["D:/Git/HMSAI-Hotel/client/src/StaffSupport.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport './HomePage.css';\r\nimport { authHeaders, getUserRole } from './auth';\r\n\r\nexport default function StaffSupport({ isModal, onClose }) {\r\n  const [list, setList] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [activeId, setActiveId] = useState(null);\r\n  const [detail, setDetail] = useState(null);\r\n  const [reply, setReply] = useState('');\r\n  const [sending, setSending] = useState(false);\r\n\r\n  const role = getUserRole();\r\n  const isStaff = role === 'Staff';\r\n\r\n  useEffect(() => {\r\n    if (!isStaff) return;\r\n    let alive = true;\r\n    const load = async () => {\r\n      setLoading(true); setError('');\r\n      try {\r\n        const res = await fetch('/api/staff/support/tickets?_=' + Date.now(), { headers: authHeaders() });\r\n        if (!res.ok) throw new Error('HTTP ' + res.status);\r\n        const j = await res.json();\r\n        if (alive) setList(Array.isArray(j.items) ? j.items : []);\r\n      } catch (e) { if (alive) setError(e.message || 'Lỗi tải danh sách'); }\r\n      finally { if (alive) setLoading(false); }\r\n    };\r\n    load();\r\n    return () => { alive = false; };\r\n  }, [isStaff]);\r\n\r\n  useEffect(() => {\r\n    if (!activeId) { setDetail(null); return; }\r\n    let alive = true;\r\n    const load = async () => {\r\n      setDetail(null);\r\n      try {\r\n        const res = await fetch(`/api/staff/support/tickets/${activeId}?_=${Date.now()}`, { headers: authHeaders() });\r\n        if (!res.ok) throw new Error('HTTP ' + res.status);\r\n        const j = await res.json();\r\n        if (alive) setDetail(j);\r\n      } catch (e) { if (alive) setDetail({ error: e.message || 'Lỗi tải chi tiết' }); }\r\n    };\r\n    load();\r\n    return () => { alive = false; };\r\n  }, [activeId]);\r\n\r\n  const sendReply = async () => {\r\n    if (!activeId || !reply.trim()) return;\r\n    setSending(true);\r\n    try {\r\n      const res = await fetch(`/api/staff/support/tickets/${activeId}/reply`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json', ...authHeaders() },\r\n        body: JSON.stringify({ body: reply.trim() })\r\n      });\r\n      if (!res.ok) throw new Error('Không gửi được phản hồi');\r\n      setReply('');\r\n      // reload detail\r\n      const r2 = await fetch(`/api/staff/support/tickets/${activeId}?_=${Date.now()}`, { headers: authHeaders() });\r\n      if (r2.ok) setDetail(await r2.json());\r\n    } catch (e) {\r\n      alert(e.message || 'Lỗi gửi phản hồi');\r\n    } finally {\r\n      setSending(false);\r\n    }\r\n  };\r\n\r\n  const resolveTicket = async () => {\r\n    if (!activeId) return;\r\n    if (!window.confirm('Đóng ticket này?')) return;\r\n    try {\r\n      const res = await fetch(`/api/staff/support/tickets/${activeId}/resolve`, { method: 'POST', headers: authHeaders() });\r\n      if (!res.ok) throw new Error('Lỗi đóng ticket');\r\n      // refresh list and detail\r\n      setList(prev => prev.map(x => x.id === activeId ? { ...x, status: 'Closed' } : x));\r\n      setDetail(d => d ? { ...d, ticket: { ...d.ticket, status: 'Closed' } } : d);\r\n    } catch (e) {\r\n      alert(e.message || 'Không thể đóng ticket');\r\n    }\r\n  };\r\n\r\n  if (!isStaff) {\r\n    return (\r\n      <div className=\"ph-table\" style={{ padding: 16 }}>\r\n        <h2 className=\"home-rooms-title\" style={{ textAlign: 'left', marginTop: 0 }}>Hỗ trợ khách hàng</h2>\r\n        <div>Chức năng này dành cho Nhân viên.</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin-rooms\" style={{ padding: isModal ? 0 : '80px 12px 20px' }}>\r\n      {!isModal && (\r\n        <header className=\"home-header\" style={{ position: 'sticky', top: 0 }}>\r\n          <div className=\"home-header-left\">\r\n            <img src=\"/logo.png\" alt=\"logo\" className=\"home-header-logo\" />\r\n            <a href=\"/\" className=\"home-header-title home-header-home-btn\">TRANG CHỦ</a>\r\n          </div>\r\n        </header>\r\n      )}\r\n      <div className=\"ph-table\" style={{ padding: 16 }}>\r\n        <h2 className=\"home-rooms-title\" style={{ textAlign: 'left', marginTop: 0 }}>Hỗ trợ khách hàng (Nhân viên)</h2>\r\n        {loading ? <div style={{ color:'#666' }}>Đang tải danh sách...</div> : error ? <div style={{ color:'#b42318' }}>{error}</div> : (\r\n          <div style={{ display:'grid', gridTemplateColumns:'320px 1fr', gap:16 }}>\r\n            <div style={{ border:'1px solid #eee', borderRadius:8, overflow:'hidden' }}>\r\n              <div style={{ padding:8, background:'#f7f7fb', fontWeight:700 }}>Danh sách yêu cầu</div>\r\n              <div style={{ maxHeight: 520, overflow:'auto' }}>\r\n                {list.length === 0 ? (\r\n                  <div style={{ padding:12, color:'#888' }}>Chưa có yêu cầu nào.</div>\r\n                ) : list.map(it => (\r\n                  <button key={it.id} className={`ph-list-item ${activeId===it.id ? 'is-active' : ''}`} onClick={()=> setActiveId(it.id)}>\r\n                    <div className=\"ph-list-title\">{it.subject}</div>\r\n                    <div className=\"ph-list-sub\">{it.customerName || it.customerEmail || 'Khách'} • {it.status}</div>\r\n                    <div className={`ph-badge ${it.status==='Closed' ? 'ph-badge--gray' : it.status==='Open' ? 'ph-badge--blue' : 'ph-badge--green'}`}>{it.status}</div>\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n            <div style={{ border:'1px solid #eee', borderRadius:8, overflow:'hidden' }}>\r\n              <div style={{ padding:8, background:'#f7f7fb', display:'flex', justifyContent:'space-between', alignItems:'center' }}>\r\n                <div style={{ fontWeight:700 }}>{detail?.ticket?.subject || (activeId ? `Ticket #${activeId}` : 'Chi tiết')}</div>\r\n                {!!activeId && detail?.ticket?.status !== 'Closed' && (\r\n                  <button className=\"ph-btn ph-btn--secondary\" onClick={resolveTicket}>Đóng ticket</button>\r\n                )}\r\n              </div>\r\n              <div style={{ padding: 12, minHeight: 360 }}>\r\n                {!activeId ? (\r\n                  <div style={{ color:'#666' }}>Chọn một ticket để xem chi tiết.</div>\r\n                ) : !detail ? (\r\n                  <div style={{ color:'#666' }}>Đang tải chi tiết...</div>\r\n                ) : detail.error ? (\r\n                  <div style={{ color:'#b42318' }}>{detail.error}</div>\r\n                ) : (\r\n                  <>\r\n                    <div style={{ marginBottom: 8, color:'#444' }}>\r\n                      Khách hàng: <b>{detail.ticket.customer?.name || detail.ticket.customer?.email || '—'}</b>\r\n                    </div>\r\n                    <div className=\"ph-thread\">\r\n                      {detail.messages?.map(m => (\r\n                        <div key={m.id} className={`ph-msg ${m.role==='Staff' ? 'ph-msg--staff' : 'ph-msg--cust'}`}>\r\n                          <div className=\"ph-msg-meta\">{m.role === 'Staff' ? 'Nhân viên' : 'Khách'} • {new Date(m.createdAt).toLocaleString('vi-VN')}</div>\r\n                          <div className=\"ph-msg-body\">{m.body}</div>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                    {detail.ticket.status !== 'Closed' && (\r\n                      <div style={{ marginTop: 12 }}>\r\n                        <textarea className=\"rv-textarea\" rows={4} placeholder=\"Nhập nội dung phản hồi...\" value={reply} onChange={(e)=>setReply(e.target.value)} />\r\n                        <div style={{ display:'flex', gap:8, marginTop:6 }}>\r\n                          <button className=\"ph-btn\" disabled={sending || !reply.trim()} onClick={sendReply}>{sending ? 'Đang gửi...' : 'Gửi phản hồi'}</button>\r\n                          <button className=\"ph-btn ph-btn--secondary\" onClick={()=> setReply('')}>Xóa</button>\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}