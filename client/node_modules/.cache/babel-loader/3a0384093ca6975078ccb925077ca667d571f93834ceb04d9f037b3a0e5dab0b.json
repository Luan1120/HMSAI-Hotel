{"ast":null,"code":"// Tiện ích dùng chung cho thông báo (tách để tái sử dụng)\nexport function mapNotifTitle(it){if(!it)return'Thông báo';// Prefer server-provided title when available (allows per-user/admin titles)\nif(it.title&&String(it.title).trim())return String(it.title).trim();switch(it.type){case'BookingPending':return'Yêu cầu đặt phòng đã gửi thành công';case'BookingConfirmed':return'Đặt phòng đã xác nhận';case'BookingCancelled':return'Đặt phòng đã bị hủy';default:return'Thông báo';}}export function formatNotifTime(dt){try{const d=new Date(dt);if(isNaN(d))return'';const now=Date.now();const diff=(now-d.getTime())/1000;if(diff<60)return'Vừa xong';if(diff<3600)return Math.floor(diff/60)+' phút trước';if(diff<86400)return Math.floor(diff/3600)+' giờ trước';const dd=String(d.getDate()).padStart(2,'0');const mm=String(d.getMonth()+1).padStart(2,'0');const yyyy=d.getFullYear();const hh=String(d.getHours()).padStart(2,'0');const mi=String(d.getMinutes()).padStart(2,'0');return\"\".concat(dd,\"/\").concat(mm,\"/\").concat(yyyy,\" \").concat(hh,\":\").concat(mi);}catch(_unused){return'';}}","map":{"version":3,"names":["mapNotifTitle","it","title","String","trim","type","formatNotifTime","dt","d","Date","isNaN","now","diff","getTime","Math","floor","dd","getDate","padStart","mm","getMonth","yyyy","getFullYear","hh","getHours","mi","getMinutes","concat","_unused"],"sources":["D:/DA_TichHop/HMS_AI Hotel/client/src/notificationsUtil.js"],"sourcesContent":["// Tiện ích dùng chung cho thông báo (tách để tái sử dụng)\r\nexport function mapNotifTitle(it){\r\n  if(!it) return 'Thông báo';\r\n  // Prefer server-provided title when available (allows per-user/admin titles)\r\n  if (it.title && String(it.title).trim()) return String(it.title).trim();\r\n  switch(it.type){\r\n    case 'BookingPending': return 'Yêu cầu đặt phòng đã gửi thành công';\r\n    case 'BookingConfirmed': return 'Đặt phòng đã xác nhận';\r\n    case 'BookingCancelled': return 'Đặt phòng đã bị hủy';\r\n    default: return 'Thông báo';\r\n  }\r\n}\r\n\r\nexport function formatNotifTime(dt){\r\n  try {\r\n    const d = new Date(dt);\r\n    if(isNaN(d)) return '';\r\n    const now = Date.now();\r\n    const diff = (now - d.getTime())/1000;\r\n    if(diff < 60) return 'Vừa xong';\r\n    if(diff < 3600) return Math.floor(diff/60)+ ' phút trước';\r\n    if(diff < 86400) return Math.floor(diff/3600)+ ' giờ trước';\r\n    const dd = String(d.getDate()).padStart(2,'0');\r\n    const mm = String(d.getMonth()+1).padStart(2,'0');\r\n    const yyyy = d.getFullYear();\r\n    const hh = String(d.getHours()).padStart(2,'0');\r\n    const mi = String(d.getMinutes()).padStart(2,'0');\r\n    return `${dd}/${mm}/${yyyy} ${hh}:${mi}`;\r\n  } catch { return ''; }\r\n}\r\n"],"mappings":"AAAA;AACA,MAAO,SAAS,CAAAA,aAAaA,CAACC,EAAE,CAAC,CAC/B,GAAG,CAACA,EAAE,CAAE,MAAO,WAAW,CAC1B;AACA,GAAIA,EAAE,CAACC,KAAK,EAAIC,MAAM,CAACF,EAAE,CAACC,KAAK,CAAC,CAACE,IAAI,CAAC,CAAC,CAAE,MAAO,CAAAD,MAAM,CAACF,EAAE,CAACC,KAAK,CAAC,CAACE,IAAI,CAAC,CAAC,CACvE,OAAOH,EAAE,CAACI,IAAI,EACZ,IAAK,gBAAgB,CAAE,MAAO,qCAAqC,CACnE,IAAK,kBAAkB,CAAE,MAAO,uBAAuB,CACvD,IAAK,kBAAkB,CAAE,MAAO,qBAAqB,CACrD,QAAS,MAAO,WAAW,CAC7B,CACF,CAEA,MAAO,SAAS,CAAAC,eAAeA,CAACC,EAAE,CAAC,CACjC,GAAI,CACF,KAAM,CAAAC,CAAC,CAAG,GAAI,CAAAC,IAAI,CAACF,EAAE,CAAC,CACtB,GAAGG,KAAK,CAACF,CAAC,CAAC,CAAE,MAAO,EAAE,CACtB,KAAM,CAAAG,GAAG,CAAGF,IAAI,CAACE,GAAG,CAAC,CAAC,CACtB,KAAM,CAAAC,IAAI,CAAG,CAACD,GAAG,CAAGH,CAAC,CAACK,OAAO,CAAC,CAAC,EAAE,IAAI,CACrC,GAAGD,IAAI,CAAG,EAAE,CAAE,MAAO,UAAU,CAC/B,GAAGA,IAAI,CAAG,IAAI,CAAE,MAAO,CAAAE,IAAI,CAACC,KAAK,CAACH,IAAI,CAAC,EAAE,CAAC,CAAE,aAAa,CACzD,GAAGA,IAAI,CAAG,KAAK,CAAE,MAAO,CAAAE,IAAI,CAACC,KAAK,CAACH,IAAI,CAAC,IAAI,CAAC,CAAE,YAAY,CAC3D,KAAM,CAAAI,EAAE,CAAGb,MAAM,CAACK,CAAC,CAACS,OAAO,CAAC,CAAC,CAAC,CAACC,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAC9C,KAAM,CAAAC,EAAE,CAAGhB,MAAM,CAACK,CAAC,CAACY,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAACF,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CACjD,KAAM,CAAAG,IAAI,CAAGb,CAAC,CAACc,WAAW,CAAC,CAAC,CAC5B,KAAM,CAAAC,EAAE,CAAGpB,MAAM,CAACK,CAAC,CAACgB,QAAQ,CAAC,CAAC,CAAC,CAACN,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CAC/C,KAAM,CAAAO,EAAE,CAAGtB,MAAM,CAACK,CAAC,CAACkB,UAAU,CAAC,CAAC,CAAC,CAACR,QAAQ,CAAC,CAAC,CAAC,GAAG,CAAC,CACjD,SAAAS,MAAA,CAAUX,EAAE,MAAAW,MAAA,CAAIR,EAAE,MAAAQ,MAAA,CAAIN,IAAI,MAAAM,MAAA,CAAIJ,EAAE,MAAAI,MAAA,CAAIF,EAAE,EACxC,CAAE,MAAAG,OAAA,CAAM,CAAE,MAAO,EAAE,CAAE,CACvB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}